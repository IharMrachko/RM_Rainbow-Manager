(function(){var e={72:function(e,t,a){"use strict";e.exports=a.p+"img/buba-c-10.ddf5945f.png"},79:function(e,t,a){"use strict";e.exports=a.p+"img/confirm-ios-en.8fc6fbb0.jpg"},231:function(e,t,a){"use strict";e.exports=a.p+"img/buba-0.08ee1797.png"},352:function(e,t,a){"use strict";e.exports=a.p+"img/install-ios-en.994431ce.jpg"},622:function(e,t,a){"use strict";e.exports=a.p+"img/menu-ios-en.7dd4ed2a.jpg"},623:function(e,t,a){"use strict";e.exports=a.p+"img/buba-c-4.11be29f2.png"},651:function(e,t,a){"use strict";e.exports=a.p+"img/buba-c-0.392c85c6.png"},698:function(e,t,a){"use strict";e.exports=a.p+"img/buba-5.4025d0e8.png"},708:function(e,t,a){"use strict";e.exports=a.p+"img/buba-c-7.de2d8734.png"},931:function(e,t,a){"use strict";e.exports=a.p+"img/buba-c-8.161d46d6.png"},1299:function(e,t,a){"use strict";e.exports=a.p+"media/ai-light-ru.f1803bda.mp4"},1459:function(e,t,a){"use strict";e.exports=a.p+"img/buba-4.b7e9e275.png"},1500:function(e,t,a){"use strict";e.exports=a.p+"img/buba-3.08bbfb0c.png"},1561:function(e,t,a){"use strict";e.exports=a.p+"img/buba-5.4025d0e8.png"},1628:function(e,t,a){"use strict";e.exports=a.p+"img/img-01.65cd3f0f.png"},1650:function(e,t,a){"use strict";e.exports=a.p+"img/buba-c-1.0749c99e.png"},2425:function(e,t,a){"use strict";e.exports=a.p+"img/buba-c-9.906bbb3d.png"},2534:function(e,t,a){"use strict";e.exports=a.p+"img/buba-c-5.e2302449.png"},2823:function(e,t,a){"use strict";e.exports=a.p+"img/rainbow-folder.e49409a1.png"},3024:function(e,t,a){"use strict";e.exports=a.p+"img/menu-android.2374171e.jpg"},3127:function(e,t,a){"use strict";e.exports=a.p+"assets/pdf/lookbook.c68d2dfa.pdf"},3213:function(e,t,a){"use strict";e.exports=a.p+"img/buba-c-6.67ac0ca5.png"},3536:function(e,t,a){"use strict";e.exports=a.p+"img/buba-4.b7e9e275.png"},3695:function(e,t,a){"use strict";e.exports=a.p+"img/buba-c-7.de2d8734.png"},3902:function(e,t,a){"use strict";e.exports=a.p+"img/buba-c-6.67ac0ca5.png"},4156:function(e,t,a){var l={"./buba-0.png":231,"./buba-1.png":6590,"./buba-2.png":9013,"./buba-3.png":1500,"./buba-4.png":1459,"./buba-5.png":698,"./buba-6.png":9681,"./buba-c-0.png":651,"./buba-c-1.png":1650,"./buba-c-10.png":72,"./buba-c-11.png":4289,"./buba-c-2.png":6793,"./buba-c-3.png":5616,"./buba-c-4.png":623,"./buba-c-5.png":2534,"./buba-c-6.png":3213,"./buba-c-7.png":708,"./buba-c-8.png":931,"./buba-c-9.png":9354};function o(e){var t=s(e);return a(t)}function s(e){if(!a.o(l,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return l[e]}o.keys=function(){return Object.keys(l)},o.resolve=s,e.exports=o,o.id=4156},4216:function(e,t,a){"use strict";e.exports=a.p+"img/buba-c-0.392c85c6.png"},4239:function(e,t,a){"use strict";e.exports=a.p+"img/rainbow.4cba4dae.png"},4289:function(e,t,a){"use strict";e.exports=a.p+"img/buba-c-11.557d8b47.png"},4358:function(e,t,a){"use strict";e.exports=a.p+"img/install-ru.df512347.jpg"},4405:function(e,t,a){"use strict";e.exports=a.p+"img/confirm-en.c7d0e29a.jpg"},4594:function(e,t,a){"use strict";e.exports=a.p+"img/buba-6.259ea03b.png"},4678:function(e,t,a){"use strict";e.exports=a.p+"media/ai-dark-en.82b92e14.mp4"},5306:function(e,t,a){var l={"./buba-c-0.png":651,"./buba-c-1.png":1650,"./buba-c-10.png":72,"./buba-c-11.png":4289,"./buba-c-2.png":6793,"./buba-c-3.png":5616,"./buba-c-4.png":623,"./buba-c-5.png":2534,"./buba-c-6.png":3213,"./buba-c-7.png":708,"./buba-c-8.png":931,"./buba-c-9.png":9354};function o(e){var t=s(e);return a(t)}function s(e){if(!a.o(l,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return l[e]}o.keys=function(){return Object.keys(l)},o.resolve=s,e.exports=o,o.id=5306},5364:function(e,t,a){"use strict";e.exports=a.p+"img/install-en.39561602.jpg"},5616:function(e,t,a){"use strict";e.exports=a.p+"img/buba-c-3.a7358301.png"},5842:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDE0IDc5LjE1Njc5NywgMjAxNC8wOC8yMC0wOTo1MzowMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OTk2QkI4RkE3NjE2MTFFNUE4NEU4RkIxNjQ5MTYyRDgiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OTk2QkI4Rjk3NjE2MTFFNUE4NEU4RkIxNjQ5MTYyRDgiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NjU2QTEyNzk3NjkyMTFFMzkxODk4RDkwQkY4Q0U0NzYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NjU2QTEyN0E3NjkyMTFFMzkxODk4RDkwQkY4Q0U0NzYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5WHowqAAAXNElEQVR42uxda4xd1XVe53XvvD2eGQ/lXQcKuDwc2eFlCAGnUn7kT6T86J/+aNTgsWPchJJYciEOCQ8hF+G0hFCIHRSEqAuJBCqRaUEIEbmBppAIBGnESwZje8COZ+y587j3PLq+ffadGJix53HvPevcuz60xPjec89ZZ+39nf04+9vLSZKEFArFzHA1BAqFEkShUIIoFEoQhUIJolAoQRQKJYhCoQRRKJQgCoUSRKFQKEEUCiWIQrFo+Gv/8/YH+f/nsMWSHHMChyhxqPTTdyncWyJ3ScD/ztipiB3wXSqu6P17avN+TyFC5ggv4tRnmoxWTP1+5F+Mz17GPvPl49EKBWd3UsfXllPiso8VcYtmPba3fNuKrBVXrGFCbrdPwXndFL49ltI367roOpSUI4pGypv9s7q+ltj6JxqOQ07Bo/DgxGb2/a8cX0CnAWXJ5etz2TqdHiXHKlKj9w6i9XX8Ic41DmI8FVHhmmXk85MmRhCzJoiTWnig9LfJRHihgydxzAxJhBr7Bh/hK3yu+p9568FliTJF2aKMZfVd/kQOcKP6OBmS9+Rjm4zJ6faoeN0gOUn61MncLX4CJ+MRhe+P/dRxhfew2Df4CF/hs4jWg8vQYUKYMuWyRRkLjeHQ8YP0Z9mekVjA8Qj3VVcuoeDiXu63lkUE0ym6FA5PXBaNVr7qtPumGyPR4Bt8hK/wWUR5chn6XJYoU5StUHL8l+XEx2axhkS6yk+chJuP4rXLyOkIKJkS0B67adcqfL/0Y4pixxSysK6V8Yl9Mz7i3272NRFlhzJsu24Z5l9E9Ahmwfrpoj7uw3fZtktsRZKjIXnndlLxin7+W8ZTBwPf6I+Tg9HwxK2Ob8citbCoBoaxBxMCvsFH+CqjHCtUvLzflKWUcpwB91gupG5f9/Rtx39ZZBtmWyJtphKzHTQW0diP36b4aJmcLj/zGaSkHJPb4SWFi/tOJd8bTqd9s48VBRh4RKeUX/vjgXg8cpyCmz05xkJylxSoa8M5RF0eJaVIIkGOsg2yTc3UgpD94psiWxEOqDNYoOIXuHnGwE5AXUTFi46FTnRw4l/dwEm7/pSxcYnCF/gE3zInh52RRJkVP7/MlKFQcgCbjifHTAQBfsb2qsgBO3e1Cpf3UXBej3nRJKKrxU/rcH/pKzz4vNIQuRJTEmZklbg6EL4SPsE3GQPzinmfhbJDGQolB+r8w58abs5y8DqRt4ABeptLRR7koY9NleybEYw/MPisvF/ayT1/SvDewcnIcG32wfiCAbEvoCZyGaGsitdyz6XdTctQJq6fcT5mloNfYvu5yFZkpEz+RT0UrFoqpxVBV+vQxIrkaPnrbqdvXs6hcjbU+Jq4Nvvwd/BFRNeq2npwWfkX95iyE9p6PM72P/MhCPANTBSKu5WITHcC074Y9CUTkYglKBgcV/aVtlM5Kpp/RHFjDdfka7MP/2wG6m72661QNigjlBXKTGBtsjWKNs5atCf44Uds3xc5YD8Wknd2BxWuGjCzIxLWQzlFj+IjU108OL7bafM5sm5DDdfka/8T+9AJXyTMpqFsUEYoK5SZ0NbjVlvX500Q4Ha2A+JuCcEvhVS8qp/8MzspHhMSfO7mVPaP35BMRp9JsCQldbX+hmvxNfnamzJfqVvtWnGZoGxQRigroYs6UbfvOGHn4ORVkTaIbEWwtqg3MNO+Zql0JGCdVuCayhDuG9uJB7vp+oR17FbZc+NauCauLWLmKkqXr6NsUEYoK6GtxwY6CXXnEs0n2faIHLCPhhR8bikFKwRN+xZddHWu5a7Ol9yCZ2ZwHKdOxufGNeKRqS/hmnLWW1VMmQSrl5oyEkqOPbZu02IJAsic9sU7B+5uF9cOmqUfeLOdOaAZYb/CA+M/Ic9NxUoYMNfD/PT84f7xB807EAnrrbgMUBZt1w1SEpCIqfjF1Om5EuQNth0iu1r8tPLP76LCpX2yWpHDk2dGH018p6brtD5hOHf04cR3okOTZ0lqPVAW3gVdlMhdrfsTW6drRhDgRrYJcbeKZQxTkenvegNt6YBQwrQvOxG+P3ZHEia9TuClS9Br1XKge8XnxLlxjelzZ/2w4tijDMxyoHIsVQg1zvYPcy7KeZx4jG2zyFakFJF7Whu1XT2QvhfJeryeVNdplYPo4Pi9hKd7VVxVC8O5cH4+N65hXgoKuGfEHmWAskjGxI49Ntu6XHOCAD9ie1PcLSepjDNY00fB8m6KpSyJx/jgg9LfJEfLK40818w+LXY5e5zKaMfKl+DcIlSCZp0cd3U59igDI4+WOa2LunvfvDoD9RrcNLqAjDy3yzfrtKqbAkggSDIZmSlYxzz9a8BaJ101zF2rh3BuSTJaCKGMDEGujHbedXch0X2ebbdEkkDC6a9cQoWVguS53P0JP5xcHY1W/tppD9KxgrdAw5QxnwPn4nOukrPeqkzBJb0m9oJltLtt3a07QYD1IkMAeS7/hw0BXMhzJwXJc/eV7kuiyIN8OOGuUhLP06JUeoxz4FxiZLRouTsDM9WO2OdBRtsIgrzHtk3kgH00JO+cTipc2S9jqyCaluf2xwcnfuB6LndHuEsSzdP4N/gtzoFzSZHRIsaQQiPmidyXgttsnW0YQYDvsh2ROGBPxkMqXjNA/qlCFsnZ8UdlX+kfk0pymlnMWH2JOBfz0sWI+C3OMS1dzPphhPVWHOPC5wdMzIUOzFFHb1lwB2ARF+ZOPt0gshWBPLe/wCRZlu6CIkSei/cE0fD4g2ZbVWceyxH5WPwGvzXrrSTJaDnG7oBoGS3qaCULggCPsv1W5IAd8tzLllJwvpx1WthMIfyg9OVotHy1WVQ4V37wsfgNfkuSZLQcW8Q4lruU/RVbRykrggDXiwwN3uQWnXTa1xMkz2W/on2lndNajpNtAGePw2/MOicBMlqs+8K7GBNbjrFgGe2iX0nUgiAvs+0S2YpgndaFPVRc3SdmVanZlfGjifOiw5PrT/oGvPpG/vDkEH4jZ70Vt86rl5rYimmdP41/s3Uzc4Isup9XNxwvz+0tyNAlONPrtO6hctR+QnluKqNt52O3pxvtClhvxTH0egtmEwbBMlrUxU21OFGtCHKYbavIATv3j90z26kIea4QZRtahfhIuT0anrjH7O3rpjNVHzPIaLG3Lh8Tj5TbRQihjlNyehxTwTLarbZOiiEIcBfbPnGhMtroChXW9JN/VqeYdyPEY4nwwPj6ZCL8C1T+T61JhDqRv8MxZgwlJG2BxzEsrBmgeEzseqt9ti6SNIIA8t6wm901eFDZ66d7M4UkQ56LVgTTvvtKaRqFqoTWymjxGb6LpUzrImYcuzaOIWKJmAptPWpaB2sd+V+yvSB1wB6s7qXgwiUyBpbJdBqFq6MjU18mKCKhRsTyEbx558/wnRmYJzLiV+DYBat6JQ/MX7B1UCxBAKHy3IQrH6W7MhY9MWkUMNAN948/8Mm35/jMDIKlpC3gmBWQtsAjifkE61b36kGQP7DdL7KrVZXnXiYpjYKZxj09Gh7f4kB4yIa/8ZmU1brIIYiYIXaJ3Nbjflv3xBME+DZbSVwIzfIIK89dJkSea18Ihu+XflD9yPztCJnW5Ri5VRntpNh8giVb5ygvBIHu9yaRrchYRO6fFU0CSTPQlDLte6zshx9O3g3D3yJajySd4EDaAsQMsRPaetxk61zty+YTCXRqjf9jO19cOLnyYV+p8QffpcreMXJ7BeRgh77Ds6SIYhGbMBgB2tld1DW0nGL4VxbZfKBbdUHdhol1dl7mOi0MOjttGgWT11lAwU9r1mMSsX0oxwSxgYyWOvKXtiAvBPkV239I7GqZdVqX9FDw2V5+UoYipn2nt/WRMK3LMQlW9poYCZ7WfcrWsdwSBNggMrRYdcLdhjas0+q28lzJOc8bOU7jWLh2AwzEyLxclYm6Z2ZuBEE+YLtTZEVA9tzPdBh5biJ3q5rGD8yRjXbNAPkcm0RuyjTUqf3NQBDge2yHJFaGeDyi4tUD5J3WIXmzs8Y9NDgG3un80OCYIDZCHxqHbJ2iZiEIGmnB8twgzYIkd7vMxiBON59GLJyBQLKMdiM1qOPXyMn2f2f7X5EDdshzkUbhAtED0oZMXCAGiIXgtAW/YXusURdr9NsoufLcgmP20zKy2ErrNSNGRuunMUAshL7zABq61q/RBPkd2yNSn57+X3ZTQZA8t7H3H5p7RwwEt6KP2DrUtAQBIIUsiwt99Kf+tydFntuocVhVRltNWyBTRlumGslopRNkhO1mkRVlLCT3jHYzqyU48WSN+1ZWRou0BZDRyp3Ju9nWnaYnCHA3216JlQWy0gKy557dJSaNQn0nKNL1VrhnwTLavbbOUKsQBBApzzVpFHqsPFdIGoW6AfeG7cMwrcv3TC0io80LQZ5me07kU3WkYqSlhYvkpFGoz8C8bO7RyGjlpi14ztaVliMIIFOeizQKbpI+WdsDGfLcWvcmsaK53b4gdUW3lENZXjxrgrzNdq/IAftohbzzOql4eV/zjUUcu96K7w33KFhGi7rxVisTBEBSxWPiiqYqz71mGfmDQuS5tSIHstHyPZnd7+XKaI+RgKSxEggySWmKaXkVaSwi5xSbRmGiSdZpxVZGy/eEexMso73R1o2WJwiwk+11kQNZrNO6oo+Cc7vz39Wy07q4l+CKfnNvQu/ndVsnSAkifcCOAXq7R8W1y9JdRvI87QvfnTRtgdPeujLavBLkv9meEPnUHS2Tf1EPFT67lOKRnE77munrsrkH/+IeydPXqAO/VoLMDMhz5T2irTzXpFHoKeRPnluV0XYX0mlduTLamIRJtKUR5CDbbSIrGPfX/eUdVFyTQ3luku6OaNIW/HmH5LQFt9k6oAQ5Ab7PNiyxkmGndUhRvTNyJM9F1wrZaM9IZbQmG63MocewxIejRIKg+DaKbEXGI3KWBtT2hUFKyonUZeEfB3xkX4vsM3wXvIx/IwmMqCu0WH/B9qLIpzG6Wp/rpWBFj/x1WnaCAb4G7LPgad0XbZmTEmTukDnti0yzgZvKcwNPtDzXyGjZR5ONFincVEbbVAR5je0hkU/lkTL5F3TZzQ2EvjysJr1hH/0LuiVPTz9ky1oJsgB8iwQsN5hplISns5Hn9hXl9eurMlr2zUzrVsQuk5m0ZUxKkIXhKNsWkQN2yHNPhzx3WbqQMRZGYCOjXWZ8FDzjtsWWsRJkEfgh2zvyOvhWnovsucu75GTPtdlo4RN8i+W+s3nHli0pQRaPIXEeVeW53V46YJciz2Uf4IvxiX0juW/9h/JQ8fJCkGfZnpE5YK9QsHIJBZcIkOdW141d3Gt8EiyjfcaWqRKk6Z84kOc6duODjmzluUZGyz4g6Q18UhltaxHkXbbtIgfsRyvknQt5bobZc6dltP3Gl0SudmW7LUslSJ1mPUbFeWVUepDnDpB3SgazRtW0BXxt+ABfhE7rypyVbCKCTLF9U2QrgjQKg3b7zskGv3eI0+XsuDZ8EJy2YJMtQyVIHfEztldFDtghz728j4LzGphGoZq2gK9ZMDuwiH3ngTJ7OG+VLY8EAeTKc9ts9lwk42zEOi2st+JrYZIA1xYso12Xx4qWV4K8xPZzka3ISCrPDVY1YJ1WtfVYZWW0ctdbPW7LTAnSQHyDJCoykEYhTNdpuUsK6YDZqQ85cG5cw6y3CsWmLYBXG/NayfJMkI8oVR/KG7AfC8k7u4MKVw2kM1r1eB2RpDNXuAauJVhGe6stKyVIBrid7YA4r6o5N5BG4cxOI3mtaeWtymj53LiG4FwmKJs78lzB8k4QVIsN4ryqynN7AzP1ShXIc2tYg3GuSpJO6/aKltHK3KWmhQgCPMm2R+SAfTSkANlzV9Rw2rc6MDcyWtHZaPfYsiElSPaQOYVYiSnxiIprB8kpeGn+v8U2mZD8FjxzTpybKjqtqwQ5Od5g2yGyq4Xsued3UeHSvsW3IlUZLZ8L5xSctmCHLRMliCBgN/AJcV7F6SpbjBe8gUWkUaimLeBzmOUsU2JltOMkcbd+JQiNkYB8ErNVbPe0Nmq72i4kXMiwNUnfe+AcOJfgfCWbbVkoQQTiR2xvivPKynODNX0ULF9AGoVq2gL+Lc4hWEaL2N/XTBWq2Qgic3BYled2+ekeVfOV51az0WKNF59DsIx2XbNVpmYkyPNsuyWSBBJYf+USKsxHnlvNRsu/8WXLaHfb2CtBcoD1Ir2CPJf/wxSt2xmkupGT9c6QtoCPNdO66FfJldGub8aK1KwEeY9tm8gB+2hI3jmdVLii/+RbBdktfHAsfpPIfSm4zcZcCZIjfJftiMQBO1IQQBrrn3qCRYZ20SOOMTLacbHrrRDjW5q1EjUzQbiTTzeIbEUgz+232XNne59RfX+CbLT9omW0iHFFCZJPPMr2W5EDdshzL1tKwfkzrNOqrrfi73CMYBntKzbGpATJL64X6RXWZRVtxlnP+VgaBZO2wEu/wzGatkAJUk+8zLZLZCuCdVoXciux+rhVuXYVMD7Dd7Hc9Va7bGyVIE0Amf3kaXnuIHm9qTwXhr/xmWAZbUXk+E4JsmAcZtsqcsAOee6Z7VS08lwY/sZngmW0W21MlSBNhLvY9onzCqtIxipUuKqf3L6iMfyNz4RO6+6zsWwJ+NRawNvep8S1IhMxucie+8VT0o+6PIqPiB17rG+lCtNqBPkl2wts14gbsCONwqVLzT8Fr7d6wcawZeBS60Hm1GSSTu+a6d5EY6cEyQ5/YLtf4oCd4iQ1ma3H/TZ2SpAWwLfZSqSYK0o2ZqQEaQ1AN32T1vs54yYbMyVIC+GBVuwyLLBL+kCr3rzb4oV/vdZ/jZESZHb8iqS9F5GFp2yMlCAtjCENgcZGCTI79rPdqWH4FO60sVGCKOh7bIc0DNM4ZGNCShAFEFKOsyDVARttTJQgGoJpPMb2Gw2DicFjGgYlyExYpyHQGChBZsfv2B5p4ft/xMZAoQSZFZso3TKo1VC2965QgpwQI2w3t+B932zvXaEEOSnuZtvbQve7196zQgkyZ6zXe1UoQWbH02zPtcB9PmfvVaEEmTeG9B6VIIrZ8RbbvU18f/fae1QoQRYMJKU81oT3dYwkJj1VguQOk9REaY2Pw4323hRKkEVjJ9vrTXQ/r9t7UihBaobr9V6UIIrZ8Wu2J5rgPp6w96JQgtQcG2jmhGl5QWzvQaEEqQsOst2WY/9vs/egUILUtZIN59Dv4ZyTWwmSEyDnUx7luRtJar4qJUjT4RdsL+bI3xetzwolSMOwTn1Vgihmx2tsD+XAz4esrwolSMPxLZK9XGPS+qhQgmSCo2xbBPu3xfqoUIJkhh+yvSPQr3esbwolSOYYUp+UIIrZ8SzbM4L8ecb6pFCC6BNbWw8lSB7wLtt2AX5st74olCDikPWskfRZNSVIi2OKst2+c5P1QaEEEYuH2V7N4Lqv2msrlCDisa5FrqkEUSwIL7E93sDrPW6vqVCC5AaN0l/kVZ+iBGlxfMR2awOuc6u9lkIJkjvcwXagjuc/YK+hUILkEgnVdxeRDfYaCiVIbvEk2546nHePPbdCCZJ7rMvJORVKkEzwBtuOGp5vhz2nQgnSNMBu6uM1OM84Nedu80qQFscY1SYfx2Z7LoUSpOlwH9ubi/j9m/YcCiWIDth1YK4EaUU8z7Z7Ab/bbX+rUII0PdY36DcKJUgu8R7btnkcv83+RqEEaRncwnZkDscdsccqlCAthQrbDXM47gZ7rEIJ0nJ4lO2VE3z/ij1GoQRpWaxb4HcKJUhL4GW2XTN8vst+p1CCtDw+Oc6Y6/hEoQRpCRxm23rcv7fazxRKEIXFXZRuwBDZvxUC4GsIREHflguDkyQqaVYotIulUChBFAoliEKhBFEolCAKhRJEoVCCKBRKEIVCCaJQKJQgCoUSRKFQgigUShCFIhP8vwADACog5YM65zugAAAAAElFTkSuQmCC"},5965:function(e,t,a){"use strict";e.exports=a.p+"img/buba-1.6b524075.png"},5972:function(e,t,a){"use strict";e.exports=a.p+"img/buba-0.08ee1797.png"},6226:function(e,t,a){"use strict";e.exports=a.p+"img/buba-c-11.557d8b47.png"},6371:function(e,t,a){"use strict";e.exports=a.p+"media/ai-dark-ru.4bc3df57.mp4"},6590:function(e,t,a){"use strict";e.exports=a.p+"img/buba-1.6b524075.png"},6602:function(e,t,a){"use strict";e.exports=a.p+"img/install-ios-ru.f764a6e4.jpg"},6698:function(e,t,a){"use strict";var l=a(5130),o=a(6768);function s(e,t,a,l,s,n){const i=(0,o.g2)("app-toaster"),r=(0,o.g2)("app-dialog"),c=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(i),(0,o.bF)(r),(0,o.bF)(c)],64)}var n=a(144),i=a(782),r=a(5931),c=a(4232);const u={class:"toast-container"},d={class:"toast-icon"},p={class:"toast-message"},m=["onClick"];function g(e,t,a,s,n,i){const r=(0,o.g2)("font-awesome-icon");return(0,o.uX)(),(0,o.Wv)(o.Im,{to:"body"},[(0,o.Lk)("div",u,[(0,o.bF)(l.F,{name:"toast",tag:"div"},{default:(0,o.k6)(()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.toasts,t=>((0,o.uX)(),(0,o.CE)("div",{id:"toastTest",key:t.id,class:(0,c.C4)(["toast",t.severity])},[(0,o.Lk)("span",d,[(0,o.bF)(r,{icon:e.iconClass(t.severity)},null,8,["icon"])]),(0,o.Lk)("span",p,(0,c.v_)(e.t(t.message)),1),(0,o.Lk)("div",{class:"toast-progress",style:(0,c.Tr)({animationDuration:t.duration+"ms"})},null,4),(0,o.Lk)("div",{class:"toast-delete",onClick:a=>e.deleteToast(t.id)},[(0,o.bF)(r,{icon:["fas","times-circle"]})],8,m)],2))),128))]),_:1})])])}var v=(0,o.pM)({setup(){const{t:e}=(0,r.s9)(),t=(0,i.Pj)(),a=(0,o.EW)(()=>t.getters["toast/getToasts"]),l=e=>{t.dispatch("toast/deleteToast",{id:e})},s=e=>{switch(e){case"success":return["fas","check-circle"];case"error":return["fas","times-circle"];case"info":return["fas","info-circle"];case"warning":return["fas","exclamation-triangle"];default:return["fas","times-circle"]}};return{toasts:a,iconClass:s,deleteToast:l,t:e}}}),h=a(1241);const f=(0,h.A)(v,[["render",g],["__scopeId","data-v-3a48c8ba"]]);var b=f;const k=["onClick"];function y(e,t,a,s,n,i){return(0,o.uX)(),(0,o.Wv)(o.Im,{to:"body"},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.dialogsSt.dialogs,t=>((0,o.uX)(),(0,o.CE)("div",{key:t.id,class:(0,c.C4)(["dialog-backdrop",{"dialog-backdrop-transparent":t.options?.transparent}]),onClick:(0,l.D$)(a=>e.close(t.id),["self"])},[((0,o.uX)(),(0,o.Wv)((0,o.$y)(t.component),(0,o.v6)({ref_for:!0},t.props,{onResolve:a=>{t.resolve(a),e.close(t.id)},onReject:a=>{t.reject(a),e.close(t.id)},onClose:a=>e.close(t.id)}),null,16,["onResolve","onReject","onClose"]))],10,k))),128))])}a(4114),a(8111),a(2489);let C=0;const E=(0,n.Kh)({dialogs:[]});function w(e,t={},a){return new Promise((l,o)=>{const s=++C;E.dialogs.push({id:s,component:e,props:t,resolve:l,reject:o,options:a})})}function F(e){E.dialogs=E.dialogs.filter(t=>t.id!==e)}var A=(0,o.pM)({setup(){const e=E,t=F,a=a=>{if("Escape"===a.key){const a=e.dialogs.length-1;-1!==a&&t(e.dialogs[a].id)}};return(0,o.sV)(()=>{window.addEventListener("keydown",a)}),(0,o.hi)(()=>{window.removeEventListener("keydown",a)}),{dialogsSt:e,close:t}}});const L=(0,h.A)(A,[["render",y],["__scopeId","data-v-4617b0ca"]]);var I=L,S=(0,o.pM)({components:{AppDialog:I,AppToaster:b},setup(){const e=(0,n.KR)(document.documentElement.clientWidth),t=(0,i.Pj)(),{locale:a}=(0,r.s9)();t.dispatch("theme/initTheme"),t.dispatch("language/initLanguage");const l=(0,n.KR)("desktop");(0,o.sV)(()=>{const e=navigator.userAgent.toLowerCase();/iphone|ipad|ipod/.test(e)?l.value="ios":/android/.test(e)?l.value="android":l.value="desktop",t.dispatch("mobile/setDevice",{device:l.value})}),(0,o.wB)(()=>t.getters["language/language"],e=>{a.value=e},{immediate:!0});const s=()=>{e.value=document.documentElement.clientWidth,t.dispatch("mobile/setClientWidth",{clientWidth:e.value})};(0,o.sV)(()=>{t.dispatch("mobile/setClientWidth",{clientWidth:e.value}),window.addEventListener("resize",s)}),(0,o.xo)(()=>{window.removeEventListener("resize",s)})}});const T=(0,h.A)(S,[["render",s]]);var M=T,P=(a(3579),a(1387)),B=a.p+"img/rainbow.defa200a.svg";const D={class:"container"},R={class:"header-section"},x={class:"sidebar-item"},_={class:"icon"},W={key:0,class:"title"},O={class:"sidebar-item"},V={class:"icon"},X={key:0,class:"title"},K={class:"sidebar-item"},U={class:"icon"},G={key:0,class:"title"},Q={class:"sidebar-item"},z={class:"icon"},N={key:0,class:"title"},j={class:"sidebar-item"},H={class:"icon"},Y={key:0,class:"title"},q={class:"sidebar-item"},J={class:"icon"},Z={key:0,class:"title"},$={class:"sidebar-item"},ee={class:"icon"},te={key:0,class:"title"},ae={class:"sidebar-item"},le={class:"icon"},oe={key:0,class:"title"},se={class:"sidebar-item"},ne={class:"icon"},ie={key:0,class:"title"},re={class:"icon"},ce={key:0,class:"title"},ue=["onClick"],de={class:"main"};function pe(e,t,a,l,s,n){const i=(0,o.g2)("app-toggle"),r=(0,o.g2)("app-option"),u=(0,o.g2)("app-dropdown"),d=(0,o.g2)("app-burger-menu"),p=(0,o.g2)("app-header"),m=(0,o.g2)("font-awesome-icon"),g=(0,o.g2)("router-link"),v=(0,o.g2)("app-sidebar"),h=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)("div",D,[(0,o.bF)(p,null,{default:(0,o.k6)(()=>[(0,o.Lk)("section",R,[t[3]||(t[3]=(0,o.Lk)("img",{src:B,alt:"App Logo",width:"32",height:"32"},null,-1)),(0,o.Lk)("section",null,[(0,o.bF)(i,{modelValue:e.isDark,"onUpdate:modelValue":t[0]||(t[0]=t=>e.isDark=t),variant:"theme",onToggled:e.toggled},null,8,["modelValue","onToggled"]),(0,o.bF)(u,{modelValue:e.language,"onUpdate:modelValue":t[1]||(t[1]=t=>e.language=t),label:"name"},{default:(0,o.k6)(()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.languages,e=>((0,o.uX)(),(0,o.Wv)(r,{key:e,value:e},{default:(0,o.k6)(()=>[(0,o.eW)((0,c.v_)(e),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),e.isMobile?((0,o.uX)(),(0,o.Wv)(d,{key:0})):(0,o.Q3)("",!0)])])]),_:1}),(0,o.Lk)("section",null,[(0,o.bF)(v,null,{main:(0,o.k6)(({isShort:t})=>[(0,o.bF)(g,{to:"/main/characteristic-colors","active-class":"active-link"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",x,[(0,o.Lk)("div",_,[(0,o.bF)(m,{size:"xl",icon:["fas","rainbow"]})]),t?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",W,(0,c.v_)(e.t("characteristicColors")),1))])]),_:2},1024),(0,o.bF)(g,{to:"/main/palette-determinant","active-class":"active-link"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",O,[(0,o.Lk)("div",V,[(0,o.bF)(m,{size:"xl",icon:["fas","brush"]})]),t?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",X,(0,c.v_)(e.t("paletteDeterminant")),1))])]),_:2},1024),(0,o.bF)(g,{to:"/main/cut-palette-color","active-class":"active-link"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",K,[(0,o.Lk)("div",U,[(0,o.bF)(m,{size:"xl",icon:["fas","scissors"]})]),t?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",G,(0,c.v_)(e.t("cutPalette")),1))])]),_:2},1024),(0,o.bF)(g,{to:"/main/my-palette","active-class":"active-link"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",Q,[(0,o.Lk)("div",z,[(0,o.bF)(m,{size:"xl",icon:["fas","fill-drip"]})]),t?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",N,(0,c.v_)(e.t("myPalette")),1))])]),_:2},1024),(0,o.bF)(g,{to:"/main/palette","active-class":"active-link"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",j,[(0,o.Lk)("div",H,[(0,o.bF)(m,{size:"xl",icon:["fas","camera"]})]),t?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",Y,(0,c.v_)(e.t("analysisByPhoto")),1))])]),_:2},1024),(0,o.bF)(g,{to:"/main/chroma","active-class":"active-link"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",q,[(0,o.Lk)("div",J,[(0,o.bF)(m,{size:"xl",icon:["fas","eye-dropper"]})]),t?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",Z,(0,c.v_)(e.t("pickColor")),1))])]),_:2},1024),(0,o.bF)(g,{to:"/main/ai-agent","active-class":"active-link"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",$,[(0,o.Lk)("div",ee,[(0,o.bF)(m,{size:"xl",icon:["fas","microchip"]})]),t?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",te,(0,c.v_)(e.t("aiAgent")),1))])]),_:2},1024),(0,o.bF)(g,{to:"/main/gallery","active-class":"active-link"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",ae,[(0,o.Lk)("div",le,[(0,o.bF)(m,{size:"xl",icon:["fas","images"]})]),t?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",oe,(0,c.v_)(e.t("gallery")),1))])]),_:2},1024),(0,o.bF)(g,{to:"/main/consultation","active-class":"active-link"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",se,[(0,o.Lk)("div",ne,[(0,o.bF)(m,{size:"xl",icon:["fas","user-tie"]})]),t?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",ie,(0,c.v_)(e.t("consultation")),1))])]),_:2},1024)]),additional:(0,o.k6)(({isShort:a,toggle:l})=>[(0,o.Lk)("div",{class:"sidebar-item logout",onClick:t[2]||(t[2]=(...t)=>e.logout&&e.logout(...t))},[(0,o.Lk)("div",re,[(0,o.bF)(m,{size:"xl",icon:["fas","right-from-bracket"]})]),a?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",ce,(0,c.v_)(e.t("logout")),1))]),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",{key:0,class:"sidebar-item",onClick:l},[(0,o.bF)(m,{size:"xl",icon:a?["fas","arrow-left"]:["fas","arrow-right"]},null,8,["icon"])],8,ue))]),_:1}),(0,o.Lk)("main",de,[(0,o.bF)(h)])])])}const me=["aria-disabled"],ge=["checked","disabled"];function ve(e,t,a,s,n,i){return(0,o.uX)(),(0,o.CE)("label",{ref:"switchEl",class:(0,c.C4)([[e.variant,{disabled:e.disabled}],"switch"]),tabindex:"0","aria-disabled":e.disabled,onKeydown:[t[1]||(t[1]=(0,l.jR)((0,l.D$)((...t)=>e.onKeyToggle&&e.onKeyToggle(...t),["prevent"]),["space"])),t[2]||(t[2]=(0,l.jR)((0,l.D$)((...t)=>e.onKeyToggle&&e.onKeyToggle(...t),["prevent"]),["enter"]))]},[(0,o.Lk)("input",{type:"checkbox",checked:e.modelValue,disabled:e.disabled,onChange:t[0]||(t[0]=(...t)=>e.onToggle&&e.onToggle(...t))},null,40,ge),t[3]||(t[3]=(0,o.Lk)("span",{class:"slider"},null,-1))],42,me)}function he(e,t){const a=(0,n.KR)(null),l=e=>{const a=e.target;t("update:modelValue",a.checked),t("toggled",a.checked)},s=()=>{e.disabled||(t("update:modelValue",!e.modelValue),t("toggled",!e.modelValue))};return(0,o.sV)(()=>{!e.disabled&&a.value&&a.value.focus()}),{onToggle:l,onKeyToggle:s,switchEl:a}}var fe=(0,o.pM)({props:{modelValue:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},variant:{type:String,default:"default"}},emits:["update:modelValue","toggled"],setup(e,t){return he(e,t.emit)}});const be=(0,h.A)(fe,[["render",ve],["__scopeId","data-v-4d8e97e2"]]);var ke=be;const ye={key:0,class:"title"},Ce=["disabled"],Ee={key:0,class:"search"};function we(e,t,a,l,s,n){const i=(0,o.g2)("app-input"),r=(0,o.g2)("app-overlay-panel");return(0,o.uX)(),(0,o.CE)("section",null,[e.title?((0,o.uX)(),(0,o.CE)("span",ye,(0,c.v_)(e.title),1)):(0,o.Q3)("",!0),(0,o.Lk)("div",{ref:"targetRef",class:"dropdown-container",onClick:t[2]||(t[2]=(...t)=>e.toggle&&e.toggle(...t))},[(0,o.Lk)("div",{class:"dropdown-value",style:(0,c.Tr)({height:e.height})},[(0,o.Lk)("span",null,(0,c.v_)(e.valueRef),1)],4),(0,o.Lk)("button",{disabled:e.disabled,type:"button",class:(0,c.C4)(["toggle-btn",{withTitle:e.isTitle}])}," ▼ ",10,Ce),e.targetRef?((0,o.uX)(),(0,o.Wv)(r,{key:0,visible:e.visible,"onUpdate:visible":t[1]||(t[1]=t=>e.visible=t),target:e.targetRef},{default:(0,o.k6)(()=>[e.isSearch?((0,o.uX)(),(0,o.CE)("div",Ee,[(0,o.bF)(i,{modelValue:e.searchValue,"onUpdate:modelValue":t[0]||(t[0]=t=>e.searchValue=t),placeholder:"search",icon:["fas","search"],"is-label":!1,onFocus:e.focusInput,onBlur:e.focusOutInput},null,8,["modelValue","onFocus","onBlur"])])):(0,o.Q3)("",!0),(0,o.RG)(e.$slots,"default",{},void 0,!0)]),_:3},8,["visible","target"])):(0,o.Q3)("",!0)],512)])}const Fe=["for"],Ae={ref:"wrapperRef",class:"wrap-input validate-input"},Le=["id","value","type","placeholder","disabled","readonly"],Ie={key:0,class:"symbol-input100"};function Se(e,t,a,l,s,n){const i=(0,o.g2)("font-awesome-icon");return(0,o.uX)(),(0,o.CE)("section",null,[e.isLabel?((0,o.uX)(),(0,o.CE)("label",{key:0,class:"label",for:e.id},(0,c.v_)(e.t(e.label)),9,Fe)):(0,o.Q3)("",!0),(0,o.Lk)("div",Ae,[(0,o.Lk)("input",{id:e.id,ref:"inputRef",value:e.modelValue,class:(0,c.C4)(["input100",{pr:e.icon,error:e.error}]),type:e.type,placeholder:e.t(e.placeholder),disabled:e.disabled,readonly:e.readonly,style:(0,c.Tr)({height:e.height,cursor:e.cursor}),onInput:t[0]||(t[0]=(...t)=>e.handleInput&&e.handleInput(...t)),onBlur:t[1]||(t[1]=(...t)=>e.handleBlur&&e.handleBlur(...t)),onFocus:t[2]||(t[2]=(...t)=>e.showErrorToggle&&e.showErrorToggle(...t))},null,46,Le),t[3]||(t[3]=(0,o.Lk)("span",{class:"focus-input100"},null,-1)),e.icon?((0,o.uX)(),(0,o.CE)("span",Ie,[(0,o.bF)(i,{icon:e.icon},null,8,["icon"])])):(0,o.Q3)("",!0)],512)])}var Te=(0,o.pM)({props:{modelValue:{type:String,default:""},error:{type:String,default:""},isLabel:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},placeholder:{type:String,default:""},type:{type:String,default:"text"},label:{type:String,default:"text"},icon:{type:[Array,String],default:""},zIndexTooltip:{type:Number,default:1010},height:{type:String,default:"50px"},isFocused:{type:Boolean,default:!1},cursor:{type:String,default:""}},emits:["update:modelValue","blur","change","focus"],setup(e,{emit:t}){const a=Math.random(),l=(0,n.KR)(""),{t:s}=(0,r.s9)(),i=(0,n.KR)(null),c=(0,n.KR)(null),u=()=>{t("focus")},d=()=>{t("blur")},p=e=>{t("update:modelValue",e.target.value)};return(0,o.sV)(()=>{e.isFocused&&i.value?.focus()}),{value:l,showErrorToggle:u,inputRef:i,wrapperRef:c,handleInput:p,handleBlur:d,t:s,id:a}}});const Me=(0,h.A)(Te,[["render",Se],["__scopeId","data-v-dd08fe72"]]);var Pe=Me;function Be(e,t,a,l,s,n){return(0,o.uX)(),(0,o.Wv)(o.Im,{to:"body"},[e.visible?((0,o.uX)(),(0,o.CE)("div",{key:0,ref:"overlayRef",class:"overlay",style:(0,c.Tr)(e.overlayStyle)},[(0,o.RG)(e.$slots,"default",{},void 0,!0)],4)):(0,o.Q3)("",!0)])}const De=3;function Re(e,t){switch(t){case"left":return e.left;case"right":return e.right;case"center":return e.left+e.width/2}}function xe(e,t){switch(t){case"top":return e.top;case"bottom":return e.bottom;case"center":return e.top+e.height/2}}function _e(e,t,a,l){const o=Re(t,e),s=o-a>=0,n=o+a<=l,i=o-a/2>=0&&o+a/2<=l;return"left"===e?s?"left":i?"center":"right":"right"===e?n?"right":i?"center":"left":"center"}function We(e,t,a,l){const o=xe(t,e),s=o-a>=0,n=o+a<=l,i=o-a/2>=0&&o+a/2<=l;return"top"===e?s?"top":i?"center":"bottom":"bottom"===e?n?"bottom":i?"center":"top":i?"center":s?"top":"bottom"}function Oe(e,t){let a;return a=null!==t?"number"===typeof t?`${t}px`:String(t):`${Math.round(e.width)}px`,a}function Ve(e,t,a,l,o){const s=document.documentElement.clientWidth,n=document.documentElement.clientHeight;return{x:_e(l,e,t,s),y:We(o,e,a,n)}}var Xe=(0,o.pM)({props:{target:{type:Object,required:!0},visible:{type:Boolean,default:!0},zIndex:{type:Number,default:1010},position:{type:Object,default:()=>({x:"center",y:"bottom"})},width:{type:[Number,String],default:null}},emits:["update:visible"],setup(e,{emit:t}){const a=(0,n.KR)(null),l=(0,n.KR)(0),s=(0,o.EW)(()=>{if(l.value,!e.target)return{};const t=e.target.getBoundingClientRect(),o=a.value,s=window.scrollX,n=window.scrollY,i=o?.offsetWidth??0,r=o?.offsetHeight??0,{x:c,y:u}=Ve(t,i,r,e.position.x,e.position.y),d=u,p=c;let m=t.top+n,g=t.left+s,v=0,h=0;switch(d){case"top":m=t.top+n-r;break;case"bottom":m=t.top+n+t.height+De;break;case"center":m=t.top+n+t.height/2,h=-50;break}switch(p){case"left":g=t.left+s-i;break;case"right":g=t.left+s+t.width;break;case"center":g=t.left+t.width/2,v=-50;break}const f=[];return v&&f.push(`translateX(${v}%)`),h&&f.push(`translateY(${h}%)`),{position:"fixed",top:`${Math.round(m)}px`,left:`${Math.round(g)}px`,transform:f.length?f.join(" "):void 0,zIndex:e.zIndex,width:Oe(t,e.width)}}),i=()=>{l.value=Date.now()},r=l=>{const o=a.value,s=e.target,n=l.target;o&&!o.contains(n)&&s&&!s.contains(n)&&t("update:visible",!1)};return(0,o.sV)(()=>{window.addEventListener("resize",i),window.addEventListener("scroll",i,!0),document.addEventListener("click",r),(0,o.dY)(i)}),(0,o.xo)(()=>{window.removeEventListener("resize",i),window.removeEventListener("scroll",i,!0),document.removeEventListener("click",r)}),{overlayStyle:s,overlayRef:a}}});const Ke=(0,h.A)(Xe,[["render",Be],["__scopeId","data-v-16139e15"]]);var Ue=Ke,Ge=(0,o.pM)({components:{AppOverlayPanel:Ue,AppInput:Pe},props:{modelValue:{type:[String,Number,Object],default:null},label:{type:String,default:""},disabled:{type:Boolean,default:!1},height:{type:String,default:"32px"},isSearch:{type:Boolean,default:!1},isTitle:{type:Boolean,default:!1},title:{type:String,default:""}},emits:["update:modelValue","search","focusInput","focusOutInput"],setup(e,{emit:t}){const a=(0,o.EW)(()=>e.modelValue),l=(0,n.KR)(null),s=(0,n.KR)(null),i=(0,n.KR)(!1),r=(0,n.KR)(""),c=()=>{i.value=!i.value,i.value||t("focusOutInput"),i.value||(r.value="",t("search",""))},u=a=>{if("string"===typeof a&&(l.value=a),"object"===typeof a&&null!==a){const t=a;l.value=t[e.label]}t("update:modelValue",a),i.value=!1,r.value="",t("search","")};(0,o.sV)(()=>{if("string"===typeof e.modelValue&&(l.value=e.modelValue),"object"===typeof e.modelValue&&null!==e.modelValue){const t=e.modelValue;l.value=t[e.label]}}),(0,o.Gt)("select",u),(0,o.Gt)("selected",a),(0,o.wB)(r,e=>{t("search",e)}),(0,o.wB)(()=>e.modelValue,t=>{l.value="string"===typeof t?t:"object"===typeof t&&null!==t?t[e.label]:null},{immediate:!0});const d=()=>{t("focusInput")},p=()=>{t("focusOutInput")};return{targetRef:s,visible:i,toggle:c,valueRef:l,searchValue:r,focusInput:d,focusOutInput:p}}});const Qe=(0,h.A)(Ge,[["render",we],["__scopeId","data-v-271d43e0"]]);var ze=Qe;function Ne(e,t,a,l,s,n){return(0,o.uX)(),(0,o.CE)("div",{class:(0,c.C4)(["dropdown-option",{"is-selected":e.isSelected}]),onClick:t[0]||(t[0]=(...t)=>e.onClick&&e.onClick(...t))},[(0,o.RG)(e.$slots,"default",{},void 0,!0)],2)}var je=(0,o.pM)({props:{value:{type:[String,Number,Object],default:null}},setup(e){const t=(0,o.WQ)("select",()=>{}),a=(0,o.WQ)("selected"),l=()=>{t&&t(e.value)},s=(0,o.EW)(()=>{if(!a)return;const t=a.value;if(t&&"object"===typeof t&&e.value&&"object"===typeof e.value){const a=t,l=e.value;return a.id===l.id}return t===e.value});return{onClick:l,isSelected:s}}});const He=(0,h.A)(je,[["render",Ne],["__scopeId","data-v-63d361e7"]]);var Ye=He;const qe={class:"header"};function Je(e,t){return(0,o.uX)(),(0,o.CE)("header",qe,[(0,o.RG)(e.$slots,"default",{},void 0,!0)])}const Ze={},$e=(0,h.A)(Ze,[["render",Je],["__scopeId","data-v-974070fe"]]);var et=$e;const tt={class:"additional-section"},at={class:"sidebar-container"},lt={class:"additional-section"};function ot(e,t,a,l,s,n){return(0,o.uX)(),(0,o.CE)(o.FK,null,[e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("aside",{key:0,class:"sidebar-container",style:(0,c.Tr)({width:e.isShort?"60px":"300px"})},[(0,o.Lk)("section",{class:"main-section",onClick:t[0]||(t[0]=(...t)=>e.setBurgerMenu&&e.setBurgerMenu(...t))},[(0,o.RG)(e.$slots,"main",{isShort:e.isShort},void 0,!0)]),(0,o.Lk)("section",tt,[(0,o.RG)(e.$slots,"additional",{isShort:e.isShort,toggle:e.toggle},void 0,!0)])],4)),((0,o.uX)(),(0,o.Wv)(o.Im,{to:"body"},[e.isMobile&&e.isBurgerMenuOpen?((0,o.uX)(),(0,o.CE)("aside",{key:0,class:"mobile-view",style:(0,c.Tr)({width:e.isShort?"60px":"220px"})},[(0,o.Lk)("div",at,[(0,o.Lk)("section",{class:"main-section",onClick:t[1]||(t[1]=(...t)=>e.setBurgerMenu&&e.setBurgerMenu(...t))},[(0,o.RG)(e.$slots,"main",{isShort:e.isShort},void 0,!0)]),(0,o.Lk)("section",lt,[(0,o.RG)(e.$slots,"additional",{isShort:e.isShort,toggle:e.toggle},void 0,!0)])])],4)):(0,o.Q3)("",!0)]))],64)}var st=(0,o.pM)({setup(){const e=(0,i.Pj)(),t=(0,n.KR)(!0),a=(0,o.EW)(()=>"mobile"===e.getters["mobile/breakPoint"]),l=(0,o.EW)(()=>e.getters["burgerMenu/isOpen"]),s=()=>{t.value=!t.value},r=()=>{a.value&&e.dispatch("burgerMenu/setBurger",{isOpen:!1})};return(0,o.wB)(()=>e.getters["mobile/breakPoint"],e=>{t.value="mobile"!==e},{immediate:!0}),{isMobile:a,isShort:t,toggle:s,isBurgerMenuOpen:l,setBurgerMenu:r}}});const nt=(0,h.A)(st,[["render",ot],["__scopeId","data-v-35d3b092"]]);var it=nt;function rt(e,t,a,l,s,n){return(0,o.uX)(),(0,o.CE)("div",{"data-burger-test-id":"",class:(0,c.C4)(["burger",{open:e.isOpen}]),onClick:t[0]||(t[0]=(...t)=>e.toggle&&e.toggle(...t))},[...t[1]||(t[1]=[(0,o.Lk)("span",null,null,-1),(0,o.Lk)("span",null,null,-1),(0,o.Lk)("span",null,null,-1)])],2)}var ct=(0,o.pM)({setup(){const e=(0,i.Pj)(),t=(0,o.EW)(()=>e.getters["burgerMenu/isOpen"]),a=()=>{e.dispatch("burgerMenu/setBurger",{isOpen:!t.value})};return{isOpen:t,toggle:a}}});const ut=(0,h.A)(ct,[["render",rt],["__scopeId","data-v-13390ba1"]]);var dt=ut,pt=(0,o.pM)({components:{AppBurgerMenu:dt,AppSidebar:it,AppOption:Ye,AppDropdown:ze,AppHeader:et,AppToggle:ke},setup(){const{t:e}=(0,r.s9)(),t=(0,i.Pj)(),a=(0,P.rd)(),l=(0,n.KR)(["en","ru"]),s=(0,n.KR)(t.getters["language/language"]),c=(0,n.KR)(t.getters["theme/isDark"]),u=(0,o.EW)(()=>"mobile"===t.getters["mobile/breakPoint"]),d=e=>{t.dispatch("theme/setTheme",e)};(0,o.wB)(s,e=>{t.dispatch("language/setLanguage",{language:e})});const p=async()=>{await t.dispatch("authFirebase/logout"),await t.dispatch("burgerMenu/setBurger",{isOpen:!1}),await a.push("/signIn")};return{toggled:d,logout:p,t:e,isDark:c,language:s,languages:l,isMobile:u}}});const mt=(0,h.A)(pt,[["render",pe],["__scopeId","data-v-1a6e3680"]]);var gt=mt;const vt={class:"color-container"};function ht(e,t,a,l,s,n){const i=(0,o.g2)("AppLoader"),r=(0,o.g2)("app-color-mask"),c=(0,o.g2)("app-tab"),u=(0,o.g2)("app-collage"),d=(0,o.g2)("app-tabs");return(0,o.uX)(),(0,o.CE)("div",vt,[e.isLoading?((0,o.uX)(),(0,o.Wv)(i,{key:0})):(0,o.Q3)("",!0),(0,o.bF)(d,null,{default:(0,o.k6)(()=>[(0,o.bF)(c,{title:"mask"},{default:(0,o.k6)(()=>[(0,o.bF)(r,{onIsLoading:t[0]||(t[0]=t=>e.isLoading=t)})]),_:1}),(0,o.bF)(c,{title:"collage"},{default:(0,o.k6)(()=>[(0,o.bF)(u,{onIsLoading:t[1]||(t[1]=t=>e.isLoading=t)})]),_:1})]),_:1})])}const ft={class:"tabs"},bt={class:"tab-headers"},kt=["onClick"],yt={class:"tab-content"};function Ct(e,t,a,l,s,n){return(0,o.uX)(),(0,o.CE)("div",ft,[(0,o.Lk)("nav",bt,[(0,o.Lk)("ul",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.tabs,t=>((0,o.uX)(),(0,o.CE)("li",{key:t.index,class:(0,c.C4)({active:e.activeIndex===t.index,disabled:t.disabled}),onClick:a=>e.setActive(t.index)},[(0,o.Lk)("a",null,(0,c.v_)(e.t(t.title)),1)],10,kt))),128))])]),(0,o.Lk)("div",yt,[(0,o.RG)(e.$slots,"default",{},void 0,!0)])])}a(116);var Et=(0,o.pM)({props:{modelValue:{type:Number,default:2}},emits:["update:modelValue","change"],setup(e,{emit:t}){const a=(0,n.KR)(e.modelValue),{t:l}=(0,r.s9)(),s=(0,n.Kh)([]),i=(e,t)=>{const a=s.length;return s.push({title:e,index:a,disabled:t}),a},c=e=>{const l=s[e];l&&!l.disabled&&(a.value=e,t("update:modelValue",e),t("change",e))};return(0,o.Gt)("registerTab",i),(0,o.Gt)("activeIndex",a),(0,o.wB)(()=>e.modelValue,e=>{const l=s[e];if(l&&!l.disabled)a.value=e;else{const e=s.find(e=>!e.disabled);e&&(a.value=e.index,t("update:modelValue",e.index))}}),(0,o.wB)(s,()=>{const e=s[a.value];if(!e||e.disabled){const e=s.find(e=>!e.disabled);e&&(a.value=e.index,t("update:modelValue",e.index))}},{immediate:!0}),{tabs:s,activeIndex:a,setActive:c,t:l}}});const wt=(0,h.A)(Et,[["render",Ct],["__scopeId","data-v-31b0f54d"]]);var Ft=wt;function At(e,t,a,s,n,i){return(0,o.bo)(((0,o.uX)(),(0,o.CE)("div",null,[(0,o.RG)(e.$slots,"default",{},void 0,!0)],512)),[[l.aG,e.isActive]])}var Lt=(0,o.pM)({props:{title:{type:String,required:!0},disabled:{type:Boolean,default:!1}},setup:function(e,{slots:t}){const a=(0,o.WQ)("registerTab"),l=(0,o.WQ)("activeIndex"),s=(0,n.KR)(-1);(0,o.sV)(()=>{a&&(s.value=a(e.title,e.disabled))});const i=(0,o.EW)(()=>l?.value===s.value);return{isActive:i,slots:t}}});const It=(0,h.A)(Lt,[["render",At],["__scopeId","data-v-7d72f4d0"]]);var St=It;const Tt={class:"collage-wrapper"},Mt={ref:"containerRef",class:"collage-container"},Pt={ref:"canvas"},Bt={key:0,class:"btn"},Dt={key:1,class:"btn"},Rt={key:5,class:"checkbox"},xt={key:6,class:"checkbox"};function _t(e,t,a,s,n,i){const r=(0,o.g2)("app-button"),u=(0,o.g2)("font-awesome-icon"),d=(0,o.g2)("AppCheckbox"),p=(0,o.g2)("app-popover-item"),m=(0,o.g2)("app-popover-wrapper"),g=(0,o.g2)("app-popover");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",Tt,[(0,o.Lk)("div",Mt,[(0,o.Lk)("canvas",Pt,null,512)],512),(0,o.Lk)("section",{class:(0,c.C4)(["buttons",{isMobile:e.isMobile}])},[e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",Bt,[(0,o.bF)(r,{raised:"",title:"pickPhoto",severity:"secondary",icon:["fas","sliders"],onClick:e.openImageSettingsModal},null,8,["onClick"])])),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",Dt,[(0,o.bF)(r,{severity:"success",title:"download",onClick:t[0]||(t[0]=t=>e.saveImage("collage"))})])),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(r,{key:2,severity:"warning",title:"saveToGallery",loading:e.isSaveToGallery,onClick:e.saveToGallery},null,8,["loading","onClick"])),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(r,{key:3,severity:"info",title:"addSign",onClick:e.openImageModal},null,8,["onClick"])),e.isMobile?((0,o.uX)(),(0,o.Wv)(u,{key:4,icon:["fas","ellipsis-h"],size:"xl",onClick:(0,l.D$)(e.openPopover,["stop"])},null,8,["onClick"])):(0,o.Q3)("",!0),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",Rt,[(0,o.bF)(d,{modelValue:e.sharedWithMask,"onUpdate:modelValue":t[1]||(t[1]=t=>e.sharedWithMask=t),label:"shareImageWithMask"},null,8,["modelValue"])])),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",xt,[(0,o.bF)(d,{modelValue:e.rememberChoose,"onUpdate:modelValue":t[2]||(t[2]=t=>e.rememberChoose=t),label:"rememberChoose"},null,8,["modelValue"])]))],2)]),(0,o.bF)(g,{visible:e.visiblePopover,"onUpdate:visible":t[6]||(t[6]=t=>e.visiblePopover=t)},{default:(0,o.k6)(()=>[(0,o.bF)(m,null,{default:(0,o.k6)(()=>[(0,o.bF)(p,{onClick:e.openImageSettingsModal},{default:(0,o.k6)(()=>[(0,o.bF)(u,{size:"xl",icon:["fas","sliders"]}),(0,o.Lk)("span",null,(0,c.v_)(e.t("pickPhoto")),1)]),_:1},8,["onClick"]),(0,o.bF)(p,{onClick:t[3]||(t[3]=t=>e.saveImage("collage"))},{default:(0,o.k6)(()=>[(0,o.bF)(u,{size:"xl",icon:["fas","download"]}),(0,o.Lk)("span",null,(0,c.v_)(e.t("download")),1)]),_:1}),(0,o.bF)(p,{onClick:e.saveToGallery},{default:(0,o.k6)(()=>[(0,o.bF)(u,{size:"xl",icon:["fas","images"]}),(0,o.Lk)("span",null,(0,c.v_)(e.t("saveToGallery")),1)]),_:1},8,["onClick"]),(0,o.bF)(p,{onClick:e.openImageModal},{default:(0,o.k6)(()=>[(0,o.bF)(u,{size:"xl",icon:["fas","fa-pencil-square"]}),(0,o.Lk)("span",null,(0,c.v_)(e.t("addSign")),1)]),_:1},8,["onClick"])]),_:1}),(0,o.bF)(m,null,{default:(0,o.k6)(()=>[(0,o.bF)(p,null,{default:(0,o.k6)(()=>[(0,o.bF)(d,{modelValue:e.sharedWithMask,"onUpdate:modelValue":t[4]||(t[4]=t=>e.sharedWithMask=t)},null,8,["modelValue"]),(0,o.Lk)("span",null,(0,c.v_)(e.t("shareImageWithMask")),1)]),_:1}),(0,o.bF)(p,null,{default:(0,o.k6)(()=>[(0,o.bF)(d,{modelValue:e.rememberChoose,"onUpdate:modelValue":t[5]||(t[5]=t=>e.rememberChoose=t)},null,8,["modelValue"]),(0,o.Lk)("span",null,(0,c.v_)(e.t("rememberChoose")),1)]),_:1})]),_:1})]),_:1},8,["visible"])],64)}const Wt={class:"container-btn"},Ot=["disabled"],Vt={key:0,class:"btn-icon"},Xt={key:1,class:"btn-title"},Kt={key:2,class:"loader"};function Ut(e,t,a,l,s,n){const i=(0,o.g2)("font-awesome-icon");return(0,o.uX)(),(0,o.CE)("div",Wt,[(0,o.Lk)("button",{disabled:e.disabled||e.loading,class:(0,c.C4)(e.classes),ontouchstart:"",onClick:t[0]||(t[0]=(...t)=>e.clickBtn&&e.clickBtn(...t))},[e.icon?((0,o.uX)(),(0,o.CE)("span",Vt,[(0,o.bF)(i,{size:"lg",icon:e.icon},null,8,["icon"])])):(0,o.Q3)("",!0),e.title&&!e.loading?((0,o.uX)(),(0,o.CE)("span",Xt,(0,c.v_)(e.t(e.title)),1)):e.loading?((0,o.uX)(),(0,o.CE)("span",Kt)):(0,o.Q3)("",!0)],10,Ot)])}var Gt=(0,o.pM)({props:{disabled:{type:Boolean,default:!1},title:{type:String,default:""},loading:{type:Boolean,default:!1},severity:{type:String,default:"success"},raised:{type:Boolean,default:!1},gradient:{type:Boolean,default:!1},icon:{type:[Array,String],default:""}},emits:["click"],setup(e,{emit:t}){const{t:a}=(0,r.s9)(),l=(0,o.EW)(()=>["btn",`${e.severity}`,{raised:e.raised,gradient:e.gradient}]),s=e=>{t("click",e)};return{t:a,classes:l,clickBtn:s}}});const Qt=(0,h.A)(Gt,[["render",Ut],["__scopeId","data-v-2235124c"]]);var zt=Qt;const Nt=[{id:1,type:"cold",segments:[{color:"#979DAF"},{color:"#C21E56"},{color:"#F3ED7C"},{color:"#155DA4"},{color:"#008684"},{color:"#E5ADD5"},{color:"#D0417E"},{color:"#E7B8D3"},{color:"#FFFFFF"},{color:"#34373B"},{color:"#BA397B"}]},{id:2,type:"warm",segments:[{color:"#E1BD88"},{color:"#DB3844"},{color:"#BC2A3A"},{color:"#E09D66"},{color:"#FAC668"},{color:"#CCD97A"},{color:"#91B54D"},{color:"#D66467"},{color:"#FEA188"},{color:"#CC9C7D"},{color:"#F2EDD8"}]},{id:3,type:"dark",segments:[{color:"#413433"},{color:"#BC243C"},{color:"#373E4B"},{color:"#79857A"},{color:"#987576"},{color:"#483A49"},{color:"#FFFFFF"},{color:"#594440"},{color:"#DEC6AC"},{color:"#707375"},{color:"#777791"}]},{id:4,type:"light",segments:[{color:"#CBB7A2"},{color:"#E63E62"},{color:"#FDE182"},{color:"#657BB8"},{color:"#42BDCB"},{color:"#7DCFB6"},{color:"#E87191"},{color:"#F8CBC7"},{color:"#FABCB1"},{color:"#F4EAE0"},{color:"#F9F9F9"}]},{id:5,type:"mute",segments:[{color:"#53677A"},{color:"#856088"},{color:"#4E9093"},{color:"#814A47"},{color:"#A55972"},{color:"#6B5D74"},{color:"#DCA59E"},{color:"#F4EAE0"},{color:"#F0D3C9"},{color:"#6C5740"},{color:"#6A6855"}]},{id:6,type:"bright",segments:[{color:"#433D42"},{color:"#E5003C"},{color:"#FBE337"},{color:"#4E468B"},{color:"#199D5C"},{color:"#008AC2"},{color:"#43BCD8"},{color:"#DE7AA4"},{color:"#F87B90"},{color:"#F9F9F9"},{color:"#D5DDD5"}]}];var jt=a(1924),Ht=a(6400),Yt=a(4388),qt=a(2832),Jt=a(1933),Zt=a(2215);const $t={apiKey:"AIzaSyACkcP8ThJg9f_JsBoiy0DErBhC9mg7gtg",authDomain:"rainbow-manager-2c361.firebaseapp.com",projectId:"rainbow-manager-2c361",storageBucket:"rainbow-manager-2c361.firebasestorage.app",messagingSenderId:"561480772779",appId:"1:561480772779:web:3b51c3721116c916811bee",measurementId:{VUE_APP_FIREBASE_PROJECT_ID:"rainbow-manager-2c361",VUE_APP_FIREBASE_APP_ID:"1:561480772779:web:3b51c3721116c916811bee",VUE_APP_FIREBASE_API_KEY:"AIzaSyACkcP8ThJg9f_JsBoiy0DErBhC9mg7gtg",VUE_APP_FIREBASE_MESSAGING_SENDER_ID:"561480772779",VUE_APP_FIREBASE_STORAGE_BUCKET:"rainbow-manager-2c361.firebasestorage.app",VUE_APP_FIREBASE_AUTH_DOMAIN:"rainbow-manager-2c361.firebaseapp.com",NODE_ENV:"production",BASE_URL:"/RM_Rainbow-Manager/"}.VUE_APP_FIREBASE_MEASUREMENT_ID},ea=(0,Ht.Wp)($t),ta=((0,Zt.P5)(ea),(0,Yt.xI)(ea)),aa=(0,qt.aU)(ea),la=(0,jt.c7)(ea),oa=(0,Jt.lS)(ea);function sa(e,t,a,l){const o=(0,n.KR)(1),s=()=>e.value?e.value.toDataURL("image/png"):null,i=(t="avatar.png")=>{if(!e.value)return;const a=e.value.toDataURL("image/png"),l=document.createElement("a");l.href=a,l.download=t,l.click()},r=async(t="mask.png")=>{if(e.value)return new Promise((a,l)=>{e.value.toBlob(async e=>{if(!e)return l(new Error("Не удалось получить Blob из canvas"));try{const l=(0,jt.KR)(la,t);await(0,jt.D)(l,e);const o=await(0,jt.qk)(l);a(o)}catch(o){l(o)}},"image/png")})},c=e=>new Promise((t,a)=>{const l=new Image;l.crossOrigin="anonymous",l.onload=()=>t(l),l.onerror=()=>a(new Error(`Ошибка загрузки: ${e}`)),l.src=e}),u=()=>{l?.value&&a&&a("update:imageUrl",l.value),o.value=1,t()},d=()=>{o.value*=1.2,t()},p=()=>{1!==o.value&&(o.value/=1.2,t())};return{saveImage:i,loadImage:c,resetImage:u,zoomPlus:d,zoomMinus:p,zoom:o,saveToStorage:r,getCanvasSrc:s}}const na={class:"popover-item"};function ia(e,t){return(0,o.uX)(),(0,o.CE)("div",na,[(0,o.RG)(e.$slots,"default",{},void 0,!0)])}const ra={},ca=(0,h.A)(ra,[["render",ia],["__scopeId","data-v-0370d246"]]);var ua=ca;const da={class:"popover-wrapper"};function pa(e,t){return(0,o.uX)(),(0,o.CE)("section",da,[(0,o.RG)(e.$slots,"default",{},void 0,!0)])}const ma={},ga=(0,h.A)(ma,[["render",pa],["__scopeId","data-v-11bdd0bc"]]);var va=ga;const ha={key:0,class:"popover-container"},fa={ref:"popoverContentRef",class:"popover-content"};function ba(e,t,a,l,s,n){return(0,o.uX)(),(0,o.Wv)(o.Im,{to:"body"},[e.visible?((0,o.uX)(),(0,o.CE)("div",ha,[(0,o.Lk)("div",fa,[(0,o.Lk)("section",{class:"popover-toggle-container",onClick:t[0]||(t[0]=(...t)=>e.toggle&&e.toggle(...t))},[...t[1]||(t[1]=[(0,o.Lk)("div",{class:"popover-toggle"},null,-1)])]),(0,o.RG)(e.$slots,"default",{},void 0,!0)],512)])):(0,o.Q3)("",!0)])}var ka=(0,o.pM)({props:{visible:{type:Boolean,default:!1}},emits:["update:visible"],setup(e,{emit:t}){const a=(0,n.KR)(null),l=e=>{const l=a.value,o=e.target;l&&!l.contains(o)&&t("update:visible",!1)},s=()=>{t("update:visible",!1)};return(0,o.sV)(()=>{document.addEventListener("click",l)}),(0,o.xo)(()=>{document.removeEventListener("click",l)}),{popoverContentRef:a,toggle:s}}});const ya=(0,h.A)(ka,[["render",ba],["__scopeId","data-v-9c6b8772"]]);var Ca=ya;const Ea=["for"],wa=["aria-checked","aria-disabled","aria-readonly"],Fa={key:0,class:"rc__label"},Aa=["id","checked","disabled","readonly"];function La(e,t,a,l,s,n){return(0,o.uX)(),(0,o.CE)("label",{class:(0,c.C4)(["rc",{"rc--checked":e.modelValue,"rc--indeterminate":e.indeterminate,"rc--disabled":e.disabled,"rc--error":e.error}]),style:(0,c.Tr)(e.styles),for:e.id||void 0},[(0,o.Lk)("span",{class:"rc__control",role:"checkbox","aria-checked":e.ariaChecked,"aria-disabled":e.disabled?"true":"false","aria-readonly":e.readonly?"true":"false",tabindex:"0",onKeydown:t[0]||(t[0]=(...t)=>e.onKeydown&&e.onKeydown(...t)),onFocus:t[1]||(t[1]=t=>e.$emit("focus")),onBlur:t[2]||(t[2]=t=>e.$emit("blur")),onClick:t[3]||(t[3]=(...t)=>e.toggle&&e.toggle(...t))},[...t[5]||(t[5]=[(0,o.Lk)("span",{class:"rc__ring"},null,-1),(0,o.Lk)("span",{class:"rc__fill"},null,-1),(0,o.Lk)("span",{class:"rc__mark"},null,-1)])],40,wa),e.label?((0,o.uX)(),(0,o.CE)("span",Fa,(0,c.v_)(e.t(e.label)),1)):(0,o.Q3)("",!0),e.id?((0,o.uX)(),(0,o.CE)("input",{key:1,id:e.id,type:"checkbox",class:"rc__native",checked:e.modelValue,disabled:e.disabled,readonly:e.readonly,onChange:t[4]||(t[4]=(...t)=>e.toggle&&e.toggle(...t))},null,40,Aa)):(0,o.Q3)("",!0)],14,Ea)}var Ia=(0,o.pM)({props:{modelValue:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},label:{type:String,default:""},size:{type:Number,default:24},error:{type:Boolean,default:!1},id:{type:String,default:""}},emits:["update:modelValue","change","focus","blur"],setup(e,{emit:t}){const{t:a}=(0,r.s9)(),{modelValue:l,disabled:s,readonly:i,indeterminate:c,size:u}=(0,n.QW)(e),d=(0,o.EW)(()=>c.value?"mixed":l.value?"true":"false"),p=()=>{if(s.value||i.value)return;const e=!l.value;t("update:modelValue",e),t("change",e)},m=e=>{" "!==e.key&&"Enter"!==e.key||(e.preventDefault(),p())},g=(0,o.EW)(()=>({"--rc-size":`${u.value}px`}));return{toggle:p,onKeydown:m,ariaChecked:d,styles:g,t:a}}});const Sa=(0,h.A)(Ia,[["render",La],["__scopeId","data-v-49453e15"]]);var Ta=Sa;const Ma=e=>new Promise((t,a)=>{const l=new FileReader;l.onload=e=>t(e.target?.result),l.onerror=a,l.readAsDataURL(e)}),Pa={ref:"modalRef",class:"modal-content neon"},Ba=["src"],Da={class:"info-section"},Ra={class:"info-section-wrapper"},xa={class:"badge-wrapper"},_a={key:0,class:"badge darkBadge"},Wa={key:1,class:"badge darkBadge"},Oa={key:2,class:"badge darkBadge"},Va={key:3,class:"badge darkBadge"},Xa={class:"actions"},Ka={class:"btn"},Ua={class:"btn"};function Ga(e,t,a,l,s,n){const i=(0,o.g2)("app-modal-header"),r=(0,o.g2)("app-input"),u=(0,o.g2)("app-button");return(0,o.uX)(),(0,o.CE)("div",Pa,[(0,o.bF)(i,{onClose:e.close},null,8,["onClose"]),(0,o.Lk)("img",{src:e.url,alt:""},null,8,Ba),(0,o.Lk)("section",Da,[(0,o.Lk)("div",Ra,[(0,o.Lk)("div",xa,[e.folder?((0,o.uX)(),(0,o.CE)("span",_a,(0,c.v_)(e.folder?.name),1)):(0,o.Q3)("",!0),e.coloristicType?((0,o.uX)(),(0,o.CE)("span",Wa,(0,c.v_)(e.t(e.coloristicType)),1)):(0,o.Q3)("",!0),e.maskType?((0,o.uX)(),(0,o.CE)("span",Oa,(0,c.v_)(e.t(e.maskType)),1)):(0,o.Q3)("",!0),e.paletteType?((0,o.uX)(),(0,o.CE)("span",Va,(0,c.v_)(e.getPaletteName()),1)):(0,o.Q3)("",!0)]),(0,o.bF)(r,{modelValue:e.signIn,"onUpdate:modelValue":t[0]||(t[0]=t=>e.signIn=t),icon:["fas","fa-pencil"],"is-label":!1,onFocus:e.focusInput,onBlur:e.focusOutInput},null,8,["modelValue","onFocus","onBlur"]),(0,o.Lk)("div",Xa,[(0,o.Lk)("div",Ka,[(0,o.bF)(u,{severity:"info",title:"addFolder",onClick:e.openFolderModal},null,8,["onClick"])]),(0,o.Lk)("div",Ua,[(0,o.bF)(u,{loading:e.isSaveToGallery,severity:"warning",title:"saveToGallery",onClick:e.saveToGallery},null,8,["loading","onClick"])])])])])],512)}var Qa=a(9041);const za={class:"modal-header-section"},Na={key:1,class:"modal-header-title"};function ja(e,t,a,l,s,n){const i=(0,o.g2)("font-awesome-icon");return(0,o.uX)(),(0,o.CE)("section",za,[e.isMobile?((0,o.uX)(),(0,o.Wv)(i,{key:0,size:"lg",icon:["fas","arrow-left"],onClick:e.close},null,8,["onClick"])):(0,o.Q3)("",!0),e.title?((0,o.uX)(),(0,o.CE)("div",Na,(0,c.v_)(e.title),1)):(0,o.Q3)("",!0),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",{key:2,class:"close",onClick:t[0]||(t[0]=(...t)=>e.close&&e.close(...t))},[(0,o.bF)(i,{size:"lg",icon:["fas","fa-times"]})]))])}var Ha=(0,o.pM)({props:{title:{type:String,default:""}},emits:["close"],setup(e,{emit:t}){const a=(0,i.Pj)(),l=(0,o.EW)(()=>"mobile"===a.getters["mobile/breakPoint"]),s=()=>{t("close")};return{isMobile:l,close:s}}});const Ya=(0,h.A)(Ha,[["render",ja],["__scopeId","data-v-7394ac0a"]]);var qa=Ya;const Ja={ref:"modalRef",class:"modal-content"},Za={class:"folder-section"},$a={class:"folder-section-create"},el={class:"search"},tl={class:"folder-section-folders"},al={class:"folder-section-actions"};function ll(e,t,a,l,s,n){const i=(0,o.g2)("app-modal-header"),r=(0,o.g2)("app-loader"),c=(0,o.g2)("app-input"),u=(0,o.g2)("app-button"),d=(0,o.g2)("app-folder-card");return(0,o.uX)(),(0,o.CE)("div",Ja,[(0,o.bF)(i,{onClose:e.close},null,8,["onClose"]),(0,o.Lk)("section",Za,[e.isLoading?((0,o.uX)(),(0,o.Wv)(r,{key:0})):(0,o.Q3)("",!0),(0,o.Lk)("div",$a,[(0,o.Lk)("div",el,[(0,o.bF)(c,{modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=t=>e.search=t),placeholder:"search",icon:["fas","search"],"is-label":!1,onFocus:e.focusInput,onBlur:e.focusOutInput},null,8,["modelValue","onFocus","onBlur"])]),(0,o.bF)(u,{icon:["fas","plus"],severity:"info",onClick:e.openCreateFolderModal},null,8,["onClick"])]),(0,o.Lk)("div",tl,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.folders,t=>((0,o.uX)(),(0,o.Wv)(d,{key:t.id,folder:t,"is-selected":e.selectedFolder?.id===t?.id,onSelected:e.selected},null,8,["folder","is-selected","onSelected"]))),128))]),(0,o.Lk)("div",al,[(0,o.Lk)("div",{class:"btn",onClick:t[1]||(t[1]=(...t)=>e.choose&&e.choose(...t))},[(0,o.bF)(u,{disabled:!e.selectedFolder,title:"choose",severity:"warning"},null,8,["disabled"])])])])],512)}const ol={class:"folder-wrapper"},sl=["src"],nl={class:"title"},il={class:"overlay-folder"};function rl(e,t,l,s,n,i){const r=(0,o.g2)("font-awesome-icon"),u=(0,o.g2)("app-overlay-panel");return(0,o.uX)(),(0,o.CE)("section",ol,[(0,o.Lk)("div",{ref:"targetRef",class:"icon",onClick:t[0]||(t[0]=(...t)=>e.toggleCardOverlayPanel&&e.toggleCardOverlayPanel(...t))},[(0,o.bF)(r,{size:"sm",icon:["fas","ellipsis-v"]})],512),(0,o.Lk)("div",{class:(0,c.C4)(["folder-card",{cardSelected:e.isSelected}]),onClick:t[5]||(t[5]=(...t)=>e.selected&&e.selected(...t))},[(0,o.Lk)("img",{loading:"lazy",class:(0,c.C4)({"fade-in":e.onLoad}),src:a(2823),alt:"Rainbow Folder",onLoad:t[1]||(t[1]=(...t)=>e.onLoad&&e.onLoad(...t))},null,42,sl),(0,o.Lk)("div",nl,[(0,o.Lk)("span",null,(0,c.v_)(e.folder.name),1)]),e.targetRef?((0,o.uX)(),(0,o.Wv)(u,{key:0,visible:e.visible,"onUpdate:visible":t[4]||(t[4]=t=>e.visible=t),width:150,target:e.targetRef,position:{x:"right",y:"center"}},{default:(0,o.k6)(()=>[(0,o.Lk)("div",il,[(0,o.Lk)("div",{class:"overlay-folder-item",onClick:t[2]||(t[2]=(...t)=>e.openCreateFolderModal&&e.openCreateFolderModal(...t))},[(0,o.bF)(r,{size:"sm",icon:["fas","fa-pencil"]}),(0,o.Lk)("span",null,(0,c.v_)(e.t("edit")),1)]),(0,o.Lk)("div",{class:"overlay-folder-item",onClick:t[3]||(t[3]=(...t)=>e.deleteFolder&&e.deleteFolder(...t))},[(0,o.bF)(r,{size:"sm",icon:["fas","fa-trash"]}),(0,o.Lk)("span",null,(0,c.v_)(e.t("delete")),1)])])]),_:1},8,["visible","target"])):(0,o.Q3)("",!0)],2)])}const cl={ref:"modalRef",class:"modal-content neon"},ul={class:"header"},dl={class:"input"},pl={class:"actions"},ml={class:"btn"};function gl(e,t,a,l,s,n){const i=(0,o.g2)("app-input"),r=(0,o.g2)("app-button");return(0,o.uX)(),(0,o.CE)("div",cl,[(0,o.Lk)("header",ul,[(0,o.Lk)("span",null,(0,c.v_)(e.t("newFolder")),1)]),(0,o.Lk)("div",dl,[(0,o.bF)(i,{modelValue:e.folderName,"onUpdate:modelValue":t[0]||(t[0]=t=>e.folderName=t),"is-focused":!0,"is-label":!1,placeholder:"nameFolder",onFocus:e.focusInput,onBlur:e.focusOutInput},null,8,["modelValue","onFocus","onBlur"])]),(0,o.Lk)("div",pl,[(0,o.Lk)("div",{class:"btn",onClick:t[1]||(t[1]=(...t)=>e.close&&e.close(...t))},[(0,o.bF)(r,{title:"cancel",severity:"error",onClick:e.close},null,8,["onClick"])]),(0,o.Lk)("div",ml,[(0,o.bF)(r,{disabled:!e.folderName,title:"ok",severity:"info",onClick:e.setName},null,8,["disabled","onClick"])])])],512)}var vl=a(2378),hl=a.n(vl),fl=(0,o.pM)({components:{AppButton:zt,AppInput:Pe},props:{name:{type:String,default:""}},emits:["resolve","reject","close"],setup(e,{emit:t}){const{t:a}=(0,r.s9)(),l=(0,i.Pj)(),s=(0,n.KR)(e.name),c=(0,o.EW)(()=>l.getters["mobile/getDevice"]),u=()=>{t("close")},d=()=>{t("resolve",s.value)},p=()=>{"ios"===c.value&&hl().enable()},m=()=>{"ios"===c.value&&(hl().disable(),setTimeout(()=>window.scrollTo(0,0),50))};return{folderName:s,close:u,setName:d,t:a,focusInput:p,focusOutInput:m}}});const bl=(0,h.A)(fl,[["render",gl],["__scopeId","data-v-70020937"]]);var kl=bl;const yl={ref:"modalRef",class:"modal-content neon"},Cl={class:"header"},El={class:"text"},wl={class:"actions"};function Fl(e,t,a,l,s,n){const i=(0,o.g2)("app-button");return(0,o.uX)(),(0,o.CE)("div",yl,[(0,o.Lk)("header",Cl,[(0,o.Lk)("span",null,(0,c.v_)(e.title),1)]),(0,o.Lk)("div",El,[(0,o.Lk)("span",null,(0,c.v_)(e.text),1)]),(0,o.Lk)("div",wl,[(0,o.Lk)("div",{class:"btn",onClick:t[0]||(t[0]=(...t)=>e.close&&e.close(...t))},[(0,o.bF)(i,{title:"cancel",severity:"error"})]),(0,o.Lk)("div",{class:"btn",onClick:t[1]||(t[1]=(...t)=>e.ok&&e.ok(...t))},[(0,o.bF)(i,{title:"ok",severity:"info"})])])],512)}var Al=(0,o.pM)({components:{AppButton:zt},props:{text:{type:String,default:""},title:{type:String,default:""}},emits:["resolve","reject","close"],setup(e,{emit:t}){const a=()=>{t("close")},l=()=>{t("resolve",!0)};return{close:a,ok:l}}});const Ll=(0,h.A)(Al,[["render",Fl],["__scopeId","data-v-e1dd9a42"]]);var Il=Ll,Sl=(0,o.pM)({components:{AppOverlayPanel:Ue},props:{isSelected:{type:Boolean,default:!1},folder:{type:Object,required:!0}},emits:["selected"],setup(e,{emit:t}){const{t:a}=(0,r.s9)(),l=(0,i.Pj)(),o=(0,n.KR)(null),s=(0,n.KR)(!1),c=(0,n.KR)(!1),u=()=>{c.value=!0},d=()=>{t("selected",e.folder)},p=()=>{s.value=!s.value},m=async()=>{p(),await w(Il,{text:a("dywDelete"),title:a("delete")}).then(t=>{t&&l.dispatch("folder/deleteFolder",e.folder.id)})},g=async()=>{p(),await w(kl,{name:e.folder.name}).then(t=>{l.dispatch("folder/updateFolder",{id:e.folder.id,name:t})})};return{targetRef:o,toggleCardOverlayPanel:p,visible:s,selected:d,deleteFolder:m,openCreateFolderModal:g,onLoad:u,t:a}}});const Tl=(0,h.A)(Sl,[["render",rl],["__scopeId","data-v-1efb669e"]]);var Ml=Tl;function Pl(e,t,a,l,s,n){return(0,o.uX)(),(0,o.CE)("div",{class:(0,c.C4)(["loader-container",{transparent:e.transparent}])},[...t[0]||(t[0]=[(0,o.Lk)("div",{class:"loader"},null,-1)])],2)}var Bl=(0,o.pM)({props:{transparent:{type:Boolean,default:!1}}});const Dl=(0,h.A)(Bl,[["render",Pl],["__scopeId","data-v-485c514e"]]);var Rl=Dl,xl=(0,o.pM)({components:{AppLoader:Rl,AppFolderCard:Ml,AppInput:Pe,AppButton:zt,AppModalHeader:qa},props:{folder:{type:Object,default:null}},emits:["resolve","reject","close"],setup(e,{emit:t}){const a=(0,i.Pj)(),l=(0,o.EW)(()=>a.getters["folder/getFilterFolders"]),s=(0,n.KR)(e.folder),r=(0,o.EW)(()=>a.getters["authFirebase/getUserId"]),c=(0,o.EW)(()=>a.getters["folder/isLoading"]),u=(0,n.KR)(""),d=(0,o.EW)(()=>a.getters["mobile/getDevice"]),p=e=>{s.value=e},m=()=>{t("close")};(0,o.sV)(()=>{a.dispatch("folder/getFolders",r.value)});const g=async()=>{await w(kl,{}).then(e=>{a.dispatch("folder/saveFolder",{userId:r.value,name:e})})},v=()=>{t("resolve",s.value)};(0,o.wB)(u,e=>{a.dispatch("folder/filterFolder",e)});const h=()=>{"ios"===d.value&&hl().enable()},f=()=>{"ios"===d.value&&(hl().disable(),setTimeout(()=>window.scrollTo(0,0),50))};return{close:m,folders:l,selected:p,selectedFolder:s,openCreateFolderModal:g,isLoading:c,choose:v,search:u,focusInput:h,focusOutInput:f}}});const _l=(0,h.A)(xl,[["render",ll],["__scopeId","data-v-12a74c3e"]]);var Wl=_l;const Ol=new Map([["softSummerPalette","softSummerPaletteShort"],["darkAutumnPalette","darkAutumnPaletteShort"],["coldSummerPalette","coldSummerPaletteShort"],["lightSpringPalette","lightSpringPaletteShort"],["softAutumnPalette","softAutumnPaletteShort"],["brightSpringPalette","brightSpringPaletteShort"],["warmSpringPalette","warmSpringPaletteShort"],["darkWinterPalette","darkWinterPaletteShort"],["lightSummerPalette","lightSummerPaletteShort"],["warmAutumnPalette","warmAutumnPaletteShort"],["coldWinterPalette","coldWinterPaletteShort"],["brightWinterPalette","brightWinterPaletteShort"]]);var Vl=(0,o.pM)({components:{AppModalHeader:qa,AppInput:Pe,AppButton:zt},props:{url:Qa.Yj,coloristicType:{type:String,default:""},maskType:{type:String,default:""},paletteType:{type:String,default:""},canvas:HTMLCanvasElement,currentUserId:Qa.Yj,imageUrl:Qa.Yj},emits:["resolve","reject","close"],setup(e,{emit:t}){const{t:a}=(0,r.s9)(),l=(0,i.Pj)(),s=(0,n.KR)(""),c=(0,n.KR)(!1),u=(0,n.KR)(null),d=(0,o.EW)(()=>l.getters["mobile/getDevice"]),p=()=>{t("close")},m=async()=>{if(e.imageUrl){c.value=!0;try{await l.dispatch("gallery/saveImageToGallery",{canvas:e.canvas,title:s.value,coloristicType:e.coloristicType,maskType:e.maskType,paletteType:e.paletteType,userId:e.currentUserId,folderId:u.value?.id?u.value?.id:""}),t("close")}finally{c.value=!1}}else await l.dispatch("toast/addToast",{message:"uploadImage",severity:"warning"})},g=async()=>{await w(Wl,{},{transparent:!0}).then(e=>{u.value=e})},v=()=>{const t=Ol.get(e.paletteType)||"";return a(t)},h=()=>{"ios"===d.value&&hl().enable()},f=()=>{"ios"===d.value&&(hl().disable(),setTimeout(()=>window.scrollTo(0,0),50))};return{close:p,signIn:s,saveToGallery:m,isSaveToGallery:c,openFolderModal:g,folder:u,t:a,getPaletteName:v,focusInput:h,focusOutInput:f}}});const Xl=(0,h.A)(Vl,[["render",Ga],["__scopeId","data-v-5260c61a"]]);var Kl=Xl;const Ul={ref:"modalRef",class:"modal-content neon"},Gl={ref:"canvas"},Ql={class:"actions"};function zl(e,t,a,s,n,i){const r=(0,o.g2)("app-modal-header"),c=(0,o.g2)("app-button"),u=(0,o.g2)("app-file-uploader");return(0,o.uX)(),(0,o.CE)("div",Ul,[(0,o.bF)(r,{onClose:e.close},null,8,["onClose"]),(0,o.Lk)("div",{ref:"wrap",class:"canvas-wrap",onPointerdown:t[0]||(t[0]=(...t)=>e.startPan&&e.startPan(...t)),onWheel:t[1]||(t[1]=(0,l.D$)((...t)=>e.onWheel&&e.onWheel(...t),["prevent"])),onPointermove:t[2]||(t[2]=(...t)=>e.onPointerMove&&e.onPointerMove(...t)),onPointerup:t[3]||(t[3]=(...t)=>e.endPan&&e.endPan(...t)),onPointercancel:t[4]||(t[4]=(...t)=>e.endPan&&e.endPan(...t)),onPointerleave:t[5]||(t[5]=(...t)=>e.endPan&&e.endPan(...t))},[(0,o.Lk)("canvas",Gl,null,512)],544),(0,o.Lk)("div",Ql,[(0,o.bF)(c,{severity:"secondary",raised:"",icon:["fas","undo"],onClick:e.reset},null,8,["onClick"]),(0,o.bF)(c,{severity:"secondary",raised:"",icon:["fas","plus"],onClick:e.zoomIn},null,8,["onClick"]),(0,o.bF)(c,{severity:"secondary",raised:"",icon:["fas","minus"],onClick:e.zoomOut},null,8,["onClick"]),(0,o.bF)(c,{severity:"secondary",raised:"",icon:["fas","share"],onClick:e.exportImage},null,8,["onClick"]),(0,o.bF)(u,{"is-show-sign":!1,"is-title":!1,onSelect:e.onFileSelected},null,8,["onSelect"])])],512)}a(4603),a(7566),a(8721);const Nl={class:"file-uploader"},jl={key:0,class:"upload-btn-title"},Hl={key:0,class:"file-name"};function Yl(e,t,a,l,s,n){const i=(0,o.g2)("font-awesome-icon");return(0,o.uX)(),(0,o.CE)("div",Nl,[(0,o.Lk)("input",{ref:"fileInput",type:"file",accept:"image/*",class:"file-input",onChange:t[0]||(t[0]=(...t)=>e.onFileChange&&e.onFileChange(...t))},null,544),(0,o.Lk)("button",{type:"button",class:"upload-btn",onClick:t[1]||(t[1]=(...t)=>e.triggerInput&&e.triggerInput(...t))},[(0,o.bF)(i,{size:"lg",icon:["fas","file-upload"]}),e.isTitle?((0,o.uX)(),(0,o.CE)("span",jl,(0,c.v_)(e.t("upload")),1)):(0,o.Q3)("",!0)]),e.fileName&&e.isShowSign?((0,o.uX)(),(0,o.CE)("div",Hl,(0,c.v_)(e.fileName),1)):(0,o.Q3)("",!0)])}var ql=(0,o.pM)({name:"FileUploader",props:{isTitle:{type:Boolean,default:!0},isShowSign:{type:Boolean,default:!0}},emits:["select"],setup(e,{emit:t}){const{t:a}=(0,r.s9)(),l=(0,n.KR)(null),o=(0,n.KR)(""),s=()=>{l.value?.click()},i=e=>{const a=e.target,l=a.files?.[0];l&&(o.value=l.name,t("select",l)),a.value=""};return{fileInput:l,fileName:o,triggerInput:s,onFileChange:i,t:a}}});const Jl=(0,h.A)(ql,[["render",Yl],["__scopeId","data-v-1feaf254"]]);var Zl=Jl,$l=(0,o.pM)({components:{AppButton:zt,AppModalHeader:qa,AppFileUploader:Zl},props:{imageUrl:{type:String,required:!1,default:""}},emits:["resolve","reject","close"],setup(e,{emit:t}){const a=12;let l=360;const s=(0,n.KR)(e.imageUrl),i=(0,n.KR)(null),r=(0,n.KR)(null),c=(0,n.KR)(null),u=(0,n.KR)(null),d=(0,n.KR)(null);let p=0,m=0;const g=2,v=1.15;let h={x:0,y:0};const f=(0,n.KR)(e.imageUrl),b=(0,n.KR)(null),k=(0,n.KR)(null),y=(0,n.Kh)({scale:1,minScale:.5,maxScale:4,x:0,y:0,dragging:!1,lastPointer:null,pointers:new Map,naturalW:0,naturalH:0,_pinchStartDist:null,_pinchStartScale:null}),C=()=>{if(!c.value)return;const e=c.value.getBoundingClientRect();p=e.width,m=e.height;const t=Math.min(window.devicePixelRatio||1,g);c.value.width=Math.round(p*t),c.value.height=Math.round(m*t),c.value.style.width=`${p}px`,c.value.style.height=`${m}px`;const a=c.value.getContext("2d");a.setTransform(t,0,0,t,0,0),d.value=a},E=async e=>{const t=new Image;await new Promise((a,l)=>{t.onload=()=>a(),t.onerror=()=>l(new Error("Image load error")),t.src=e}),b.value=t,y.naturalW=t.naturalWidth,y.naturalH=t.naturalHeight,F(),A()},w=async e=>{if(!e)return;i.value=e;const t=URL.createObjectURL(e);s.value=t,await E(t),URL.revokeObjectURL(t)},F=()=>{if(!b.value)return;const e=b.value,t=l,a=t/e.naturalWidth,o=t/e.naturalHeight;y.scale=Math.max(a,o),y.minScale=y.scale,y.maxScale=4*y.scale,y.x=0,y.y=0,x()},A=()=>{const e=d.value;if(!e||!c.value)return;e.clearRect(0,0,p,m);const t=p/2,l=m/2,o=Math.min(p,m)/2-a;if(!b.value)return e.fillStyle="#efefef",e.fillRect(0,0,p,m),void L(e,o,t,l);const s=b.value,n=s.naturalWidth*y.scale,i=s.naturalHeight*y.scale,r=t-n/2+y.x,u=l-i/2+y.y;e.drawImage(s,r,u,n,i),e.save(),e.fillStyle="rgba(0,0,0,0.45)",e.beginPath(),e.rect(0,0,p,m),e.arc(t,l,o,0,2*Math.PI,!0),e.closePath();try{e.fill("evenodd")}catch{e.globalCompositeOperation="destination-out",e.beginPath(),e.arc(t,l,o,0,2*Math.PI),e.fill(),e.globalCompositeOperation="source-over"}e.restore(),L(e,o,t,l)},L=(e,t,a,l)=>{e.save(),e.strokeStyle="rgba(255,215,0,1)",e.lineWidth=2,e.beginPath(),e.arc(a,l,t,0,2*Math.PI),e.stroke(),e.restore()},I=e=>{u.value?.setPointerCapture(e.pointerId),y.pointers.set(e.pointerId,M(e)),1===y.pointers.size&&(y.dragging=!0,y.lastPointer=M(e))},S=e=>{if(b.value){if(y.pointers.has(e.pointerId)&&y.pointers.set(e.pointerId,M(e)),2===y.pointers.size){const e=Array.from(y.pointers.values()),t=P(e[0],e[1]);if(null==y._pinchStartDist)y._pinchStartDist=t,y._pinchStartScale=y.scale;else{const a=t/y._pinchStartDist;D(y._pinchStartScale*a,{x:(e[0].clientX+e[1].clientX)/2,y:(e[0].clientY+e[1].clientY)/2})}}else if(1===y.pointers.size&&y.dragging&&y.lastPointer){const e=y.pointers.values().next().value,t=e.clientX-y.lastPointer.clientX,a=e.clientY-y.lastPointer.clientY;B(t,a),y.lastPointer=M(e)}else if(y.dragging&&y.lastPointer){const t=e.clientX-y.lastPointer.clientX,a=e.clientY-y.lastPointer.clientY;B(t,a),y.lastPointer=M(e)}A()}},T=e=>{u.value?.releasePointerCapture?.(e.pointerId),y.pointers.delete(e.pointerId),y.pointers.size<2&&(y._pinchStartDist=null,y._pinchStartScale=null),0===y.pointers.size&&(y.dragging=!1,y.lastPointer=null),x(),A()},M=e=>({clientX:e.clientX,clientY:e.clientY,pointerId:e.pointerId}),P=(e,t)=>{const a=e.clientX-t.clientX,l=e.clientY-t.clientY;return Math.sqrt(a*a+l*l)},B=(e,t)=>{if(!c.value)return;const a=c.value.getBoundingClientRect(),o=l/a.width,s=l/a.height;y.x+=e*o,y.y+=t*s,x()},D=(e,t=null)=>{const a=y.scale;if(e=Math.max(y.minScale,Math.min(y.maxScale,e)),!t)return y.scale=e,void x();const o=c.value.getBoundingClientRect(),s=o.left+o.width/2,n=o.top+o.height/2,i=(t.x-s)*(l/o.width),r=(t.y-n)*(l/o.height);y.x=i+(y.x-i)*(e/a),y.y=r+(y.y-r)*(e/a),y.scale=e,x()},R=e=>{if(!b.value)return;const t=-e.deltaY,a=Math.exp(.0012*t);D(y.scale*a,{x:e.clientX,y:e.clientY}),A()},x=()=>{if(!b.value)return;const e=b.value,t=e.naturalWidth*y.scale,a=e.naturalHeight*y.scale,o=l/2,s=o*Math.SQRT2,n=s/2,i=-(t/2-n),r=t/2-n,c=-(a/2-n),u=a/2-n;y.x=i>r?0:Math.max(i,Math.min(r,y.x)),y.y=c>u?0:Math.max(c,Math.min(u,y.y))},_=async()=>{if(!b.value||!c.value)return Promise.resolve(null);const e=document.createElement("canvas");e.width=l,e.height=l;const a=e.getContext("2d"),o=l/2,s=l/2,n=b.value,r=n.naturalWidth*y.scale,u=n.naturalHeight*y.scale,d=o-r/2+y.x,p=s-u/2+y.y;a.clearRect(0,0,l,l),a.drawImage(n,d,p,r,u),a.globalCompositeOperation="destination-in",a.beginPath(),a.arc(o,s,l/2,0,2*Math.PI),a.closePath(),a.fill(),k.value=e.toDataURL("image/png");const m=await new Promise(t=>{e.toBlob(e=>t(e),"image/png")});if(!m)return null;const g=new File([m],"avatar.png",{type:"image/png",lastModified:Date.now()});t("resolve",{file:g,originalFile:i.value})},W=async()=>{if(i.value){const e=URL.createObjectURL(i.value);return await E(e),void URL.revokeObjectURL(e)}e.imageUrl&&await E(e.imageUrl)};let O=null,V=0,X=!1;const K=()=>{X||(X=!0,V=requestAnimationFrame(()=>{X=!1,A()}))};(0,o.sV)(()=>{C(),K(),O=new ResizeObserver(()=>{C(),K()}),c.value?.parentElement&&O.observe(c.value.parentElement),f.value&&E(f.value),window.addEventListener("orientationchange",()=>{C(),K()}),u.value?.addEventListener("pointerdown",e=>{u.value?.setPointerCapture?.(e.pointerId)})}),(0,o.xo)(()=>{O&&c.value?.parentElement&&O.unobserve(c.value.parentElement),O=null,cancelAnimationFrame(V),y.pointers.clear()});const U=()=>{Q(),D(y.scale*v,{x:h.x,y:h.y}),A()},G=()=>{Q(),D(y.scale/v,{x:h.x,y:h.y}),A()},Q=()=>{if(!c.value)return;const e=c.value.getBoundingClientRect();h={x:e.left+e.width/2,y:e.top+e.height/2}},z=()=>{t("close")};return{fileInput:r,canvas:c,wrap:u,image:f,imgObj:b,onFileSelected:w,reset:W,exportImage:_,startPan:I,onPointerMove:S,endPan:T,onWheel:R,zoomIn:U,zoomOut:G,close:z}}});const eo=(0,h.A)($l,[["render",zl],["__scopeId","data-v-8b15a9c2"]]);var to=eo,ao=(0,o.pM)({components:{AppCheckbox:Ta,AppPopover:Ca,AppPopoverWrapper:va,AppPopoverItem:ua,AppButton:zt},emits:["update:imageUrl","isLoading"],setup(e,{emit:t}){const{t:a}=(0,r.s9)(),l=(0,n.KR)(!1),s=(0,i.Pj)(),c=(0,n.KR)(null),u=(0,n.KR)(null),d=(0,n.KR)(null),p=(0,n.KR)(null),m=(0,o.EW)(()=>"mobile"===s.getters["mobile/breakPoint"]),g=(0,o.EW)(()=>s.getters["authFirebase/currentUser"]),v=(0,n.KR)(null),h=(0,n.KR)(),f=(0,n.KR)(!1),b=(0,n.KR)(s.getters["imageColor/shareImgMask"]),k=(0,n.KR)(s.getters["imageColor/rememberImgCollage"]),y=(0,n.KR)(null);let C=!1;const E=()=>{if(!c.value)return{width:0,height:0};const e=c.value,t=window.getComputedStyle(e),a=e.clientWidth-parseFloat(t.paddingLeft)-parseFloat(t.paddingRight),l=e.clientHeight-parseFloat(t.paddingTop)-parseFloat(t.paddingBottom);return{width:Math.max(1,Math.floor(a)),height:Math.max(1,Math.floor(l))}},F=e=>{const t=Math.max(4,.35*e);return Math.floor(t)},A=async e=>{C=!1,v.value=await Ma(e),await s.dispatch("imageColor/uploadImgCollage",{file:e}),await L()},L=async()=>{if(!u.value||!c.value)return;const e=E(),t=e.width,a=e.height;if(0===t||0===a)return;const l=u.value.getContext("2d"),o=window.devicePixelRatio||1;u.value.width=t*o,u.value.height=a*o,u.value.style.width=t+"px",u.value.style.height=a+"px",l.setTransform(1,0,0,1,0,0),l.scale(o,o),l.clearRect(0,0,t,a),v.value&&!C&&(d.value=await T(v.value),C=!0);let s=3,n=2;(t<600||m.value)&&(s=2,n=3);const i=15,r=10,p=i*(s-1),g=Math.floor((t-p)/s),h=r*(n-1),f=Math.floor((a-h)/n),b=Math.min(g,f)/2,k=Math.max(20,.9*b);let y=0;for(let c=0;c<n;c++)for(let e=0;e<s;e++){const t=Math.floor(e*(g+i)+g/2),a=Math.floor(c*(f+r)+f/2),o=Nt[y%Nt.length];P(l,d.value,t,a,k,o.segments),y++}},{getCanvasSrc:I,saveImage:S,loadImage:T,zoom:M}=sa(u,L,t,p),P=(e,t,a,l,o,s)=>{const n=F(o);if(t){e.save(),e.beginPath(),e.arc(a,l,o-n,0,2*Math.PI),e.closePath(),e.clip();const s=Math.min(t.width,t.height),i=(t.width-s)/2,r=(t.height-s)/2,c=(2*o-2*n)*M.value;e.drawImage(t,i,r,s,s,a-c/2,l-c/2,c,c),e.restore()}const i=s.length,r=2*Math.PI/i;e.lineWidth=n;for(let c=0;c<i;c++){const t=c*r-Math.PI/2,i=(c+1)*r-Math.PI/2;e.beginPath(),e.strokeStyle=s[c].color,e.arc(a,l,o-n/2,t,i),e.stroke()}},B=()=>{c.value&&"undefined"!==typeof ResizeObserver&&(y.value=new ResizeObserver(()=>{L()}),y.value.observe(c.value))},D=()=>{l.value=!0},R=async()=>{if(C){f.value=!0,l.value=!1,m.value&&t("isLoading",!0);try{await s.dispatch("gallery/saveImageToGallery",{canvas:u.value,title:"",coloristicType:"collage",maskType:"",userId:g.value?.uid,paletteType:""})}finally{f.value=!1,m.value&&t("isLoading",!1)}}else await s.dispatch("toast/addToast",{message:"uploadImage",severity:"warning"})};(0,o.wB)(()=>b.value,e=>{s.dispatch("imageColor/setShareImgMask",{share:e})}),(0,o.wB)(()=>k.value,e=>{s.dispatch("imageColor/setRememberImgCollage",{remember:e})}),(0,o.wB)(()=>s.getters["imageColor/imgMask"],e=>{s.getters["imageColor/shareImgCollage"]&&A(e)}),(0,o.sV)(()=>{if(B(),(0,o.dY)(L),s.getters["imageColor/rememberImgCollage"]){const e=s.getters["imageColor/imgCollage"];e&&A(e)}}),(0,o.hi)(()=>{y.value&&y.value.disconnect()}),(0,o.wB)(()=>s.getters["mobile/clientWidth"],()=>{setTimeout(()=>{L()},50)},{immediate:!0});const x=async()=>{const e=I();await w(Kl,{url:e,coloristicType:"collage",currentUserId:g.value?.uid,canvas:u.value,imageUrl:v.value})},_=async()=>{l.value=!1;const e=s.getters["imageColor/getOriginalImgCollage"];let t=null;e&&(t=await Ma(e)),await w(to,{imageUrl:t}).then(e=>{e.originalFile&&s.dispatch("imageColor/setOriginalImgCollage",{file:e.originalFile}),s.dispatch("imageColor/uploadImgCollage",{file:e.file}),A(e.file)})};return{containerRef:c,canvas:u,saveImage:S,isMobile:m,openPopover:D,visiblePopover:l,t:a,isSaveToGallery:f,saveToGallery:R,sharedWithMask:b,rememberChoose:k,onFileSelected:A,uploader:h,openImageModal:x,openImageSettingsModal:_}}});const lo=(0,h.A)(ao,[["render",_t],["__scopeId","data-v-6e3b8e1c"]]);var oo=lo;const so={class:"color-wrapper"},no={class:"selected"},io={class:"editor"},ro={key:0,class:"btn"},co={key:1,class:"btn"},uo={key:2,class:"btn"},po={key:3,class:"btn"},mo={key:4,class:"btn"},go={key:5,class:"checkbox"},vo={key:6,class:"checkbox"};function ho(e,t,a,s,n,i){const r=(0,o.g2)("app-color-card"),u=(0,o.g2)("app-editor-canvas"),d=(0,o.g2)("app-button"),p=(0,o.g2)("AppCheckbox"),m=(0,o.g2)("font-awesome-icon"),g=(0,o.g2)("app-popover-item"),v=(0,o.g2)("app-popover-wrapper"),h=(0,o.g2)("app-popover");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",so,[(0,o.Lk)("section",no,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.cards,t=>((0,o.uX)(),(0,o.Wv)(r,{key:t.id,card:t,"is-selected":e.selectedCard?.id===t?.id,onSelected:e.selected},null,8,["card","is-selected","onSelected"]))),128))]),(0,o.Lk)("section",io,[(0,o.bF)(u,{ref:"editorCanvasRef","image-url":e.imageUrl,"onUpdate:imageUrl":t[0]||(t[0]=t=>e.imageUrl=t),segments:e.frameColors},null,8,["image-url","segments"])]),(0,o.Lk)("section",{class:(0,c.C4)(["buttons",{isMobile:e.isMobile}])},[e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",ro,[(0,o.bF)(d,{raised:"",title:"pickPhoto",severity:"secondary",icon:["fas","sliders"],onClick:e.openImageSettingsModal},null,8,["onClick"])])),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",co,[(0,o.bF)(d,{raised:"",icon:["fas","camera"],severity:"secondary",title:"takePhoto",onClick:e.openCameraModal},null,8,["onClick"])])),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",uo,[(0,o.bF)(d,{severity:"success",title:"download",onClick:e.saveToDevice},null,8,["onClick"])])),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",po,[(0,o.bF)(d,{severity:"warning",title:"saveToGallery",loading:e.isSaveToGallery,onClick:e.saveToGallery},null,8,["loading","onClick"])])),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",mo,[(0,o.bF)(d,{severity:"info",title:"addSign",onClick:e.openImageModal},null,8,["onClick"])])),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",go,[(0,o.bF)(p,{modelValue:e.sharedWithCollage,"onUpdate:modelValue":t[1]||(t[1]=t=>e.sharedWithCollage=t),label:"shareImageWithCollage"},null,8,["modelValue"])])),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",vo,[(0,o.bF)(p,{modelValue:e.rememberChoose,"onUpdate:modelValue":t[2]||(t[2]=t=>e.rememberChoose=t),label:"rememberChoose"},null,8,["modelValue"])])),e.isMobile?((0,o.uX)(),(0,o.Wv)(m,{key:7,icon:["fas","ellipsis-h"],size:"xl",onClick:(0,l.D$)(e.openPopover,["stop"])},null,8,["onClick"])):(0,o.Q3)("",!0)],2)]),(0,o.bF)(h,{visible:e.visiblePopover,"onUpdate:visible":t[5]||(t[5]=t=>e.visiblePopover=t)},{default:(0,o.k6)(()=>[(0,o.bF)(v,null,{default:(0,o.k6)(()=>[(0,o.bF)(g,{onClick:e.openImageSettingsModal},{default:(0,o.k6)(()=>[(0,o.bF)(m,{size:"xl",icon:["fas","sliders"]}),(0,o.Lk)("span",null,(0,c.v_)(e.t("pickPhoto")),1)]),_:1},8,["onClick"]),(0,o.bF)(g,{onClick:e.openCameraModal},{default:(0,o.k6)(()=>[(0,o.bF)(m,{size:"xl",icon:["fas","camera"]}),(0,o.Lk)("span",null,(0,c.v_)(e.t("takePhoto")),1)]),_:1},8,["onClick"]),(0,o.bF)(g,{onClick:e.saveToDevice},{default:(0,o.k6)(()=>[(0,o.bF)(m,{size:"xl",icon:["fas","download"]}),(0,o.Lk)("span",null,(0,c.v_)(e.t("download")),1)]),_:1},8,["onClick"])]),_:1}),(0,o.bF)(v,null,{default:(0,o.k6)(()=>[(0,o.bF)(g,{onClick:e.saveToGallery},{default:(0,o.k6)(()=>[(0,o.bF)(m,{size:"xl",icon:["fas","images"]}),(0,o.Lk)("span",null,(0,c.v_)(e.t("saveToGallery")),1)]),_:1},8,["onClick"]),(0,o.bF)(g,{onClick:e.openImageModal},{default:(0,o.k6)(()=>[(0,o.bF)(m,{size:"xl",icon:["fas","fa-pencil-square"]}),(0,o.Lk)("span",null,(0,c.v_)(e.t("addSign")),1)]),_:1},8,["onClick"])]),_:1}),(0,o.bF)(v,null,{default:(0,o.k6)(()=>[(0,o.bF)(g,null,{default:(0,o.k6)(()=>[(0,o.bF)(p,{modelValue:e.sharedWithCollage,"onUpdate:modelValue":t[3]||(t[3]=t=>e.sharedWithCollage=t)},null,8,["modelValue"]),(0,o.Lk)("span",null,(0,c.v_)(e.t("shareImageWithCollage")),1)]),_:1}),(0,o.bF)(g,null,{default:(0,o.k6)(()=>[(0,o.bF)(p,{modelValue:e.rememberChoose,"onUpdate:modelValue":t[4]||(t[4]=t=>e.rememberChoose=t)},null,8,["modelValue"]),(0,o.Lk)("span",null,(0,c.v_)(e.t("rememberChoose")),1)]),_:1})]),_:1})]),_:1},8,["visible"])],64)}const fo={class:"card-number"},bo={class:"segments"};function ko(e,t,a,l,s,n){return(0,o.uX)(),(0,o.CE)("div",{class:(0,c.C4)(["card",{cardSelected:e.isSelected}]),onClick:t[0]||(t[0]=(...t)=>e.selected&&e.selected(...t))},[(0,o.Lk)("div",fo,(0,c.v_)(e.card?.type?e.t(e.card.type):e.index+1),1),(0,o.Lk)("div",bo,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.card.segments,e=>((0,o.uX)(),(0,o.CE)("div",{key:e,class:"segment",style:(0,c.Tr)({backgroundColor:e.color})},null,4))),128))])],2)}var yo=(0,o.pM)({props:{card:{type:Object,required:!0},isSelected:{type:Boolean,default:!1},index:{type:Number,default:0}},emits:["selected"],setup(e,{emit:t}){const{t:a}=(0,r.s9)(),l=()=>{t("selected",e.card)};return{selected:l,t:a}}});const Co=(0,h.A)(yo,[["render",ko],["__scopeId","data-v-3f049938"]]);var Eo=Co;const wo={ref:"containerRef"};function Fo(e,t,a,l,s,n){return(0,o.uX)(),(0,o.CE)("div",wo,[(0,o.Lk)("canvas",{ref:"canvasRef",class:"high-quality-canvas",onClick:t[0]||(t[0]=(...t)=>e.handleCanvasClick&&e.handleCanvasClick(...t))},null,512)],512)}a(7588);var Ao=(0,o.pM)({name:"AppEditorCanvas",props:{segments:{type:Array,required:!0},imageUrl:{type:[String,null],default:null},gapBetweenSegments:{type:Number,default:0},isMarkSegment:{type:Boolean,default:!1},frameThicknessPercent:{type:Number,default:16}},emits:["update:imageUrl","selected-segment"],setup(e,{emit:t}){const a=(0,i.Pj)(),l=(0,n.KR)(null),s=(0,n.KR)(null),r=(0,n.KR)(null),c=(0,n.KR)(null),u=(0,n.KR)(480),d=(0,n.KR)(0),p=(0,n.KR)(null),m=(0,n.KR)(0),g=(0,n.KR)(0),v=(0,n.KR)(1),h=(0,n.KR)(null);let f=!1;const b=()=>{l.value&&"undefined"!==typeof ResizeObserver&&(h.value=new ResizeObserver(w),h.value.observe(l.value))},k=()=>window.devicePixelRatio||1,y=()=>u.value*e.frameThicknessPercent/100,C=()=>{if(!l.value)return 480;const e=l.value,t=e.clientWidth,a=e.clientHeight,o=Math.min(t,a),s=Math.max(200,Math.min(o,800));return s},E=()=>{const e=C();return u.value=e,e},w=async()=>{if(!s.value)return;E();const t=s.value,a=t.getContext("2d"),l=k();v.value=l,t.width=u.value*l,t.height=u.value*l,t.style.width=`${u.value}px`,t.style.height=`${u.value}px`,a.scale(l,l),a.imageSmoothingEnabled=!0,a.imageSmoothingQuality="high",a.clearRect(0,0,u.value,u.value),e.imageUrl&&!f&&(r.value=await L(e.imageUrl),f=!0),P(a),B(a)},{getCanvasSrc:F,saveImage:A,loadImage:L,zoom:I}=sa(s,w,t),S=()=>s.value,T=()=>F(),M=()=>{A()},P=e=>{const t=u.value/2,a=y(),l=r.value;if(!l)return;e.save(),e.beginPath(),e.arc(t,t,t-a,0,2*Math.PI),e.closePath(),e.clip(),e.translate(t+(m.value??0),t+(g.value??0)),e.rotate(d.value*Math.PI/180);const o=u.value-2*a,s=Math.min(l.width,l.height),n=o*I.value;e.drawImage(l,(l.width-s)/2,(l.height-s)/2,s,s,-n/2,-n/2,n,n),e.restore()},B=t=>{const a=u.value/2,l=y(),o=2*Math.PI/e.segments.length,s=p.value??-Math.PI/2;t.lineWidth=l,t.imageSmoothingEnabled=!0,e.segments.forEach((n,i)=>{t.beginPath(),t.strokeStyle=n.color;const r=i*o+s+e.gapBetweenSegments,c=(i+1)*o+s-e.gapBetweenSegments;t.arc(a,a,a-l/2,r,c),t.stroke()})},D=a=>{if(!e.isMarkSegment)return;if(!s.value)return;const l=s.value.getBoundingClientRect(),o=a.clientX-l.left,n=a.clientY-l.top,i=u.value/2,r=u.value/2,c=u.value/2,d=y(),m=Math.sqrt(Math.pow(o-i,2)+Math.pow(n-r,2)),g=c-d,v=c;if(m>=g&&m<=v){const a=Math.atan2(n-r,o-i);let l=a;l<0&&(l+=2*Math.PI);const s=p.value??-Math.PI/2;let c=l-s;c<0&&(c+=2*Math.PI),c>=2*Math.PI&&(c-=2*Math.PI);const u=2*Math.PI/e.segments.length;let d=Math.floor(c/u);d>=e.segments.length?d=e.segments.length-1:d<0&&(d=0),t("selected-segment",d),R(d)}else w()},R=t=>{if(!s.value)return;w();const a=s.value.getContext("2d"),l=u.value/2,o=y(),n=2*Math.PI/e.segments.length,i=p.value??-Math.PI/2;a.save(),a.beginPath(),a.strokeStyle="rgba(255, 255, 255, 0.7)",a.lineWidth=o,a.lineCap="round";const r=t*n+i+e.gapBetweenSegments,c=(t+1)*n+i-e.gapBetweenSegments;a.arc(l,l,l-o/2,r,c),a.stroke(),a.restore()};return(0,o.sV)(()=>{b(),(0,o.dY)(()=>{w()})}),(0,o.hi)(()=>{h.value&&h.value.disconnect()}),(0,o.wB)(()=>e.imageUrl,e=>{e&&!c.value&&(c.value=e),e&&c.value&&(f=!1,I.value=1,c.value=e),w()}),(0,o.wB)(()=>a.getters["mobile/clientWidth"],()=>{w()},{immediate:!0}),(0,o.wB)(()=>e.segments,()=>{(0,o.dY)(()=>w())}),(0,o.wB)(()=>e.frameThicknessPercent,()=>{w()}),{containerRef:l,canvasRef:s,triggerSaveImage:M,sizeRef:u,getCanvasValue:S,getImageSrc:T,handleCanvasClick:D}}});const Lo=(0,h.A)(Ao,[["render",Fo],["__scopeId","data-v-127d4b40"]]);var Io=Lo;const So={class:"modal-content neon"},To={class:"cards"},Mo={ref:"viewer",class:"cam-wrap"},Po={ref:"video",autoplay:"",playsinline:"",muted:""},Bo={ref:"overlay",class:"overlay"},Do={key:2},Ro=["src"],xo={class:"btn"};function _o(e,t,a,l,s,n){const i=(0,o.g2)("app-loader"),r=(0,o.g2)("app-color-card"),c=(0,o.g2)("app-overlay-panel"),u=(0,o.g2)("app-modal-header"),d=(0,o.g2)("AppShutterButton"),p=(0,o.g2)("font-awesome-icon");return(0,o.uX)(),(0,o.CE)("div",So,[e.isLoader?((0,o.uX)(),(0,o.Wv)(i,{key:0})):(0,o.Q3)("",!0),e.modalRef?((0,o.uX)(),(0,o.Wv)(c,{key:1,visible:e.visible,"onUpdate:visible":t[0]||(t[0]=t=>e.visible=t),width:e.isMobile?300:550,target:e.modalRef,position:{x:"left",y:"center"}},{default:(0,o.k6)(()=>[(0,o.Lk)("section",To,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.cards,(t,a)=>((0,o.uX)(),(0,o.Wv)(r,{key:t.id,index:a,card:t,"is-selected":e.selectedCard?.id===t?.id,onSelected:e.selected},null,8,["index","card","is-selected","onSelected"]))),128))])]),_:1},8,["visible","width","target"])):(0,o.Q3)("",!0),(0,o.bF)(u,{onClose:e.close},null,8,["onClose"]),(0,o.Lk)("div",Mo,[(0,o.Lk)("video",Po,null,512),(0,o.Lk)("canvas",Bo,null,512)],512),e.isLoader?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("footer",Do,[(0,o.Lk)("div",{class:"image",onClick:t[1]||(t[1]=(...t)=>e.goBackWithResult&&e.goBackWithResult(...t))},[e.photo?((0,o.uX)(),(0,o.CE)("img",{key:0,src:e.photo,alt:"photo"},null,8,Ro)):(0,o.Q3)("",!0)]),(0,o.Lk)("div",xo,[(0,o.bF)(d,{onCapture:e.takePhotoWithFrameMasked},null,8,["onCapture"])]),(0,o.Lk)("div",{ref:"modalRef",class:"settings",onClick:t[2]||(t[2]=(...t)=>e.openOverlayPanel&&e.openOverlayPanel(...t))},[(0,o.bF)(p,{size:"xl",icon:["fas","sliders"]})],512)]))])}function Wo(e,t,a,s,n,i){return(0,o.uX)(),(0,o.CE)("button",{ref:"btn",class:(0,c.C4)(["shutter",{active:e.isActive,pressed:e.isPressed}]),"aria-label":"Сделать снимок",type:"button",onPointerdown:t[0]||(t[0]=(...t)=>e.onPointerDown&&e.onPointerDown(...t)),onPointerup:t[1]||(t[1]=(...t)=>e.onPointerUp&&e.onPointerUp(...t)),onPointercancel:t[2]||(t[2]=(...t)=>e.onPointerCancel&&e.onPointerCancel(...t)),onPointerleave:t[3]||(t[3]=(...t)=>e.onPointerCancel&&e.onPointerCancel(...t)),onClick:t[4]||(t[4]=(...t)=>e.emitCapture&&e.emitCapture(...t)),onKeydown:[t[5]||(t[5]=(0,l.jR)((0,l.D$)((...t)=>e.onKeyPress&&e.onKeyPress(...t),["prevent"]),["space"])),t[6]||(t[6]=(0,l.jR)((0,l.D$)((...t)=>e.onKeyPress&&e.onKeyPress(...t),["prevent"]),["enter"]))]},[t[7]||(t[7]=(0,o.Lk)("span",{class:"ring","aria-hidden":"true"},null,-1)),t[8]||(t[8]=(0,o.Lk)("span",{class:"inner","aria-hidden":"true"},null,-1)),e.ripple.visible?((0,o.uX)(),(0,o.CE)("span",{key:0,class:"ripple",style:(0,c.Tr)(e.ripple.style)},null,4)):(0,o.Q3)("",!0)],34)}var Oo=(0,o.pM)({emits:["capture"],setup(e,{emit:t}){const a=(0,n.KR)(null),l=(0,n.KR)(!1),s=(0,n.KR)(!1),i=(0,n.KR)({visible:!1,style:{}}),r=()=>{t("capture"),c()},c=()=>{a.value&&(l.value=!0,setTimeout(()=>l.value=!1,120))},u=()=>{s.value=!0,g()},d=()=>{s.value=!1},p=()=>{s.value=!1},m=()=>{s.value=!0,setTimeout(()=>s.value=!1,150),r()},g=()=>{const e=a.value;if(!e)return;const t=e.getBoundingClientRect(),l=t.width/2,s=t.height/2,n=1.6*Math.max(t.width,t.height);i.value.style={width:`${n}px`,height:`${n}px`,left:l-n/2+"px",top:s-n/2+"px",transform:"scale(0.1)",opacity:"0.28"},i.value.visible=!0,(0,o.dY)(()=>{requestAnimationFrame(()=>{i.value.style={...i.value.style,transition:"transform 420ms cubic-bezier(.2,.9,.2,1), opacity 420ms linear",transform:"scale(1)",opacity:"0"},setTimeout(()=>{i.value.visible=!1,i.value.style={}},450)})})};return{btn:a,isActive:l,isPressed:s,ripple:i,onPointerDown:u,onPointerUp:d,onPointerCancel:p,onKeyPress:m,emitCapture:r}}});const Vo=(0,h.A)(Oo,[["render",Wo],["__scopeId","data-v-d104a512"]]);var Xo=Vo,Ko=(0,o.pM)({components:{AppLoader:Rl,AppOverlayPanel:Ue,AppShutterButton:Xo,AppColorCard:Eo,AppModalHeader:qa},props:{colorCards:{type:Array,default:Nt}},emits:["resolve","reject","close"],setup(e,{emit:t}){const a=(0,i.Pj)(),l=(0,o.EW)(()=>"mobile"===a.getters["mobile/breakPoint"]),s=e.colorCards,r=(0,n.KR)(null),c=(0,n.KR)(null),u=(0,n.KR)(null),d=(0,n.KR)(null),p=(0,n.KR)(null),m=(0,n.KR)(null),g=(0,n.KR)(null),v=(0,n.KR)(null),h=(0,n.KR)(!1),f=(0,n.KR)(null),b=(0,n.KR)(),k=(0,n.KR)(!1);(0,o.KC)(()=>{const[e]=s;f.value=e,b.value=e.segments}),(0,o.sV)(()=>{E()}),(0,o.xo)(()=>{p.value&&(p.value.getTracks().forEach(e=>e.stop()),p.value=null)});const y=()=>{t("close")},C=()=>{const e=c.value;if(!e)return;const t=e.getBoundingClientRect(),a=t.width,o=t.height,s=window.devicePixelRatio||1,n=Math.round(a*s),i=Math.round(o*s);e.width===n&&e.height===i||(e.width=n,e.height=i);const r=e.getContext("2d");if(!r)return;r.setTransform(s,0,0,s,0,0),r.clearRect(0,0,a,o);const u=Math.max(6,Math.round(.02*Math.min(a,o))),d=l.value?65:80,p=2,m=a/2,g=o/2,v=Math.max(10,Math.min(a,o)/2-u-d/p),h=b.value.length,f=2*Math.PI/h,k=-Math.PI/2;r.save(),r.lineWidth=d,r.lineCap="butt";for(let l=0;l<h;l++){const e=l*f+k,t=(l+1)*f+k;r.beginPath(),r.strokeStyle=b.value[l].color,r.arc(m,g,v,e,t,!1),r.stroke()}r.restore()},E=async()=>{k.value=!0;try{if(p.value=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}),!r.value)return;r.value.srcObject=p.value,await new Promise(e=>{const t=()=>{r.value?.removeEventListener("loadedmetadata",t),e()};r.value?.addEventListener("loadedmetadata",t)}),await r.value.play(),k.value=!1,C()}catch(e){console.error("Camera error",e),k.value=!1}},w=async()=>{const e=r.value,t=l.value?320:520;if(!e||!e.videoWidth||!e.videoHeight)return;const a=document.createElement("canvas"),o=window.devicePixelRatio||1;a.width=Math.round(t*o),a.height=Math.round(t*o),a.style.width=`${t}px`,a.style.height=`${t}px`;const s=a.getContext("2d");s.setTransform(o,0,0,o,0,0),s.clearRect(0,0,t,t);const n=e.videoWidth,i=e.videoHeight,c=n/i,u=1;let p=0,g=0,v=n,h=i;c>u?(h=i,v=Math.round(h*u),p=Math.round(.5*(n-v)),g=0):(v=n,h=Math.round(v/u),p=0,g=Math.round(.5*(i-h)));const f=(l.value,1.6),b=0,k=0,y=Math.max(1,Math.round(v/f)),C=Math.max(1,Math.round(h/f)),E=p+v/2+b*(v/2),w=g+h/2+k*(h/2);p=Math.round(E-y/2),g=Math.round(w-C/2),p=Math.max(0,Math.min(n-y,p)),g=Math.max(0,Math.min(i-C,g)),v=y,h=C,s.imageSmoothingEnabled=!0,s.drawImage(e,p,g,v,h,0,0,t,t),m.value=a.toDataURL("image/png"),d.value=a},F=e=>{f.value=e,b.value=e.segments,C()},A=async()=>{const e=await new Promise(e=>{d.value&&d.value.toBlob(t=>e(t),"image/png")});if(!e)return null;const a=new File([e],"avatar.png",{type:"image/png",lastModified:Date.now()});t("resolve",{file:a,selectedCard:f.value})},L=()=>{h.value=!0};return{video:r,canvas:u,viewer:g,photo:m,overlay:c,takePhotoWithFrameMasked:w,cards:s,selectedCard:f,selected:F,goBackWithResult:A,close:y,modalRef:v,visible:h,openOverlayPanel:L,isMobile:l,isLoader:k}}});const Uo=(0,h.A)(Ko,[["render",_o],["__scopeId","data-v-02750bc1"]]);var Go=Uo,Qo=(0,o.pM)({components:{AppCheckbox:Ta,AppPopoverItem:ua,AppPopoverWrapper:va,AppPopover:Ca,AppButton:zt,AppEditorCanvas:Io,AppColorCard:Eo},emits:["fileOnLoad","isLoading"],setup(e,{emit:t}){const a=(0,n.KR)(null),{t:l}=(0,r.s9)(),s=(0,n.KR)(),c=(0,i.Pj)(),u=(0,n.KR)(!1),d=Nt,p=(0,n.KR)(null),m=(0,n.KR)(),g=(0,n.KR)(null),v=(0,n.KR)(!1),h=(0,n.KR)(c.getters["imageColor/shareImgCollage"]),f=(0,n.KR)(c.getters["imageColor/rememberImgMask"]),b=(0,o.EW)(()=>c.getters["imageColor/imgCollage"]),k=(0,o.EW)(()=>c.getters["imageColor/imgMask"]),y=(0,o.EW)(()=>c.getters["imageColor/getOriginalImgMask"]),C=(0,o.EW)(()=>c.getters["authFirebase/currentUser"]),E=(0,o.EW)(()=>"mobile"===c.getters["mobile/breakPoint"]);(0,o.KC)(()=>{const[e]=d;p.value=e,m.value=e.segments}),(0,o.sV)(()=>{if(h.value){const e=k.value;e&&F(e)}});const F=async e=>{g.value=await Ma(e),await c.dispatch("imageColor/uploadImgMask",{file:e})},A=async()=>{if(g.value){v.value=!0,u.value=!1,E.value&&t("isLoading",!0);try{await c.dispatch("gallery/saveImageToGallery",{canvas:a.value?.getCanvasValue(),title:"",coloristicType:"mask",maskType:p.value?.type,userId:C.value?.uid,paletteType:""})}finally{v.value=!1,E.value&&t("isLoading",!1)}}else await c.dispatch("toast/addToast",{message:"uploadImage",severity:"warning"})},L=e=>{p.value=e,m.value=e.segments},I=()=>{u.value=!0},S=async()=>{const e=a.value?.getImageSrc();await w(Kl,{url:e,coloristicType:"mask",maskType:p.value?.type,currentUserId:C.value?.uid,canvas:a.value?.getCanvasValue(),imageUrl:g.value})},T=async()=>{u.value=!1;const e=y.value;let t=null;e&&(t=await Ma(e)),await w(to,{imageUrl:t}).then(e=>{e.originalFile&&c.dispatch("imageColor/setOriginalImgMask",{file:e.originalFile}),c.dispatch("imageColor/uploadImgMask",{file:e.file}),F(e.file)})};(0,o.wB)(h,e=>{c.dispatch("imageColor/setShareImgCollage",{share:e})}),(0,o.wB)(f,e=>{c.dispatch("imageColor/setRememberImgMask",{remember:e})}),(0,o.wB)(b,async e=>{c.getters["imageColor/shareImgMask"]&&(g.value=await Ma(e))});const M=()=>{a.value?.triggerSaveImage()},P=async()=>{await w(Go,{}).then(e=>{c.dispatch("imageColor/uploadImgMask",{file:e.file}),F(e.file),L(e.selectedCard)})};return{frameColors:m,imageUrl:g,onFileSelected:F,cards:d,selected:L,selectedCard:p,visiblePopover:u,isMobile:E,openPopover:I,uploader:s,t:l,saveToGallery:A,isSaveToGallery:v,editorCanvasRef:a,sharedWithCollage:h,rememberChoose:f,openImageModal:S,openImageSettingsModal:T,saveToDevice:M,openCameraModal:P}}});const zo=(0,h.A)(Qo,[["render",ho],["__scopeId","data-v-5a1327e4"]]);var No=zo,jo=(0,o.pM)({components:{AppLoader:Rl,AppColorMask:No,AppCollage:oo,AppTab:St,AppTabs:Ft},setup(){const e=(0,n.KR)(null),t=(0,n.KR)(!1),a=t=>{e.value=t};return(0,o.sV)(()=>{hl().disable()}),{imageUrl:e,fileOnLoad:a,isLoading:t}}});const Ho=(0,h.A)(jo,[["render",ht],["__scopeId","data-v-f63b5b1a"]]);var Yo=Ho;const qo={namespaced:!0,state:()=>({toasts:[],counter:0}),mutations:{ADD_TOAST(e,t){const a=e.counter++;e.toasts.push({id:a,...t}),setTimeout(()=>{const t=e.toasts.findIndex(e=>e.id===a);-1!==t&&e.toasts.splice(t,1)},t.duration)},DELETE_TOAST(e,t){const a=e.toasts.findIndex(e=>e.id===t);-1!==a&&e.toasts.splice(a,1)}},actions:{addToast({commit:e},t){e("ADD_TOAST",{message:t.message,severity:t.severity||"info",duration:t.duration||4e3})},deleteToast({commit:e},t){e("DELETE_TOAST",t.id)}},getters:{getToasts(e){return e.toasts}}},Jo={namespaced:!0,state:()=>({theme:"light",isDark:!1}),mutations:{INIT_THEME(e){let t=localStorage.getItem("theme");t&&(e.theme=t,e.isDark="dark"===t,document.documentElement.classList.toggle("dark",e.isDark))},SET_THEME(e,t){e.theme=t?"dark":"light",e.isDark=t,document.documentElement.classList.toggle("dark",t),localStorage.setItem("theme",e.theme)}},actions:{initTheme({commit:e}){e("INIT_THEME")},setTheme({commit:e},t){e("SET_THEME",t)}},getters:{isDark(e){return e.isDark},theme(e){return e.theme}}},Zo={namespaced:!0,state:()=>({language:"ru"}),mutations:{INIT_LANGUAGE(e){let t=localStorage.getItem("language");t&&(e.language=t)},SET_LANGUAGE(e,t){e.language=t.language,localStorage.setItem("language",t.language)}},actions:{initLanguage({commit:e}){e("INIT_LANGUAGE")},setLanguage({commit:e},t){e("SET_LANGUAGE",t)}},getters:{language(e){return e.language}}},$o={"auth/invalid-credential":"incorrectLoginPassword","auth/user-not-found":"userNotFound","auth/email-already-in-use":"emailExists","auth/popup-closed-by-user":"popupClosedByUser","auth/cancelled-popup-request":"cancelled"},es={namespaced:!0,state:()=>({user:null,loading:!1,isLoadingGoogle:!1}),getters:{isAuthenticated:e=>{const t=localStorage.getItem("user"),a=t?JSON.parse(t):null;return!!e.user||!!a},currentUser:e=>e.user,isLoading:e=>e.loading,isLoadingGoogle:e=>e.isLoadingGoogle,getUserId:()=>{const e=localStorage.getItem("user");return e?JSON.parse(e).uid:null}},mutations:{setUser(e,t){e.user=t,t?localStorage.setItem("user",JSON.stringify(t)):localStorage.removeItem("user")},setLoading(e,t){e.loading=t},setLoadingGoogle(e,t){e.isLoadingGoogle=t}},actions:{async register({commit:e,dispatch:t},a){e("setLoading",!0);try{const l=await(0,Yt.eJ)(ta,a.email,a.password),o=(0,qt.rJ)(aa,"users","Asbe4RDbnbYilRIWtx4F","items");await(0,qt.gS)(o,{userId:l.user.uid,email:a.email,role:a.role,createdAt:(0,qt.O5)()}),e("setUser",l.user),t("toast/addToast",{message:"registrationSuccessful",severity:"success",duration:3e3},{root:!0})}catch(l){const e=l;throw t("toast/addToast",{message:e.code?$o[e.code]:"unknownError",severity:"error",duration:3e3},{root:!0}),l}finally{e("setLoading",!1)}},async login({commit:e,dispatch:t},{email:a,password:l}){e("setLoading",!0);try{const o=await(0,Yt.x9)(ta,a,l);e("setUser",o.user),t("toast/addToast",{message:"loginSuccessful",severity:"success",duration:3e3},{root:!0})}catch(o){const a=o;throw t("toast/addToast",{message:a.code?$o[a.code]:"unknownError",severity:"error",duration:3e3},{root:!0}),e("setLoading",!1),o}finally{e("setLoading",!1)}},async loginWithGoogle({commit:e,dispatch:t}){e("setLoadingGoogle",!0);try{const a=new Yt.HF;a.addScope("profile"),a.addScope("email");const l=await(0,Yt.df)(ta,a),o=l.user;await t("checkAndCreateUserInDatabase",o),e("setUser",o),t("toast/addToast",{message:"loginSuccessful",severity:"success",duration:3e3},{root:!0})}catch(a){const e=a;throw t("toast/addToast",{message:e.code?$o[e.code]||e.message:"unknownError",severity:"error",duration:3e3},{root:!0}),a}finally{e("setLoadingGoogle",!1)}},async checkAndCreateUserInDatabase(e,t){try{const e=(0,qt.H9)(aa,"users","Asbe4RDbnbYilRIWtx4F","items",t.uid),a={userId:t.uid,firstName:t.displayName?.split(" ")[0]||"",lastName:t.displayName?.split(" ")[1]||"",email:t.email,role:"USER",createdAt:(0,qt.O5)()};await(0,qt.BN)(e,a,{merge:!0})}catch(a){console.error(a)}},async logout({commit:e}){await(0,Yt.CI)(ta),e("setUser",null)},async resetPassword({dispatch:e},t){try{await(0,Yt.J1)(ta,t),e("toast/addToast",{message:"passwordResetEmailSent",severity:"success",duration:3e3},{root:!0})}catch(a){const t=a;throw e("toast/addToast",{message:t.code?$o[t.code]:"unknownError",severity:"error",duration:3e3},{root:!0}),a}}}},ts={namespaced:!0,state:()=>({clientWidth:0,breakPoint:"desktop",device:"desktop"}),mutations:{SET_CLIENT_WIDTH(e,t){e.clientWidth=t.clientWidth,t.clientWidth<600&&(e.breakPoint="mobile"),t.clientWidth>600&&t.clientWidth<1024&&(e.breakPoint="tablet"),t.clientWidth>1024&&t.clientWidth<1440&&(e.breakPoint="desktop"),t.clientWidth>1440&&(e.breakPoint="fullScreen")},SET_DEVICE(e,t){e.device=t.device}},actions:{setClientWidth({commit:e},t){e("SET_CLIENT_WIDTH",t)},setDevice({commit:e},t){e("SET_DEVICE",t)}},getters:{clientWidth(e){return e.clientWidth},breakPoint(e){return e.breakPoint},getDevice(e){return e.device}}},as={namespaced:!0,state:()=>({isOpen:!1}),mutations:{SET_BURGER(e,t){e.isOpen=t.isOpen}},actions:{setBurger({commit:e},t){e("SET_BURGER",t)}},getters:{isOpen(e){return e.isOpen}}},ls={namespaced:!0,state:()=>({rememberImgMask:!0,rememberImgCollage:!0,shareImgMask:!0,shareImgCollage:!0,imgMask:null,imgCollage:null,originalImgMask:null,originalImgCollage:null}),mutations:{UPLOAD_IMG_MASK(e,t){e.imgMask=t.file},SET_ORIGINAL_IMG_MASK(e,t){e.originalImgMask=t.file},UPLOAD_IMG_COLLAGE(e,t){e.imgCollage=t.file},SET_ORIGINAL_IMG_COLLAGE(e,t){e.originalImgCollage=t.file},SET_REMEMBER_IMG_MASK(e,t){e.rememberImgMask=t.remember},SET_REMEMBER_IMG_COLLAGE(e,t){e.rememberImgCollage=t.remember},SET_SHARE_IMG_COLLAGE(e,t){e.shareImgCollage=t.share},SET_SHARE_IMG_MASK(e,t){e.shareImgMask=t.share}},actions:{uploadImgMask({commit:e},t){e("UPLOAD_IMG_MASK",t)},setOriginalImgMask({commit:e},t){e("SET_ORIGINAL_IMG_MASK",t)},uploadImgCollage({commit:e},t){e("UPLOAD_IMG_COLLAGE",t)},setOriginalImgCollage({commit:e},t){e("SET_ORIGINAL_IMG_COLLAGE",t)},setRememberImgCollage({commit:e},t){e("SET_REMEMBER_IMG_COLLAGE",t)},setRememberImgMask({commit:e},t){e("SET_REMEMBER_IMG_MASK",t)},setShareImgCollage({commit:e},t){e("SET_SHARE_IMG_COLLAGE",t)},setShareImgMask({commit:e},t){e("SET_SHARE_IMG_MASK",t)}},getters:{rememberImgMask(e){return e.rememberImgMask},rememberImgCollage(e){return e.rememberImgCollage},shareImgMask(e){return e.shareImgMask},shareImgCollage(e){return e.shareImgCollage},imgMask(e){return e.imgMask},imgCollage(e){return e.imgCollage},getOriginalImgMask(e){return e.originalImgMask},getOriginalImgCollage(e){return e.originalImgCollage}}};a(1701),a(7642),a(8004),a(3853),a(5876),a(2475),a(5024),a(1698);function os(e){const t=[],a=e.toLowerCase().split(/\s+/);for(const l of a){for(let e=1;e<=l.length;e++)t.push(l.substring(0,e));for(let e=0;e<l.length;e++)t.push(l[e])}return t}const ss={namespaced:!0,state:()=>({images:[],isLoading:!1,lastDoc:null,totalImages:0,filter:null,isSelectedMode:!1,selectedImages:new Map}),mutations:{SET_IMAGES(e,t){e.images=[...e.images,...t.items],e.lastDoc=t.lastDoc,e.totalImages=t.totalImages},RESET_IMAGES(e){e.images=[],e.lastDoc=null,e.totalImages=0},SET_LOADING(e,t){e.isLoading=t},SET_FILTER(e,t){e.filter=t},UPDATE_IMAGE(e,t){const a=e.images.findIndex(e=>e.id===t.id);-1!==a&&(e.images[a]={...e.images[a],...t})},DELETE_IMAGE(e,t){e.images=e.images.filter(e=>e.id!==t),e.totalImages=Math.max(0,e.totalImages-1)},DELETE_IMAGES(e,t){const a=new Set(t);e.images=e.images.filter(e=>!a.has(e.id)),e.totalImages=Math.max(0,e.totalImages-t.length);const l=e.selectedImages;t.forEach(e=>l.delete(e)),e.selectedImages=l},SET_SELECTED_MODE(e,t){e.isSelectedMode=t},SET_SELECTED(e,t){const a=e.selectedImages;a.has(t.id)?a.delete(t.id):a.set(t.id,t),e.selectedImages=a},SET_SELECTED_ALL(e,t){const a=e.selectedImages;t.forEach(e=>a.set(e.id,e)),e.selectedImages=a},CLEAR_SELECTED(e){e.selectedImages=new Map}},actions:{async saveImageToGallery({dispatch:e},{canvas:t,path:a=`avatar/${Date.now()}.png`,title:l="",paletteType:o,coloristicType:s,maskType:n,userId:i,folderId:r="",deprecated:c=!1}){return new Promise((u,d)=>{t.toBlob(async t=>{if(!t)return d(new Error("Не удалось получить Blob из canvas"));try{const d=(0,jt.KR)(la,a);await(0,jt.D)(d,t);const p=await(0,jt.qk)(d);await(0,qt.gS)((0,qt.rJ)(aa,"gallery","NoUcXcCCYhRoogXFHJfV","items"),{userId:i,url:p,title:l,coloristicType:s,paletteType:o,maskType:n,folderId:r,createdAt:(0,qt.O5)(),deprecated:c,tokens:os(l)}),await e("toast/addToast",{message:"successImage",severity:"success"},{root:!0}),u(p)}catch(p){const t=p;await e("toast/addToast",{message:t.code?$o[t.code]:"unknownError",severity:"error"},{root:!0}),d(p)}},"image/png")})},async initUserGalleryItems({dispatch:e,commit:t,rootGetters:a},{userId:l,options:o={},reset:s=!1}){t("SET_LOADING",!0);try{s&&t("RESET_IMAGES");const{paletteType:e,maskType:n,coloristicType:i,title:r,pageSize:c=50,lastDoc:u,folderId:d}=o,p=(0,qt.rJ)(aa,"gallery","NoUcXcCCYhRoogXFHJfV","items"),m=[(0,qt._M)("userId","==",l)],g=[(0,qt._M)("userId","==",l)];i&&(m.push((0,qt._M)("coloristicType","==",i)),g.push((0,qt._M)("coloristicType","==",i))),n&&(m.push((0,qt._M)("maskType","==",n)),g.push((0,qt._M)("maskType","==",n))),e&&(m.push((0,qt._M)("paletteType","==",e)),g.push((0,qt._M)("paletteType","==",e))),d&&(m.push((0,qt._M)("folderId","==",d)),g.push((0,qt._M)("folderId","==",d))),r&&(m.push((0,qt._M)("tokens","array-contains",r.toLowerCase())),g.push((0,qt._M)("tokens","array-contains",r.toLowerCase()))),m.push((0,qt.My)("createdAt","desc")),u&&m.push((0,qt.HM)(u)),m.push((0,qt.AB)(c));const v=(0,qt.P)(p,...m),h=(0,qt.P)(p,...g),f=await(0,qt.d_)(h),b=await(0,qt.GG)(v),k=b.docs.map(e=>{const t=e.data();return{id:e.id,src:t.url,title:t.title,coloristicType:t.coloristicType,maskType:t.maskType,paletteType:t.paletteType,folder:a["folder/getFolderById"](t.folderId)}});t("SET_IMAGES",{items:k,lastDoc:b.docs.length>0?b.docs[b.docs.length-1]:null,totalImages:f.data().count})}catch(n){console.error(n);const t=n;await e("toast/addToast",{message:t.code?$o[t.code]:"unknownError",severity:"error"},{root:!0})}finally{t("SET_LOADING",!1)}},async updateImageInGallery({dispatch:e,commit:t},a){try{const l=(0,qt.H9)(aa,"gallery","NoUcXcCCYhRoogXFHJfV","items",a.id);await(0,qt.mZ)(l,{...a,updatedAt:new Date,tokens:a?.title?os(a.title):[]}),t("UPDATE_IMAGE",a),await e("toast/addToast",{message:"successUpdateImage",severity:"success"},{root:!0})}catch(l){const t=l;throw await e("toast/addToast",{message:t.code?$o[t.code]:"unknownError",severity:"error"},{root:!0}),l}},async deleteImageFromGallery({dispatch:e,commit:t},{id:a}){try{const l=(0,qt.H9)(aa,"gallery","NoUcXcCCYhRoogXFHJfV","items",a);await(0,qt.kd)(l),t("DELETE_IMAGE",a),await e("toast/addToast",{message:"successDeleteImage",severity:"success"},{root:!0})}catch(l){const t=l;throw await e("toast/addToast",{message:t.code?$o[t.code]:"unknownError",severity:"error"},{root:!0}),l}},async deleteImagesFromGallery({dispatch:e,commit:t},a){try{await Promise.all(a.map(e=>{const t=(0,qt.H9)(aa,"gallery","NoUcXcCCYhRoogXFHJfV","items",e);return(0,qt.kd)(t)})),t("DELETE_IMAGES",a),await e("toast/addToast",{message:"successDeleteImages",severity:"success"},{root:!0})}catch(l){const t=l;throw await e("toast/addToast",{message:t.code?$o[t.code]:"unknownError",severity:"error"},{root:!0}),l}},setFilter(e,t){e.commit("SET_FILTER",t)},setSelectedMode(e,t){e.commit("SET_SELECTED_MODE",t)},setSelected(e,t){e.commit("SET_SELECTED",t)},setSelectedAll(e,t){e.commit("SET_SELECTED_ALL",t)},clearSelected(e){e.commit("CLEAR_SELECTED")}},getters:{getImages(e){return e.images},getTotalImages(e){return e.totalImages},getLastDoc(e){return e.lastDoc},isLoading(e){return e.isLoading},getFilter(e){return e.filter},getSelectedMode(e){return e.isSelectedMode},getSelected(e){return[...e.selectedImages.values()]},isSelected:e=>t=>e.selectedImages.has(t)}},ns={namespaced:!0,state:()=>({items:[],filterItems:[],isLoading:!1}),mutations:{SET_FOLDERS(e,t){e.items=t,e.filterItems=t},ADD_FOLDERS(e,t){e.items.push(t)},SET_LOADING(e,t){e.isLoading=t},REMOVE_FOLDER(e,t){e.items=e.items.filter(e=>e.id!==t),e.filterItems=e.items},UPDATE_FOLDER(e,t){const a=e.items.findIndex(e=>e.id===t.id);-1!==a&&(e.items[a]={...e.items[a],...t},e.filterItems[a]={...e.items[a],...t})},FILTER_FOLDER(e,t){e.filterItems=t?e.items.filter(e=>e.name.toLowerCase().trim().includes(t.toLowerCase().trim())):e.items}},actions:{async saveFolder({dispatch:e,commit:t},{userId:a,name:l}){t("SET_LOADING",!0);try{const o=(0,qt.rJ)(aa,"folder","bCxB7W5QIQZQAOSBcbfa","items"),s=await(0,qt.gS)(o,{userId:a,name:l,createdAt:(0,qt.O5)()});t("ADD_FOLDERS",{id:s.id,userId:a,name:l,createdAt:(0,qt.O5)()}),await e("toast/addToast",{message:"successFolderCreate",severity:"success"},{root:!0})}catch(o){const t=o;await e("toast/addToast",{message:t.code?$o[t.code]:"unknownError",severity:"error"},{root:!0})}finally{t("SET_LOADING",!1)}},async getFolders({dispatch:e,commit:t},a){t("SET_LOADING",!0);try{const e=(0,qt.rJ)(aa,"folder","bCxB7W5QIQZQAOSBcbfa","items"),l=(0,qt.P)(e,(0,qt._M)("userId","==",a)),o=await(0,qt.GG)(l),s=o.docs.map(e=>({id:e.id,...e.data()}));return t("SET_FOLDERS",s),s}catch(l){const t=l;return await e("toast/addToast",{message:t.code?$o[t.code]:"unknownError",severity:"error"},{root:!0}),[]}finally{t("SET_LOADING",!1)}},async deleteFolder({dispatch:e,commit:t},a){t("SET_LOADING",!0);try{const l=(0,qt.H9)(aa,"folder","bCxB7W5QIQZQAOSBcbfa","items",a);await(0,qt.kd)(l),t("REMOVE_FOLDER",a),await e("toast/addToast",{message:"successDeleteFolder",severity:"success"},{root:!0})}catch(l){const t=l;await e("toast/addToast",{message:t.code?$o[t.code]:"unknownError",severity:"error"},{root:!0})}finally{t("SET_LOADING",!1)}},async updateFolder({dispatch:e,commit:t},{id:a,name:l}){t("SET_LOADING",!0);try{const o=(0,qt.H9)(aa,"folder","bCxB7W5QIQZQAOSBcbfa","items",a);await(0,qt.mZ)(o,{name:l}),t("UPDATE_FOLDER",{id:a,name:l}),await e("toast/addToast",{message:"successUpdateFolder",severity:"success"},{root:!0})}catch(o){const t=o;await e("toast/addToast",{message:t.code?$o[t.code]:"unknownError",severity:"error"},{root:!0})}finally{t("SET_LOADING",!1)}},filterFolder({commit:e},t){e("FILTER_FOLDER",t)}},getters:{getFolders(e){return e.items},getFilterFolders(e){return e.filterItems},isLoading(e){return e.isLoading},getFolderById:e=>t=>e.items.find(e=>e.id===t)}};a(1148);const is=(e,t)=>{const a=Object.keys(e),l=Object.keys(t);return a.length===l.length&&a.every(a=>e[a]===t[a])},rs={namespaced:!0,state:()=>({settings:{fullFill:!1,onlySoft:!0,onlyBright:!0,onlyCold:!0,onlyWarm:!0,onlyLight:!0,onlyDark:!0},rememberImgMask:!0,imgMask:null,originalImgMask:null}),mutations:{SET_SETTINGS(e,t){e.settings=t},UPLOAD_IMG_MASK(e,t){e.imgMask=t.file},SET_ORIGINAL_IMG_MASK(e,t){e.originalImgMask=t.file},SET_REMEMBER_IMG_MASK(e,t){e.rememberImgMask=t.remember}},actions:{setSettings(e,t){e.commit("SET_SETTINGS",t)},uploadImgMask({commit:e},t){e("UPLOAD_IMG_MASK",t)},setOriginalImgMask({commit:e},t){e("SET_ORIGINAL_IMG_MASK",t)},setRememberImgMask({commit:e},t){e("SET_REMEMBER_IMG_MASK",t)}},getters:{getSettings(e){return e.settings},getSettingsMap(e){return{fullFill:e.settings.fullFill,palette:{softSummerPalette:e.settings.onlySoft,softAutumnPalette:e.settings.onlySoft,darkAutumnPalette:e.settings.onlyDark,darkWinterPalette:e.settings.onlyDark,coldSummerPalette:e.settings.onlyCold,coldWinterPalette:e.settings.onlyCold,lightSpringPalette:e.settings.onlyLight,lightSummerPalette:e.settings.onlyLight,brightSpringPalette:e.settings.onlyBright,brightWinterPalette:e.settings.onlyBright,warmSpringPalette:e.settings.onlyWarm,warmAutumnPalette:e.settings.onlyWarm}}},rememberImgMask(e){return e.rememberImgMask},imgMask(e){return e.imgMask},getOriginalImgMask(e){return e.originalImgMask},isCompareFilter(e){const t={fullFill:!1,onlySoft:!0,onlyBright:!0,onlyCold:!0,onlyWarm:!0,onlyLight:!0,onlyDark:!0};return is(t,e.settings)}}},cs="#eee",us="#e3e3e3",ds={namespaced:!0,state:()=>({numberOfSegments:1,rememberImgMask:!0,imgMask:null,originalImgMask:null,frameColors:[{color:cs}],loading:!1,paletteTemplates:[],paletteTemplatesFilter:[],selectedTemplate:null}),mutations:{UPLOAD_IMG_MASK(e,t){e.imgMask=t.file},SET_ORIGINAL_IMG_MASK(e,t){e.originalImgMask=t.file},SET_REMEMBER_IMG_MASK(e,t){e.rememberImgMask=t.remember},SET_NUMBER_SEGMENTS(e,t){e.numberOfSegments=t},SET_FRAME_COLORS(e,t){e.frameColors=t.frameColors},SET_LOADING(e,t){e.loading=t},ADD_TEMPLATE(e,t){e.paletteTemplates.push(t)},SET_TEMPLATES(e,t){e.paletteTemplates=t,e.paletteTemplatesFilter=t},UPDATE_PALETTE_TEMPLATE(e,t){const a=e.paletteTemplates.findIndex(e=>e.id===t.id);-1!==a&&(e.paletteTemplates[a]={...e.paletteTemplates[a],...t},e.paletteTemplatesFilter[a]={...e.paletteTemplates[a],...t})},FILTER_PALETTE_TEMPLATE(e,t){e.paletteTemplatesFilter=t?e.paletteTemplates.filter(e=>e.name.toLowerCase().trim().includes(t.toLowerCase().trim())):e.paletteTemplates},REMOVE_PALETTE_TEMPLATE(e,t){e.paletteTemplates=e.paletteTemplates.filter(e=>e.id!==t),e.paletteTemplatesFilter=e.paletteTemplates},SELECTED_PALETTE_TEMPLATE(e,t){e.selectedTemplate=t}},actions:{uploadImgMask({commit:e},t){e("UPLOAD_IMG_MASK",t)},setOriginalImgMask({commit:e},t){e("SET_ORIGINAL_IMG_MASK",t)},setRememberImgMask({commit:e},t){e("SET_REMEMBER_IMG_MASK",t)},setNumberSegments({commit:e},t){e("SET_NUMBER_SEGMENTS",t)},setFrameColors({commit:e},t){e("SET_FRAME_COLORS",t)},filterPaletteTemplates({commit:e},t){e("FILTER_PALETTE_TEMPLATE",t)},selectedTemplate({commit:e},t){e("SELECTED_PALETTE_TEMPLATE",t)},async savePaletteTemplate({dispatch:e,commit:t},{userId:a,name:l,segments:o}){t("SET_LOADING",!0);try{const s=(0,qt.rJ)(aa,"palette-templates","kFDy9AD2SVL64PG7hOl1","items"),n=await(0,qt.gS)(s,{userId:a,name:l,segments:o,createdAt:(0,qt.O5)()});t("ADD_TEMPLATE",{id:n.id,userId:a,name:l,segments:o,createdAt:(0,qt.O5)()}),await e("toast/addToast",{message:"successPaletteTemplateCreate",severity:"success"},{root:!0})}catch(s){const t=s;await e("toast/addToast",{message:t.code?$o[t.code]:"unknownError",severity:"error"},{root:!0})}finally{t("SET_LOADING",!1)}},async getPaletteTemplates({dispatch:e,commit:t},a){t("SET_LOADING",!0);try{const e=(0,qt.rJ)(aa,"palette-templates","kFDy9AD2SVL64PG7hOl1","items"),l=(0,qt.P)(e,(0,qt._M)("userId","==",a)),o=await(0,qt.GG)(l),s=o.docs.map(e=>({id:e.id,...e.data()}));return t("SET_TEMPLATES",s),s}catch(l){const t=l;return await e("toast/addToast",{message:t.code?$o[t.code]:"unknownError",severity:"error"},{root:!0}),[]}finally{t("SET_LOADING",!1)}},async deletePaletteTemplate({dispatch:e,commit:t},a){t("SET_LOADING",!0);try{const l=(0,qt.H9)(aa,"palette-templates","kFDy9AD2SVL64PG7hOl1","items",a);await(0,qt.kd)(l),t("REMOVE_PALETTE_TEMPLATE",a),await e("toast/addToast",{message:"successDeletePaletteTemplate",severity:"success"},{root:!0})}catch(l){const t=l;await e("toast/addToast",{message:t.code?$o[t.code]:"unknownError",severity:"error"},{root:!0})}finally{t("SET_LOADING",!1)}},async updatePaletteTemplate({dispatch:e,commit:t},{id:a,name:l,segments:o}){t("SET_LOADING",!0);try{const s=(0,qt.H9)(aa,"palette-templates","kFDy9AD2SVL64PG7hOl1","items",a);await(0,qt.mZ)(s,{name:l,segments:o}),t("UPDATE_PALETTE_TEMPLATE",{id:a,name:l,segments:o}),await e("toast/addToast",{message:"successUpdatePaletteTemplate",severity:"success"},{root:!0})}catch(s){const t=s;await e("toast/addToast",{message:t.code?$o[t.code]:"unknownError",severity:"error"},{root:!0})}finally{t("SET_LOADING",!1)}}},getters:{rememberImgMask(e){return e.rememberImgMask},imgMask(e){return e.imgMask},getOriginalImgMask(e){return e.originalImgMask},getNumberSegments(e){return e.numberOfSegments},getFrameColors(e){return e.frameColors},isLoading(e){return e.loading},getPaletteTemplates(e){return e.paletteTemplates},getPaletteTemplatesFilter(e){return e.paletteTemplatesFilter},getSelectedPaletteTemplate(e){return e.selectedTemplate}}},ps={namespaced:!0,state:()=>({settings:{fullFill:!0,onlySoft:!0,onlyBright:!0,onlyCold:!0,onlyWarm:!0,onlyLight:!0,onlyDark:!0},selectedColors:new Set}),mutations:{SET_SETTINGS(e,t){e.settings=t},SELECTED_COLORS(e,t){e.selectedColors=t}},actions:{setSettings({commit:e},t){e("SET_SETTINGS",t)},selectedColors({commit:e},t){e("SELECTED_COLORS",t)}},getters:{getSettings(e){return e.settings},getSettingsMap(e){return{fullFill:e.settings.fullFill,palette:{softSummerPalette:e.settings.onlySoft,softAutumnPalette:e.settings.onlySoft,darkAutumnPalette:e.settings.onlyDark,darkWinterPalette:e.settings.onlyDark,coldSummerPalette:e.settings.onlyCold,coldWinterPalette:e.settings.onlyCold,lightSpringPalette:e.settings.onlyLight,lightSummerPalette:e.settings.onlyLight,brightSpringPalette:e.settings.onlyBright,brightWinterPalette:e.settings.onlyBright,warmSpringPalette:e.settings.onlyWarm,warmAutumnPalette:e.settings.onlyWarm}}},isCompareFilter(e){const t={fullFill:!0,onlySoft:!0,onlyBright:!0,onlyCold:!0,onlyWarm:!0,onlyLight:!0,onlyDark:!0};return is(t,e.settings)},getSelectedColors(e){return e.selectedColors}}};var ms=(0,i.y$)({state:{},getters:{},mutations:{},actions:{},modules:{toast:qo,theme:Jo,language:Zo,authFirebase:es,mobile:ts,burgerMenu:as,imageColor:ls,gallery:ss,folder:ns,palette:rs,myPalette:ds,cutPaletteColors:ps},plugins:[(0,i.h)()]});const gs={class:"gallery-container"},vs={key:0,class:"clue"},hs={class:"clue-wrapper"},fs={key:1,class:"not-found"},bs={class:"not-found-wrapper"},ks={ref:"galleryRef",class:"gallery-wrapper"},ys={class:"search"},Cs={class:"actions-mode"},Es={key:0,class:"choose-checkbox"},ws={key:1,class:"choose-checkbox"},Fs={key:2,class:"filter-fill"},As={class:"icon-list-ol"},Ls={class:"icon-ellipsis-h"},Is={key:0,class:"icon"};function Ss(e,t,a,s,n,i){const r=(0,o.g2)("font-awesome-icon"),u=(0,o.g2)("AppLoader"),d=(0,o.g2)("app-input"),p=(0,o.g2)("AppCheckbox"),m=(0,o.g2)("app-button"),g=(0,o.g2)("app-image-card"),v=(0,o.g2)("app-virtual-scroll-grid"),h=(0,o.g2)("app-popover-item"),f=(0,o.g2)("app-popover-wrapper"),b=(0,o.g2)("app-popover");return(0,o.uX)(),(0,o.CE)("div",gs,[e.isClueSection?((0,o.uX)(),(0,o.CE)("section",vs,[(0,o.Lk)("div",hs,[(0,o.bF)(r,{size:"xl",icon:["fas","exclamation-triangle"]}),(0,o.eW)(" "+(0,c.v_)(e.t("galleryEmpty"))+" ",1),(0,o.bF)(r,{size:"xl",icon:["fas","images"],onClick:e.openCollageModal},null,8,["onClick"])])])):(0,o.Q3)("",!0),e.isNotFoundSection?((0,o.uX)(),(0,o.CE)("section",fs,[(0,o.Lk)("div",bs,(0,c.v_)(e.t("noResults")),1)])):(0,o.Q3)("",!0),e.isLoading?((0,o.uX)(),(0,o.Wv)(u,{key:2})):(0,o.Q3)("",!0),(0,o.Lk)("div",ks,[(0,o.Lk)("section",{class:(0,c.C4)(["gallery-helper",{hidden:e.isHidden}])},[(0,o.Lk)("div",ys,[(0,o.bF)(d,{modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=t=>e.search=t),placeholder:"search",icon:["fas","search"],"is-label":!1},null,8,["modelValue"])]),(0,o.Lk)("section",Cs,[e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",Es,[(0,o.bF)(p,{modelValue:e.isSelectedMode,"onUpdate:modelValue":t[1]||(t[1]=t=>e.isSelectedMode=t),label:"choose"},null,8,["modelValue"])])),e.isSelectedMode&&!e.isMobile?((0,o.uX)(),(0,o.CE)("div",ws,[(0,o.bF)(p,{modelValue:e.chooseAll,"onUpdate:modelValue":t[2]||(t[2]=t=>e.chooseAll=t),label:"chooseAll"},null,8,["modelValue"])])):(0,o.Q3)("",!0),(0,o.bF)(m,{severity:"secondary",raised:"",icon:["fas","filter"],onClick:e.openFilterModal},null,8,["onClick"]),e.isFilterEmpty?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",Fs))])],2),(0,o.Lk)("section",{ref:"imagesContainer",class:(0,c.C4)(["images",{hidden:e.isHidden}])},[(0,o.bF)(v,{items:e.images,"item-key":e=>e.id,"min-column-width":e.isMobile?100:250,"row-height":e.isMobile?150:300,height:e.heightImagesContainer,onScroll:e.onScroll},{default:(0,o.k6)(({item:t,index:a})=>[(0,o.bF)(g,{src:t.src,image:t,onClick:t=>e.openCardModal(a)},{default:(0,o.k6)(()=>[(0,o.eW)((0,c.v_)(e.t("photo"))+" "+(0,c.v_)(e.getCurrentIndex(t)+1),1)]),_:2},1032,["src","image","onClick"])]),_:1},8,["items","item-key","min-column-width","row-height","height","onScroll"])],2),(0,o.Lk)("footer",{class:(0,c.C4)(["footer",{hidden:e.isHidden}])},[(0,o.Lk)("div",As,[(0,o.bF)(r,{size:"lg",icon:["fas","list-ol"]}),(0,o.Lk)("span",null,(0,c.v_)(e.totalImages),1)]),(0,o.Lk)("div",Ls,[e.isMobile?((0,o.uX)(),(0,o.Wv)(r,{key:0,icon:["fas","ellipsis-h"],size:"lg",onClick:(0,l.D$)(e.openPopover,["stop"])},null,8,["onClick"])):(0,o.Q3)("",!0)]),(0,o.Lk)("section",{class:(0,c.C4)(["selected-section",{mobile:e.isMobile}])},[e.isSelectedMode&&e.selected.length?((0,o.uX)(),(0,o.CE)("div",Is,[(0,o.bF)(r,{size:"lg",icon:["fas","images"],onClick:e.openCollageModal},null,8,["onClick"]),(0,o.eW)(" "+(0,c.v_)(e.selected.length),1)])):(0,o.Q3)("",!0),e.isSelectedMode&&e.selected.length?((0,o.uX)(),(0,o.CE)("div",{key:1,class:"icon",onClick:t[3]||(t[3]=(...t)=>e.clearSelected&&e.clearSelected(...t))},[(0,o.bF)(r,{size:"lg",icon:["fas","broom"]})])):(0,o.Q3)("",!0),e.isSelectedMode&&e.selected.length?((0,o.uX)(),(0,o.CE)("div",{key:2,class:"icon",onClick:t[4]||(t[4]=(...t)=>e.openDeleteModal&&e.openDeleteModal(...t))},[(0,o.bF)(r,{size:"lg",icon:["fas","fa-trash"]})])):(0,o.Q3)("",!0)],2)],2),(0,o.bF)(b,{visible:e.visiblePopover,"onUpdate:visible":t[7]||(t[7]=t=>e.visiblePopover=t)},{default:(0,o.k6)(()=>[(0,o.bF)(f,null,{default:(0,o.k6)(()=>[(0,o.bF)(h,null,{default:(0,o.k6)(()=>[(0,o.bF)(p,{modelValue:e.isSelectedMode,"onUpdate:modelValue":t[5]||(t[5]=t=>e.isSelectedMode=t)},null,8,["modelValue"]),(0,o.Lk)("span",null,(0,c.v_)(e.t("choose")),1)]),_:1}),e.isSelectedMode?((0,o.uX)(),(0,o.Wv)(h,{key:0},{default:(0,o.k6)(()=>[(0,o.bF)(p,{modelValue:e.chooseAll,"onUpdate:modelValue":t[6]||(t[6]=t=>e.chooseAll=t)},null,8,["modelValue"]),(0,o.Lk)("span",null,(0,c.v_)(e.t("chooseAll")),1)]),_:1})):(0,o.Q3)("",!0)]),_:1})]),_:1},8,["visible"])],512)])}const Ts={class:"image-card"},Ms=["src","alt"],Ps={key:1,class:"fallback"},Bs={class:"overlay"};function Ds(e,t,a,s,n,i){const r=(0,o.g2)("AppCheckbox");return(0,o.uX)(),(0,o.CE)("div",Ts,[(0,o.Lk)("div",{class:"checkbox",onClick:t[1]||(t[1]=(0,l.D$)((...t)=>e.selected&&e.selected(...t),["stop"]))},[e.isSelectedMode?((0,o.uX)(),(0,o.Wv)(r,{key:0,modelValue:e.selectedImage,"onUpdate:modelValue":t[0]||(t[0]=t=>e.selectedImage=t)},null,8,["modelValue"])):(0,o.Q3)("",!0)]),e.error?((0,o.uX)(),(0,o.CE)("div",Ps,[(0,o.RG)(e.$slots,"fallback",{},()=>[t[4]||(t[4]=(0,o.eW)("⚠️ Ошибка загрузки",-1))],!0)])):((0,o.uX)(),(0,o.CE)("img",{key:0,src:e.src,alt:e.alt,style:(0,c.Tr)({objectFit:e.fit}),loading:"lazy",class:(0,c.C4)({"fade-in":e.loaded}),onError:t[2]||(t[2]=(...t)=>e.onError&&e.onError(...t)),onLoad:t[3]||(t[3]=(...t)=>e.onLoad&&e.onLoad(...t))},null,46,Ms)),(0,o.Lk)("div",Bs,[(0,o.RG)(e.$slots,"default",{},void 0,!0)])])}var Rs=(0,o.pM)({components:{AppCheckbox:Ta},props:{src:{type:String,required:!0},alt:{type:String,default:""},fit:{type:String,default:"cover"},rounded:{type:Boolean,default:!0},image:{type:Object,required:!0}},setup(e){const t=(0,i.Pj)(),a=(0,n.KR)(!1),l=(0,n.KR)(!1),s=(0,o.EW)(()=>t.getters["gallery/getSelectedMode"]),r=(0,o.EW)(()=>t.getters["gallery/isSelected"](e.image.id)),c=()=>{t.dispatch("gallery/setSelected",e.image)},u=()=>{a.value=!0},d=()=>{l.value=!0};return{error:a,loaded:l,onError:u,onLoad:d,isSelectedMode:s,selected:c,selectedImage:r}}});const xs=(0,h.A)(Rs,[["render",Ds],["__scopeId","data-v-1f35463b"]]);var _s=xs;const Ws={ref:"modalRef",class:"modal-content neon"},Os={class:"overlay-image"},Vs=["src"],Xs={class:"info-section scroll-area"},Ks={class:"info-section-wrapper"},Us={class:"info"},Gs={class:"badge-wrapper"},Qs={key:0,class:"badge darkBadge"},zs={key:1,class:"badge darkBadge"},Ns={key:2,class:"badge darkBadge"},js={key:3,class:"badge darkBadge"},Hs={key:0,class:"info-title"},Ys={key:1,class:"edit-title"},qs={class:"actions"},Js={class:"btn"};function Zs(e,t,a,s,n,i){const r=(0,o.g2)("app-modal-header"),u=(0,o.g2)("font-awesome-icon"),d=(0,o.g2)("AppCheckbox"),p=(0,o.g2)("app-overlay-panel"),m=(0,o.g2)("app-input"),g=(0,o.g2)("app-button");return(0,o.uX)(),(0,o.CE)("div",Ws,[(0,o.bF)(r,{onClose:e.close},null,8,["onClose"]),(0,o.Lk)("div",{ref:"targetRef",class:"ellipsis-vertical",onClick:t[0]||(t[0]=(...t)=>e.toggleImageOverlayPanel&&e.toggleImageOverlayPanel(...t))},[(0,o.bF)(u,{size:"lg",icon:["fas","fa-ellipsis-vertical"]})],512),(0,o.Lk)("div",{class:"modal-image-choose-checkbox",onClick:t[2]||(t[2]=(0,l.D$)((...t)=>e.selected&&e.selected(...t),["stop"]))},[e.isSelectedMode?((0,o.uX)(),(0,o.Wv)(d,{key:0,modelValue:e.selectedImage,"onUpdate:modelValue":t[1]||(t[1]=t=>e.selectedImage=t)},null,8,["modelValue"])):(0,o.Q3)("",!0)]),e.targetRef?((0,o.uX)(),(0,o.Wv)(p,{key:0,visible:e.visible,"onUpdate:visible":t[6]||(t[6]=t=>e.visible=t),width:250,target:e.targetRef,position:{x:"left",y:"center"}},{default:(0,o.k6)(()=>[(0,o.Lk)("div",Os,[(0,o.Lk)("div",{class:"overlay-image-item",onClick:t[3]||(t[3]=(...t)=>e.openFolderModal&&e.openFolderModal(...t))},[(0,o.bF)(u,{size:"sm",icon:["fas","fa-folder"]}),(0,o.eW)(" "+(0,c.v_)(e.t("addFolder")),1)]),(0,o.Lk)("div",{class:"overlay-image-item",onClick:t[4]||(t[4]=(...t)=>e.updateFolder&&e.updateFolder(...t))},[(0,o.bF)(u,{size:"sm",icon:["fas","undo"]}),(0,o.eW)(" "+(0,c.v_)(e.t("update")),1)]),(0,o.Lk)("div",{class:"overlay-image-item",onClick:t[5]||(t[5]=(...t)=>e.copyLink&&e.copyLink(...t))},[(0,o.bF)(u,{size:"sm",icon:["fas","fa-link"]}),(0,o.eW)(" "+(0,c.v_)(e.t("copyLink")),1)])])]),_:1},8,["visible","target"])):(0,o.Q3)("",!0),(0,o.Lk)("img",{src:e.currentImage.src,alt:"",class:"modal-image"},null,8,Vs),(0,o.Lk)("section",Xs,[(0,o.Lk)("div",Ks,[(0,o.Lk)("div",{class:(0,c.C4)(["slider-dots",{many:e.images.length>5}])},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.images,(t,a)=>((0,o.uX)(),(0,o.CE)("div",{key:t.id,class:(0,c.C4)(["dot",{active:a===e.index}])},null,2))),128))],2),(0,o.Lk)("div",Us,[(0,o.Lk)("div",Gs,[e.localImages[e.index].folder?((0,o.uX)(),(0,o.CE)("span",Qs,(0,c.v_)(e.localImages[e.index].folder.name),1)):(0,o.Q3)("",!0),e.currentImage.maskType?((0,o.uX)(),(0,o.CE)("span",zs,(0,c.v_)(e.t(e.currentImage.maskType)),1)):(0,o.Q3)("",!0),e.currentImage.coloristicType?((0,o.uX)(),(0,o.CE)("span",Ns,(0,c.v_)(e.t(e.currentImage.coloristicType)),1)):(0,o.Q3)("",!0),e.currentImage.paletteType?((0,o.uX)(),(0,o.CE)("span",js,(0,c.v_)(e.getPaletteName(e.currentImage.paletteType)),1)):(0,o.Q3)("",!0)]),e.isEditTitle?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",Hs,[(0,o.bF)(u,{size:"xs",icon:["fas","fa-pencil"],onClick:t[7]||(t[7]=t=>e.toggleTitle(e.currentImage.title))}),(0,o.Lk)("span",null,(0,c.v_)(e.currentImage.title?e.currentImage.title:e.t("noName")),1)])),e.isEditTitle?((0,o.uX)(),(0,o.CE)("div",Ys,[(0,o.bF)(m,{modelValue:e.sign,"onUpdate:modelValue":t[8]||(t[8]=t=>e.sign=t),icon:["fas","fa-pencil"],"is-label":!1,"is-focused":"",onFocus:e.focusInput,onBlur:e.focusOutInput},null,8,["modelValue","onFocus","onBlur"]),(0,o.Lk)("div",{class:"edit-title-save-icon",onClick:t[9]||(t[9]=(...t)=>e.updateSign&&e.updateSign(...t))},[(0,o.bF)(u,{size:"sm",icon:["fas","undo"]})])])):(0,o.Q3)("",!0)]),(0,o.Lk)("div",qs,[(0,o.Lk)("div",Js,[(0,o.bF)(g,{severity:"error",icon:["fas","fa-trash"],onClick:e.deleteImage},null,8,["onClick"])])])])]),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",{key:1,class:"next",onClick:t[10]||(t[10]=(...t)=>e.next&&e.next(...t))},[(0,o.bF)(u,{icon:["fas","fa-arrow-right"]})])),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",{key:2,class:"prev",onClick:t[11]||(t[11]=(...t)=>e.prev&&e.prev(...t))},[(0,o.bF)(u,{icon:["fas","fa-arrow-left"]})]))],512)}var $s=(0,o.pM)({components:{AppCheckbox:Ta,AppOverlayPanel:Ue,AppModalHeader:qa,AppInput:Pe,AppButton:zt},props:{images:{type:Array,required:!0},startIndex:{type:Number,required:!0}},emits:["close"],setup(e,{emit:t}){const{t:a}=(0,r.s9)(),l=(0,i.Pj)(),s=(0,n.KR)(e.startIndex),c=(0,n.KR)(null),u=(0,n.KR)(!1),d=(0,n.KR)(""),p=(0,o.EW)(()=>"mobile"===l.getters["mobile/breakPoint"]),m=(0,o.EW)(()=>e.images[s.value]),g=(0,n.KR)(!1),v=(0,n.KR)(null),h=(0,n.KR)([...e.images]),f=(0,o.EW)(()=>l.getters["gallery/getSelectedMode"]),b=(0,o.EW)(()=>l.getters["gallery/isSelected"](e.images[s.value].id)),k=(0,o.EW)(()=>l.getters["mobile/getDevice"]);(0,o.wB)(()=>e.startIndex,e=>{s.value=e});const y=()=>{s.value=(s.value+1)%e.images.length,u.value=!1},C=()=>{s.value=(s.value-1+e.images.length)%e.images.length,u.value=!1},E=()=>{t("close")},F=e=>{u.value=!0,d.value=e},A=async()=>{await w(Il,{text:a("dywDelete"),title:a("delete")}).then(a=>{a&&(l.dispatch("gallery/deleteImageFromGallery",{id:e.images[s.value].id}),t("close"))})},L=()=>{const t=e.images[s.value];u.value=!1,t?.title!==d.value&&l.dispatch("gallery/updateImageInGallery",{...S(t,d.value)})},I=()=>{T(),l.dispatch("gallery/updateImageInGallery",{...S(e.images[s.value])})},S=(e,t)=>({id:e.id,src:e.src,title:t||e.title,coloristicType:e.coloristicType,maskType:e.maskType,folderId:e?.folder?.id??null,paletteType:e.paletteType});(0,o.sV)(()=>{let e=0;const t=t=>{e=t.touches[0].clientX},a=t=>{const a=t.changedTouches[0].clientX;e-a>50&&y(),a-e>50&&C()};c.value&&(c.value.addEventListener("touchstart",t),c.value.addEventListener("touchend",a),c.value&&(c.value._touchHandlers={handleTouchStart:t,handleTouchEnd:a}))}),(0,o.hi)(()=>{if(c.value&&c.value._touchHandlers){const{handleTouchStart:e,handleTouchEnd:t}=c.value._touchHandlers;c.value.removeEventListener("touchstart",e),c.value.removeEventListener("touchend",t)}});const T=()=>{g.value=!g.value},M=e=>{const t=Ol.get(e)||"";return a(t)},P=async()=>{T(),await w(Wl,{folder:e.images[s.value].folder},{transparent:!0}).then(e=>{h.value[s.value].folder=e})},B=async()=>{T();const t=e.images[s.value].src;try{await navigator.clipboard.writeText(t),await l.dispatch("toast/addToast",{message:"linkCopied",severity:"success"})}catch(a){await l.dispatch("toast/addToast",{message:"copyError",severity:"error"})}};(0,o.wB)(s,async e=>{await(0,o.dY)();const t=document.querySelectorAll(".slider-dots .dot"),a=t[e];a&&a.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})},{immediate:!0});const D=()=>{l.dispatch("gallery/setSelected",e.images[s.value])},R=()=>{"ios"===k.value&&hl().enable()},x=()=>{"ios"===k.value&&(hl().disable(),setTimeout(()=>window.scrollTo(0,0),50))};return{index:s,next:y,prev:C,close:E,modalRef:c,isMobile:p,isEditTitle:u,toggleTitle:F,sign:d,deleteImage:A,updateSign:L,currentImage:m,toggleImageOverlayPanel:T,targetRef:v,visible:g,t:a,openFolderModal:P,localImages:h,updateFolder:I,copyLink:B,isSelectedMode:f,selectedImage:b,selected:D,getPaletteName:M,focusInput:R,focusOutInput:x}}});const en=(0,h.A)($s,[["render",Zs],["__scopeId","data-v-da0224ba"]]);var tn=en;const an={ref:"modalRef",class:"modal-content neon"},ln={class:"wrapper-filter"},on={class:"filter-dropdown"},sn={class:"folders-overlay-container"},nn={class:"folders-options-wrapper"},rn={key:0,class:"noResults"},cn={key:1,class:"noResults"},un={class:"option-folder-item"},dn=["src"],pn={class:"filter-dropdown"},mn={class:"wrapper-palette"},gn={class:"mask-type-wrapper"},vn={class:"segments"},hn={class:"filter-dropdown"},fn={class:"mask-type-wrapper"},bn={class:"segments"},kn={class:"filter-dropdown"},yn={class:"type-maks-option"},Cn={class:"footer"};function En(e,t,l,s,n,i){const r=(0,o.g2)("app-modal-header"),u=(0,o.g2)("app-option"),d=(0,o.g2)("app-dropdown"),p=(0,o.g2)("font-awesome-icon"),m=(0,o.g2)("app-button");return(0,o.uX)(),(0,o.CE)("div",an,[(0,o.bF)(r,{title:e.t("filter"),onClose:e.close},null,8,["title","onClose"]),(0,o.Lk)("section",ln,[(0,o.Lk)("div",on,[(0,o.bF)(d,{modelValue:e.folder,"onUpdate:modelValue":t[0]||(t[0]=t=>e.folder=t),"is-search":!0,"is-title":"",title:e.t("folder"),label:"name",height:"48px",onSearch:e.searchFolder,onFocusInput:e.focusInput,onFocusOutInput:e.focusOutInput},{default:(0,o.k6)(()=>[(0,o.Lk)("div",sn,[(0,o.Lk)("div",nn,[e.isFolderExist?((0,o.uX)(),(0,o.CE)("div",rn,(0,c.v_)(e.t("noResults")),1)):(0,o.Q3)("",!0),0===e.existFolders.length?((0,o.uX)(),(0,o.CE)("div",cn,(0,c.v_)(e.t("noFolders")),1)):(0,o.Q3)("",!0),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.folders,e=>((0,o.uX)(),(0,o.Wv)(u,{key:e.id,value:e},{default:(0,o.k6)(()=>[(0,o.Lk)("div",un,[(0,o.Lk)("img",{src:a(2823),alt:"Rainbow Folder"},null,8,dn),(0,o.Lk)("span",null,(0,c.v_)(e.name),1)])]),_:2},1032,["value"]))),128))])])]),_:1},8,["modelValue","title","onSearch","onFocusInput","onFocusOutInput"])]),(0,o.Lk)("div",pn,[(0,o.bF)(d,{modelValue:e.paletteType,"onUpdate:modelValue":t[1]||(t[1]=t=>e.paletteType=t),height:"48px",label:"name","is-title":"",title:e.t("palette"),onFocusInput:e.focusInput,onFocusOutInput:e.focusOutInput},{default:(0,o.k6)(()=>[(0,o.Lk)("div",mn,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.palettesCards,e=>((0,o.uX)(),(0,o.Wv)(u,{key:e.id,value:e},{default:(0,o.k6)(()=>[(0,o.Lk)("div",gn,[(0,o.Lk)("div",vn,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.colors,e=>((0,o.uX)(),(0,o.CE)("div",{key:e,style:(0,c.Tr)({backgroundColor:e}),class:"segment"},null,4))),128))]),(0,o.Lk)("span",null,(0,c.v_)(e.name),1)])]),_:2},1032,["value"]))),128))])]),_:1},8,["modelValue","title","onFocusInput","onFocusOutInput"])]),(0,o.Lk)("div",hn,[(0,o.bF)(d,{modelValue:e.maskType,"onUpdate:modelValue":t[2]||(t[2]=t=>e.maskType=t),height:"48px",label:"name","is-title":"",title:e.t("mask"),onFocusInput:e.focusInput,onFocusOutInput:e.focusOutInput},{default:(0,o.k6)(()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.cards,e=>((0,o.uX)(),(0,o.Wv)(u,{key:e,value:e},{default:(0,o.k6)(()=>[(0,o.Lk)("div",fn,[(0,o.Lk)("div",bn,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.segments,e=>((0,o.uX)(),(0,o.CE)("div",{key:e,style:(0,c.Tr)({backgroundColor:e.color}),class:"segment"},null,4))),128))]),(0,o.Lk)("span",null,(0,c.v_)(e.name),1)])]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","title","onFocusInput","onFocusOutInput"])]),(0,o.Lk)("div",kn,[(0,o.bF)(d,{modelValue:e.coloristicType,"onUpdate:modelValue":t[3]||(t[3]=t=>e.coloristicType=t),height:"48px",label:"name","is-title":"",title:e.t("typeMasks"),onFocusInput:e.focusInput,onFocusOutInput:e.focusOutInput},{default:(0,o.k6)(()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.coloristicTypes,e=>((0,o.uX)(),(0,o.Wv)(u,{key:e.id,value:e},{default:(0,o.k6)(()=>[(0,o.Lk)("div",yn,[(0,o.bF)(p,{icon:["fa",e.icon]},null,8,["icon"]),(0,o.Lk)("span",null,(0,c.v_)(e.name),1)])]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","title","onFocusInput","onFocusOutInput"])])]),(0,o.Lk)("footer",Cn,[(0,o.Lk)("div",{class:"btn",onClick:t[4]||(t[4]=(...t)=>e.clearFilter&&e.clearFilter(...t))},[(0,o.bF)(m,{severity:"info",title:"clear"})]),(0,o.Lk)("div",{class:"btn",onClick:t[5]||(t[5]=(...t)=>e.applyFilter&&e.applyFilter(...t))},[(0,o.bF)(m,{severity:"warning",title:"apply"})])])],512)}const wn=["#DEDCCD","#DDD4C3","#C5C5B9","#9B8E88","#72655F","#C3BCB4","#ADA694","#8D8175","#8F746B","#503D3F","#B0B0AE","#686C6D","#7C7B76","#5D5553","#413F40","#F3B8BE","#E4A09D","#C88A8D","#B48285","#713743","#FA9DA8","#F87B89","#E4566E","#C3445F","#983645","#FAA0BC","#E87F96","#D85076","#A03851","#60303C","#E5A1B8","#CD899E","#AF6F7F","#88495E","#503345","#E3D99E","#D4CC84","#89C099","#5E927C","#36564B","#7EBCAD","#5AA088","#417060","#438279","#2E514B","#78BAC6","#57969F","#48757A","#598D89","#285155","#90C0CC","#71AAB5","#477F8E","#527A93","#2E4452","#A4AEC7","#8892B5","#777BA1","#5A5E7B","#35364A","#9E9BAE","#7F7C8F","#55485A"],Fn=["#E5D6C1","#CEBAA2","#E9D1AF","#EDCBA6","#CDAA82","#E0D7AE","#D3D5A4","#EED8A6","#F8C2B6","#9BD2CD","#C4BDB5","#8C857D","#58504D","#A59482","#5D4D4E","#392933","#1B3430","#263356","#213454","#252525","#F4C581","#D5AC6A","#B88C5B","#EBA77A","#C17960","#F6858B","#D34D58","#E87F6A","#BF6658","#713535","#F3948E","#F07B74","#C65454","#9A3D47","#6E272F","#D36C65","#D83D4D","#BC344A","#9E2A41","#4A2127","#A6BB82","#ADBF69","#8D9C59","#5F6738","#2B3127","#4EC5BF","#2D9F97","#3E9283","#296452","#1C3B36","#5FB8CA","#2798B6","#1D738A","#156773","#1C403E","#D9A7C0","#C1759B","#9D4F76","#6F3450","#224058","#998755","#827146","#4C442F"],An=["#DCDACD","#D0CCC3","#BEBBB2","#908B85","#605752","#E8E0A1","#E1D799","#9FA696","#7C8276","#5B5851","#C5C4C2","#B9AFAE","#8A7E80","#6F6065","#4A4448","#CEC4C3","#B1A49E","#987B7F","#634E53","#413539","#A2B1B6","#7A8B9B","#95A6AD","#6D747A","#3F464C","#9BBABC","#708C8D","#4E8693","#2C6E7A","#21515D","#F17889","#DF4F66","#DE7089","#AC3E5B","#722D3F","#FDC4D7","#EB9FBD","#D58AA8","#B45E85","#852F54","#63C6A9","#379273","#1F7960","#1B897E","#135855","#53CEBC","#2A947E","#1A8662","#146749","#174731","#5CC1DD","#2A87A6","#3DB8BD","#238F99","#195B67","#8AC0E4","#62ABCB","#508EB5","#346EA0","#23456B","#9EA7D2","#7C7FB2","#4B4978","#504776"],Ln=["#ECDCC3","#E1D4C4","#EDD8B9","#E4D1A7","#D6BC97","#EEC7B6","#F3B39A","#CFC9A7","#A2A588","#6A6D66","#CAC4B6","#B5B1A5","#7E7B72","#67625C","#69574B","#B4B6B3","#7C7C7A","#626866","#857456","#805F50","#F4DF76","#F8D47C","#F1C969","#FCD08F","#F6C36A","#F1BB97","#F89D6E","#F69680","#F26B65","#E65856","#F1A0A9","#F59D9C","#F48282","#F0646F","#E74F64","#F9B5C2","#F17E9F","#F15B80","#F2778C","#DF3F59","#BBDA97","#98CD89","#79C270","#52B855","#16A36E","#7ECDCA","#4EC1BC","#73C7B0","#30BAA0","#348878","#90C7E5","#70B3DD","#70C7DB","#2FB1C7","#278B9A","#86AFDD","#6987C5","#3860A8","#276B9A","#315086","#B0A7D2","#9782BD","#604D85"],In=["#DBDCD4","#DFDECC","#DDD7C7","#C3C1AA","#B7B096","#C2C2B8","#9D968C","#66635C","#848A88","#3B4345","#A7A781","#7E7D5E","#535041","#84926E","#3D4635","#D7AA81","#C59776","#98795D","#6E5843","#433431","#906253","#895351","#673735","#553634","#4E2F34","#E5CF93","#F1C995","#EECB89","#DDB779","#C5A870","#EF9795","#E7797A","#B64F58","#E67571","#A4484B","#FAC7C3","#FFA99C","#EE7D7F","#C45657","#8E2F35","#FDC0C7","#FEA6B2","#EB7084","#C14A5E","#862A39","#96D5BA","#77BE9E","#46846B","#348A7D","#1A423A","#57C2B8","#36A698","#14635E","#277357","#1C3F29","#67AAC7","#367BA5","#174C6E","#5474A5","#203256","#8792C0","#55608D","#2E3351"],Sn=["#FFFFFF","#E2DFD8","#D1D1C7","#9C938C","#776F6C","#CED2D3","#B8C1C0","#8A9493","#3B4345","#0E0E0E","#F5D4DF","#FBF097","#B0E8C5","#A7E8EC","#C9D4F0","#FAEB74","#FDE55F","#FFD95C","#DC364C","#AD2742","#33C475","#15B764","#107C42","#125C3B","#1C372E","#18BE8E","#127B5D","#124A3F","#24ADB7","#136772","#41B8D6","#2299C3","#0E6085","#2D84C7","#0D60AE","#FEC2E8","#FE98DA","#FA77B9","#F863B4","#AA2A67","#FE93C1","#F45E8C","#F65D9E","#A63168","#542339","#F59DCF","#DC5892","#A63168","#752444","#3A2230","#C981CD","#89509F","#5E3579","#A058A2","#442A59","#7B3569","#5A3771","#383979","#2F2C59","#1E2F4D","#3B66B4","#20418E","#222E54","#292021"],Tn=["#ECE0CA","#E5D7BD","#D5CAB4","#EDDFB8","#F2D6A4","#F4D5C3","#F6C6B0","#C2C4B6","#948F8B","#64504F","#C5C9AE","#90957F","#958472","#716A5A","#544E42","#D1B590","#B89C77","#837061","#57473A","#4A3B3E","#EDBC93","#B39C7A","#AE6F5D","#8A4D4C","#502D31","#F6CA71","#F6BA71","#DCAA65","#BC8B51","#765836","#F3A66E","#E08654","#DF7C53","#C05241","#8A3636","#FEA98A","#FA807D","#F97F7A","#ED6057","#D73741","#EE978E","#E97081","#AB3E51","#7E2D36","#44232A","#C6C38E","#A2AD75","#ADA14B","#776A35","#423C24","#8CB976","#477A37","#2D8052","#216041","#1D3E29","#3FB9BE","#25848A","#51BBCB","#1D7C8E","#16515F","#6788B5","#384B76","#7A6892","#4F425C"],Mn=["#DCDACD","#D7D2BF","#BFBDB1","#A59D92","#827D77","#AFB5B5","#8A9493","#6E7474","#7D949C","#4F6976","#C3BFB6","#90777A","#685656","#5C4C4D","#553743","#F1DAB0","#ECD2A1","#F0DA8E","#FCDD8D","#F9D081","#F7888E","#ED5965","#F66C7B","#E03C55","#BB324E","#F9959F","#F7788D","#F15C79","#E94C69","#CD2D53","#F2AAB5","#F398B7","#F982A8","#DD5885","#AF476C","#78DCB8","#1DC796","#1EA384","#199E73","#1F674F","#63DBBF","#1BC8AA","#33CFC4","#23B7AB","#207D75","#6FCFDF","#38B5C7","#25C3C2","#299FA9","#258093","#83C9EA","#6BB8E6","#4292CF","#1E68A5","#155B8E","#8FABDD","#7A98D4","#5177BE","#36629F","#1E457E","#9782C7","#6E5A9F","#524783"],Pn=["#FFFFFF","#E3E0D7","#CACBC3","#A6A39E","#78736D","#D4D8D9","#C9CFCF","#A3A7A6","#434D4F","#000000","#EEE8AE","#EED4D7","#BEE4D9","#B3DAE9","#C5CCE8","#F9E680","#FAD57C","#F0C777","#90C55D","#4C7032","#D33953","#E65671","#F985AA","#E2537E","#83253F","#BA2542","#97253F","#A52B38","#7D2436","#622534","#F07786","#DF4D64","#892935","#6C272C","#382322","#23B783","#146449","#1A4239","#30362A","#362724","#3ACAB3","#147063","#28A0B1","#147585","#194143","#60C1E1","#1686AC","#155674","#1C73A0","#1C394B","#70BBE3","#1C71A8","#609EF1","#215B9A","#1C3353","#B897C6","#A373A7","#59335A","#2D2439","#312026","#E788A8","#973D59","#3D222B"],Bn=["#F5E0C5","#ECD1BC","#FAD6A6","#E7BE7C","#DEAD82","#C2C4B9","#AEAD9B","#989687","#7F7B6F","#584E44","#D6CC8F","#C8AC84","#B79363","#735539","#463229","#F5BB96","#DC976E","#8C4835","#794537","#5B322C","#F0C98E","#F1D582","#F4CD72","#F0BB51","#F0AF53","#F1A38D","#F37656","#F98077","#EF5861","#DE3844","#EE7675","#E34D4E","#D93649","#F1616B","#D9374F","#C8DA74","#AFC547","#8C9D35","#33A948","#227235","#74DA74","#59CA56","#209836","#117E45","#0F7752","#5AD271","#40C971","#48CEA9","#16A47C","#10795B","#57D0AF","#2FBA9D","#20C5B4","#20A799","#1B908A","#A1B9E7","#7399D8","#587DCB","#0063A7","#124270","#C993D1","#996ABA","#683E88","#463B87"],Dn=["#E4E2D3","#E1DAC8","#E6D8BB","#D5CAB8","#C0C4B3","#ABAFAE","#969F9A","#595F5D","#394241","#202020","#BAB6AD","#685E55","#322C2C","#0F5591","#17416B","#E6DFA9","#FBCBBF","#A2E4D8","#A5E3EE","#BAC1EB","#FBD05F","#FBC56B","#ECAB45","#DB9454","#B13C32","#F9AAAD","#FD8C84","#EE5558","#FD7B61","#E54449","#F5A2BC","#F784A5","#DD476A","#FD7C90","#D93F5B","#FF9ACA","#FC7FB9","#EC488F","#F9659F","#C73063","#C1DA74","#8FBB4A","#4F9636","#2F7030","#264B2C","#27C76F","#148F4E","#116939","#15A769","#125B3E","#4BD5D7","#21B7B6","#1A857D","#28ADBC","#14626C","#449FD8","#1070BC","#9E79C9","#7151A4","#382F72","#EE89C1","#DB5296","#88275A"],Rn=["#FFFFFF","#E4E2D6","#DDD7C7","#9E9D99","#605D56","#CFD1D0","#B9BFBD","#97A09B","#3C4242","#141414","#EFE5AA","#F7D1D0","#B2E5DE","#FBD3ED","#D7D1ED","#F3DD78","#FED96E","#FCCD65","#ABD454","#81A54E","#F47C86","#E54D5C","#D3363F","#D9406C","#9A2947","#F378A6","#DC4A71","#E64F70","#CC2B4A","#842336","#F078BF","#C54894","#812B6A","#BF3277","#662247","#E078C7","#9B4292","#632D6B","#604E9A","#2F2F6D","#41D287","#1AA856","#13643B","#1FA793","#16534C","#50D4E0","#259FA2","#4CC7E9","#24A1CD","#135F7F","#71B5E2","#264F9F","#5C94CD","#2058A5","#1B305F","#587EC7","#264F9F","#1E2C53","#2C2022","#241E20","#857DC6","#6059A7","#232959"],xn=[{id:1,color:"#fff"},{id:2,color:"#fff"},{id:3,color:"#fff"},{id:4,color:"#fff"},{id:5,color:"#fff"}],_n=["#B28184","#807D92","#54475B","#E5D99F","#527A93","#CE88A0","#C34461","#487379","#37564E","#E2A1B7","#A4AFC5","#5E5D7C"],Wn=["#6E5841","#A7A781","#F1C795","#A4474F","#FFA99A","#43836B","#534F43","#C6977B","#5474A5","#164C6E","#C5A771","#8B2E36"],On=["#D3363F","#FFFFFF","#F3DD78","#ABD452","#1AA856","#41D287","#4CC7E9","#264F9F","#604E9A","#D974C0","#FBD3ED","#141414"],Vn=["#FBD05F","#FD7B61","#E54449","#8FBB4A","#2F7030","#F784A5","#EC488F","#88275A","#A2E4D8","#28ADBC","#1070BC","#7151A4"],Xn=["#FAD6A6","#F0BB51","#AFC546","#8C9D35","#735539","#F98077","#EF5861","#8C4835","#48CEA9","#33A948","#C993D1","#587DCB"],Kn=["#4EC1BC","#F1BB97","#F8D47C","#F99E71","#F48282","#F26B65","#BADA97","#79C270","#F47E9E","#EABCC6","#85AFDD","#B0A7D2"],Un=["#F398B7","#6FCFDF","#4292CF","#A59D92","#F1DAB0","#DD5885","#63DBBF","#1DC796","#7D949C","#8DAADC","#9782C7","#F2AAB5"],Gn=["#6F6065","#2E6E7A","#E8E0A1","#DE7089","#DF4F66","#852F54","#346EA0","#4B4978","#5CC1DD","#FDC4D7","#B35D85","#1F7960"],Qn=["#F6BA72","#E18552","#BE5242","#D6353B","#ADA14B","#715638","#477A37","#1D7C8E","#6788B5","#4F425C","#423C24","#883837"],zn=["#C65454","#6E272F","#4A2127","#8D9C59","#1B3430","#392933","#6F3450","#E87F6A","#263356","#F4C581","#B88C5B","#4C432E"],Nn=["#000000","#622535","#E1527E","#203353","#1F5B99","#127685","#4D6F32","#1E413B","#973D59","#59335A","#3D212D","#A52A3C"],jn=["#F863B4","#0E0E0E","#2299C3","#20418E","#FBF097","#C9D4F0","#FE98DA","#AA2A67","#33C574","#F65D8C","#7B3569","#89509F"],Hn={softSummerPalette:_n,softAutumnPalette:Wn,brightWinterPalette:On,brightSpringPalette:Vn,warmSpringPalette:Xn,lightSpringPalette:Kn,lightSummerPalette:Un,coldWinterPalette:jn,coldSummerPalette:Gn,warmAutumnPalette:Qn,darkAutumnPalette:zn,darkWinterPalette:Nn},Yn={softSummerPalette:wn,darkAutumnPalette:Fn,coldSummerPalette:An,lightSpringPalette:Ln,softAutumnPalette:In,brightSpringPalette:Dn,warmSpringPalette:Bn,darkWinterPalette:Pn,lightSummerPalette:Mn,warmAutumnPalette:Tn,coldWinterPalette:Sn,brightWinterPalette:Rn};var qn=(0,o.pM)({components:{AppOption:Ye,AppButton:zt,AppDropdown:ze,AppModalHeader:qa},emits:["resolve","reject","close"],setup(e,{emit:t}){const{t:a}=(0,r.s9)(),l=(0,i.Pj)(),s=(0,n.KR)(""),c=(0,o.EW)(()=>l.getters["mobile/getDevice"]),u=(0,n.KR)(Nt.map(e=>({...e,name:a(e.type)}))),d=(0,n.KR)(Object.entries(Yn).map(([e,t])=>({id:e,name:a(e),colors:t}))),p=(0,n.KR)(l.getters["gallery/getFilter"]?.maskType),m=(0,n.KR)(l.getters["gallery/getFilter"]?.paletteType),g=(0,n.KR)(l.getters["gallery/getFilter"]?.coloristicType),v=(0,n.KR)([{id:"mask",name:a("mask"),icon:"mask"},{id:"collage",name:a("collage"),icon:"images"}]),h=(0,o.EW)(()=>l.getters["folder/getFilterFolders"]),f=(0,n.KR)(l.getters["folder/getFolders"]),b=(0,o.EW)(()=>f.value.length>0&&0===h.value.length&&!!s.value.trim()),k=(0,n.KR)(l.getters["gallery/getFilter"]?.folder),y=()=>{t("close")},C=e=>{s.value=e,l.dispatch("folder/filterFolder",e)},E=()=>{l.dispatch("gallery/setFilter",{folder:k.value,coloristicType:g.value,maskType:p.value,paletteType:m.value}),t("resolve",!0)},w=()=>{k.value=null,g.value=null,p.value=null,m.value=null};(0,o.sV)(()=>{hl().disable(),g.value&&(g.value={id:g.value.id,name:a(g.value.id)}),m.value&&(m.value={...m.value,name:a(m.value.id)}),p.value&&(p.value={...p.value,name:a(p.value.type)})});const F=()=>{c.value},A=()=>{"ios"===c.value&&setTimeout(()=>window.scrollTo(0,0),50)};return{close:y,folder:k,folders:h,searchFolder:C,cards:u,maskType:p,coloristicType:g,coloristicTypes:v,applyFilter:E,clearFilter:w,t:a,paletteType:m,palettesCards:d,focusInput:F,focusOutInput:A,isFolderExist:b,existFolders:f}}});const Jn=(0,h.A)(qn,[["render",En],["__scopeId","data-v-1c73bbbd"]]);var Zn=Jn;function $n(e,t,a,l,s,n){return(0,o.uX)(),(0,o.CE)("div",{ref:"container",class:"virtual-grid",style:(0,c.Tr)(e.containerStyle),onScroll:t[0]||(t[0]=(...t)=>e.onScroll&&e.onScroll(...t))},[(0,o.Lk)("div",{class:"spacer",style:(0,c.Tr)({height:e.totalHeight+"px"})},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.visibleItems,(t,a)=>((0,o.uX)(),(0,o.CE)("div",{key:e.itemKey(t),class:"cell",style:(0,c.Tr)(e.cellStyle(e.startIndex+a))},[(0,o.RG)(e.$slots,"default",{item:t,index:e.startIndex+a},void 0,!0)],4))),128))],4)],36)}var ei=(0,o.pM)({props:{items:{type:Array,required:!0},itemKey:{type:Function,default:e=>e?.id??JSON.stringify(e)},minColumnWidth:{type:Number,default:250},rowHeight:{type:Number,default:300},gap:{type:Number,default:5},bufferRows:{type:Number,default:20},height:{type:[Number,String],default:400}},emits:["scroll"],setup(e,{emit:t}){const a=(0,n.KR)(null),l=(0,n.KR)(0),s=(0,n.KR)(0),i=(0,n.KR)(0);let r=null;const c=(0,o.EW)(()=>({height:"number"===typeof e.height?`${e.height}px`:String(e.height)})),u=(0,o.EW)(()=>Math.max(1,Math.floor((i.value+e.gap)/(e.minColumnWidth+e.gap)))),d=(0,o.EW)(()=>{const t=u.value;return(i.value-(t-1)*e.gap)/t}),p=(0,o.EW)(()=>Math.ceil(e.items.length/u.value)),m=(0,o.EW)(()=>p.value*e.rowHeight+Math.max(0,p.value-1)*e.gap),g=(0,o.EW)(()=>Math.max(0,m.value-s.value)),v=(0,o.EW)(()=>Math.ceil(s.value/(e.rowHeight+e.gap))+e.bufferRows),h=(0,o.EW)(()=>{const t=Math.floor(l.value/(e.rowHeight+e.gap)),a=Math.max(0,Math.ceil(p.value-v.value));return Math.min(t,a)}),f=(0,o.EW)(()=>h.value*u.value),b=(0,o.EW)(()=>{const t=e.items.length,a=v.value*u.value;return Math.min(f.value+a,t)}),k=(0,o.EW)(()=>e.items.slice(f.value,b.value)),y=(0,o.EW)(()=>h.value*(e.rowHeight+e.gap)),C=(0,o.EW)(()=>Math.floor(b.value/u.value)),E=(0,o.EW)(()=>{const t=Math.max(0,p.value-C.value);return t*(e.rowHeight+e.gap)}),w=()=>{const e=a.value;e&&(s.value=e.clientHeight,i.value=e.clientWidth)},F=t=>{const a=Math.floor(t/u.value),l=t%u.value,o=l*(d.value+e.gap),s=a*(e.rowHeight+e.gap);return{position:"absolute",transform:`translate3d(${Math.round(o)}px, ${Math.round(s)}px, 0)`,width:`${Math.round(d.value)}px`,height:`${e.rowHeight}px`}};let A=null;const L=e=>{t("scroll",e);const a=e.target,o=a.scrollTop;null!=A&&cancelAnimationFrame(A),A=requestAnimationFrame(()=>{l.value=Math.max(0,Math.min(o,g.value)),A=null})};return(0,o.sV)(()=>{(0,o.dY)(()=>w()),a.value&&"ResizeObserver"in window&&(r=new ResizeObserver(()=>w()),r.observe(a.value)),window.addEventListener("resize",w)}),(0,o.xo)(()=>{r?.disconnect(),window.removeEventListener("resize",w)}),{container:a,containerStyle:c,visibleItems:k,startIndex:f,totalHeight:m,topSpacer:y,bottomSpacer:E,cellStyle:F,onScroll:L}}});const ti=(0,h.A)(ei,[["render",$n],["__scopeId","data-v-5170dfca"]]);var ai=ti;const li={class:"modal-content neon"},oi={class:"overlay-image"},si={ref:"containerRef",class:"canvas-container"},ni={ref:"canvasRef",class:"high-quality-canvas"},ii={class:"footer"},ri={class:"footer-wrapper"},ci={class:"badge-wrapper"},ui={key:0,class:"badge darkBadge"},di={class:"badge darkBadge"},pi={class:"btn"};function mi(e,t,a,l,s,n){const i=(0,o.g2)("app-modal-header"),r=(0,o.g2)("font-awesome-icon"),u=(0,o.g2)("app-overlay-panel"),d=(0,o.g2)("AppLoader"),p=(0,o.g2)("app-input"),m=(0,o.g2)("app-button");return(0,o.uX)(),(0,o.CE)("div",li,[(0,o.bF)(i,{class:"header",onClose:e.close},null,8,["onClose"]),(0,o.Lk)("div",{ref:"targetRef",class:"ellipsis-vertical",onClick:t[0]||(t[0]=(...t)=>e.toggleImageOverlayPanel&&e.toggleImageOverlayPanel(...t))},[(0,o.bF)(r,{size:"lg",icon:["fas","fa-ellipsis-vertical"]})],512),e.targetRef?((0,o.uX)(),(0,o.Wv)(u,{key:0,visible:e.visible,"onUpdate:visible":t[3]||(t[3]=t=>e.visible=t),width:250,target:e.targetRef,position:{x:"left",y:"center"}},{default:(0,o.k6)(()=>[(0,o.Lk)("div",oi,[(0,o.Lk)("div",{class:"overlay-image-item",onClick:t[1]||(t[1]=(...t)=>e.openFolderModal&&e.openFolderModal(...t))},[(0,o.bF)(r,{size:"sm",icon:["fas","fa-folder"]}),(0,o.eW)(" "+(0,c.v_)(e.t("addFolder")),1)]),(0,o.Lk)("div",{class:"overlay-image-item",onClick:t[2]||(t[2]=(...t)=>e.downloadCollage&&e.downloadCollage(...t))},[(0,o.bF)(r,{size:"sm",icon:["fas","download"]}),(0,o.eW)(" "+(0,c.v_)(e.t("download")),1)])])]),_:1},8,["visible","target"])):(0,o.Q3)("",!0),(0,o.Lk)("div",si,[(0,o.Lk)("canvas",ni,null,512),e.loading?((0,o.uX)(),(0,o.Wv)(d,{key:0})):(0,o.Q3)("",!0)],512),(0,o.Lk)("footer",ii,[(0,o.Lk)("div",ri,[(0,o.Lk)("div",ci,[e.folder?((0,o.uX)(),(0,o.CE)("span",ui,(0,c.v_)(e.folder?.name),1)):(0,o.Q3)("",!0),(0,o.Lk)("span",di,(0,c.v_)(e.t("collage")),1)]),(0,o.bF)(p,{modelValue:e.signIn,"onUpdate:modelValue":t[4]||(t[4]=t=>e.signIn=t),icon:["fas","fa-pencil"],"is-label":!1,onFocus:e.focusInput,onBlur:e.focusOutInput},null,8,["modelValue","onFocus","onBlur"]),(0,o.Lk)("div",pi,[(0,o.bF)(m,{loading:e.isSaveGallery,severity:"warning",title:"saveToGallery",onClick:e.saveToGallery},null,8,["loading","onClick"])]),t[5]||(t[5]=(0,o.Lk)("div",{class:"btn-group"},null,-1))])])])}var gi=(0,o.pM)({name:"ImageCollage",components:{AppOverlayPanel:Ue,AppLoader:Rl,AppInput:Pe,AppButton:zt,AppModalHeader:qa},props:{images:{type:Array,required:!0,default:()=>[]},padding:{type:Number,default:5},fillMode:{type:String,default:"cover"},containerScale:{type:Number,default:1},minCellSize:{type:Number,default:50},maintainAspectRatio:{type:Boolean,default:!0},canvasAspectRatio:{type:Number,default:null},maxImages:{type:Number,default:9},targetCanvasRatio:{type:Number,default:4/3}},emits:["resolve","reject","close"],setup(e,{emit:t}){const a=(0,i.Pj)(),{t:l}=(0,r.s9)(),s=(0,n.KR)(null),c=(0,n.KR)(null),u=(0,n.KR)(!1),d=(0,n.KR)(!1),p=(0,n.KR)(""),m=(0,n.KR)(0),g=(0,n.KR)(0),v=(0,n.KR)(!1),h=(0,n.KR)(null),f=(0,n.KR)(""),b=(0,n.KR)(null),k=(0,o.EW)(()=>a.getters["mobile/getDevice"]),y=(0,o.EW)(()=>"mobile"===a.getters["mobile/breakPoint"]),C=(0,o.EW)(()=>a.getters["authFirebase/currentUser"]),E=(0,n.KR)(3),F=(0,n.KR)(2);let A=null;const L=t=>{if(t<=0)return{columns:1,rows:1};const a=Math.min(t,e.maxImages);if(a<=3&&!y.value)return{columns:a,rows:1};if(y.value){const e=Math.min(2,a),t=Math.ceil(a/e);return{columns:e,rows:t}}const l=3,o=Math.ceil(a/l);return{columns:l,rows:o}},I=()=>{if(!c.value)return;const t=c.value.getBoundingClientRect(),a=Math.floor(t.width),l=Math.floor(t.height),o=E.value/F.value,s=a*e.containerScale,n=l*e.containerScale;let i,r;i=s,r=i/o,r>n&&(r=n,i=r*o);const u=i/E.value,d=r/F.value;if(u<e.minCellSize||d<e.minCellSize){const t=e.minCellSize*E.value,a=e.minCellSize*F.value;if(t<=s&&a<=n){i=t,r=a;const e=i/r;Math.abs(e-o)>.01&&(e>o?i=r*o:r=i/o)}else{const e=s/t,l=n/a,c=Math.min(e,l);i=t*c,r=a*c;const u=i/r;Math.abs(u-o)>.01&&(u>o?i=r*o:r=i/o)}}i>s&&(i=s,r=i/o),r>n&&(r=n,i=r*o),m.value=Math.floor(i),g.value=Math.floor(r)},S=()=>{c.value&&(A=new ResizeObserver(e=>{for(const t of e)t.target===c.value&&B()}),A.observe(c.value))},T=e=>new Promise((t,a)=>{const l=new Image;l.crossOrigin="Anonymous",l.onload=()=>{t({img:l,width:l.naturalWidth,height:l.naturalHeight,aspectRatio:l.naturalWidth/l.naturalHeight})},l.onerror=()=>a(new Error(`Не удалось загрузить изображение: ${e}`)),l.src=e}),M=async e=>{const t=e.map(e=>T(e));return Promise.all(t)},P=(e,t,a,l="cover")=>{if("stretch"===l)return{width:t,height:a,x:0,y:0};const o=t/a,s=e.aspectRatio;let n,i,r,c;return"cover"===l?s>o?(n=t,i=t/s,r=0,c=(a-i)/2):(i=a,n=a*s,r=(t-n)/2,c=0):(s>o?(n=t,i=t/s):(i=a,n=a*s),r=(t-n)/2,c=(a-i)/2),{width:n,height:i,x:r,y:c}},B=async()=>{if(s.value&&c.value&&0!==e.images.length){u.value=!0,p.value="";try{const t=s.value,a=t.getContext("2d");if(!a)return;const l=e.images.slice(0,e.maxImages),o=await M(l);if(0===o.length)return;const n=L(o.length);E.value=n.columns,F.value=n.rows,I();const i=window.devicePixelRatio||1,r=m.value,c=g.value;t.width=r*i,t.height=c*i,t.style.width=`${r}px`,t.style.height=`${c}px`,a.scale(i,i),a.imageSmoothingEnabled=!0,a.imageSmoothingQuality="high",a.clearRect(0,0,r,c),a.fillStyle="#ffffff",a.fillRect(0,0,r,c);const u=r/E.value,d=c/F.value;for(let s=0;s<F.value;s++)for(let t=0;t<E.value;t++){const l=s*E.value+t;if(l>=o.length)break;const n=o[l],i=t*u,r=s*d,c=u-2*e.padding,p=d-2*e.padding,m=i+e.padding,g=r+e.padding,{width:v,height:h,x:f,y:b}=P(n,c,p,e.fillMode),k=m+f,y=g+b;a.save(),a.imageSmoothingEnabled=!0,a.imageSmoothingQuality="high",a.drawImage(n.img,0,0,n.width,n.height,k,y,v,h),a.restore()}}catch(t){console.error("Ошибка создания коллажа:",t),p.value="Ошибка при создании коллажа"}finally{u.value=!1}}},D=()=>{if(_(),!s.value)return;const e=s.value.toDataURL("image/png"),t=document.createElement("a");t.href=e,t.download="collage.png",t.click()},R=()=>{B()};(0,o.sV)(()=>{(0,o.dY)(()=>{setTimeout(()=>{B()},100),S(),window.addEventListener("resize",R)})}),(0,o.hi)(()=>{A&&A.disconnect(),window.removeEventListener("resize",R)});const x=()=>{t("close")},_=()=>{v.value=!v.value},W=async()=>{d.value=!0;try{await a.dispatch("gallery/saveImageToGallery",{canvas:s.value,title:f.value,coloristicType:"collage",maskType:"",userId:C.value?.uid,paletteType:"",folderId:b.value?.id?b.value?.id:""}),t("resolve",{update:!0})}finally{d.value=!1}},O=()=>{"ios"===k.value&&hl().enable()},V=()=>{"ios"===k.value&&(hl().disable(),setTimeout(()=>window.scrollTo(0,0),50))},X=async()=>{_(),await w(Wl,{},{transparent:!0}).then(e=>{b.value=e})};return{canvasRef:s,containerRef:c,loading:u,error:p,createCollage:B,downloadCollage:D,t:l,isMobile:y,close:x,toggleImageOverlayPanel:_,targetRef:h,visible:v,saveToGallery:W,isSaveGallery:d,signIn:f,focusInput:O,focusOutInput:V,openFolderModal:X,folder:b}}});const vi=(0,h.A)(gi,[["render",mi],["__scopeId","data-v-61ce4bd8"]]);var hi=vi;const fi=e=>0===Object.keys(e).length,bi=e=>Object.fromEntries(Object.entries(e).filter(([,e])=>e));var ki=(0,o.pM)({components:{AppVirtualScrollGrid:ai,AppPopover:Ca,AppPopoverWrapper:va,AppPopoverItem:ua,AppCheckbox:Ta,AppLoader:Rl,AppButton:zt,AppInput:Pe,AppImageCard:_s},setup(){const{t:e}=(0,r.s9)(),t=(0,i.Pj)(),a=(0,n.KR)(""),l=(0,n.KR)(null),s=(0,n.KR)(null),c=(0,o.EW)(()=>t.getters["gallery/getImages"]),u=(0,n.KR)(null),d=(0,o.EW)(()=>t.getters["authFirebase/getUserId"]),p=(0,o.EW)(()=>t.getters["gallery/getTotalImages"]),m=(0,o.EW)(()=>t.getters["gallery/getLastDoc"]),g=(0,o.EW)(()=>t.getters["gallery/isLoading"]),v=(0,o.EW)(()=>t.getters["gallery/getFilter"]),h=(0,o.EW)(()=>t.getters["gallery/getSelected"]),f=(0,o.EW)(()=>{const e=v.value;return!e||fi(bi(e))}),b=(0,o.EW)(()=>"mobile"===t.getters["mobile/breakPoint"]),k=(0,o.EW)(()=>!L.value&&!g.value&&!a.value?.trim()&&f.value&&0===c.value.length),y=(0,o.EW)(()=>!L.value&&!g.value&&0===c.value?.length&&(!!a.value?.trim()||!f.value)),C=(0,n.KR)(!1),E=(0,n.KR)(!1),F=(0,n.KR)(!1),A=(0,n.KR)(!1),L=(0,n.KR)(!0);let I=0,S=null;(0,o.sV)(async()=>{await t.dispatch("folder/getFolders",d.value),await T(!0,a.value),C.value=!!h.value.length,L.value=!1});const T=async(e=!1,a)=>{await t.dispatch("gallery/initUserGalleryItems",{userId:d.value,options:{...M(a)},reset:e})},M=e=>({title:e,coloristicType:v.value?.coloristicType?.id,maskType:v.value?.maskType?.type,folderId:v.value?.folder?.id,paletteType:v.value?.paletteType?.id}),P=async e=>{await w(tn,{images:c.value,startIndex:e})},B=async()=>{await w(Zn,{}).then(e=>{e&&T(!0,a.value)})},D=async()=>{h.value.length>6?await t.dispatch("toast/addToast",{message:"maximumSelectedCollage",severity:"warning"}):await w(hi,{images:h.value.map(e=>e.src),padding:5}).then(e=>{e?.update&&T(!0,a.value)})},R=async e=>{const l=e.target,o=Math.ceil(l.scrollTop+l.clientHeight),n=l.scrollTop,i=o>=l.scrollHeight;i&&p.value>c.value.length&&!g.value&&await t.dispatch("gallery/initUserGalleryItems",{userId:d.value,options:{...M(a.value),lastDoc:m.value}});const r=o>=l.scrollHeight-20;if(s.value&&s.value.clientHeight>=l.scrollHeight)return A.value=!1,void(I=n<=0?0:n);r||(n>I?A.value=!0:n<I&&(A.value=!1)),I=n<=0?0:n};(0,o.wB)(a,e=>{S&&clearTimeout(S),L.value=!0,S=setTimeout(()=>{T(!0,e),L.value=!1},300)}),(0,o.wB)(C,e=>{t.dispatch("gallery/setSelectedMode",e),e||_()}),(0,o.wB)(E,e=>{e?(t.dispatch("gallery/setSelectedMode",!0),t.dispatch("gallery/setSelectedAll",c.value)):t.dispatch("gallery/clearSelected")});const x=async()=>{await w(Il,{text:e("dyrAllDeleted"),title:e("delete")}).then(e=>{e&&t.dispatch("gallery/deleteImagesFromGallery",h.value.map(e=>e.id))})},_=()=>{t.dispatch("gallery/clearSelected")},W=()=>{F.value=!0},O=e=>c.value.findIndex(t=>t.id===e.id),V=(0,o.EW)(()=>b.value&&A.value?"calc(100dvh - var(--header-height) - 5px)":A.value?"calc(100dvh - var(--header-height) - 25px)":"calc(100dvh - var(--header-height) - 135px)");return{images:c,currentIndex:u,openCardModal:P,isLoading:g,totalImages:p,imagesContainer:l,onScroll:R,search:a,openFilterModal:B,isFilterEmpty:f,t:e,isSelectedMode:C,selected:h,openDeleteModal:x,clearSelected:_,chooseAll:E,isMobile:b,openPopover:W,visiblePopover:F,isHidden:A,getCurrentIndex:O,heightImagesContainer:V,galleryRef:s,openCollageModal:D,isClueSection:k,isNotFoundSection:y}}});const yi=(0,h.A)(ki,[["render",Ss],["__scopeId","data-v-4c1b4112"]]);var Ci=yi;const Ei={class:"photo-picker"};function wi(e,t,a,l,s,n){const i=(0,o.g2)("app-image-not-uploaded"),r=(0,o.g2)("app-image-color-picker"),u=(0,o.g2)("app-color-picker");return(0,o.uX)(),(0,o.CE)("div",{class:(0,c.C4)(["chroma-wrapper",{hiddenOverflow:e.isHiddenOverflow}])},[(0,o.Lk)("div",Ei,[e.imgEl?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(i,{key:0,onOnFileSelected:e.onFileSelected},null,8,["onOnFileSelected"])),e.imgEl?((0,o.uX)(),(0,o.Wv)(r,{key:1,"image-element":e.imgEl,"is-show-section-info":!1,onSelectedHex:t[0]||(t[0]=t=>e.selectedHex=t),onIsHiddenOverflow:t[1]||(t[1]=t=>e.isHiddenOverflow=t)},null,8,["image-element"])):(0,o.Q3)("",!0)]),(0,o.bF)(u,{"is-info-btn":!0,"hex-p":e.selectedHex},null,8,["hex-p"])],2)}const Fi={class:"color-picker"},Ai={key:0,class:"preview-row"},Li={class:"controls"},Ii={key:1,class:"info"},Si={class:"info-colors"},Ti={key:2,class:"combos"},Mi={class:"row"},Pi={class:"label"},Bi={class:"row"};function Di(e,t,a,s,n,i){const r=(0,o.g2)("app-input"),u=(0,o.g2)("font-awesome-icon"),d=(0,o.g2)("app-button");return(0,o.uX)(),(0,o.CE)("div",Fi,[e.isPreviewRow?((0,o.uX)(),(0,o.CE)("div",Ai,[(0,o.Lk)("div",{class:"preview",style:(0,c.Tr)({background:e.hex}),"aria-hidden":"true"},null,4),(0,o.bF)(r,{modelValue:e.hex,"onUpdate:modelValue":t[0]||(t[0]=t=>e.hex=t),"is-label":!1,onFocus:e.focusInput,onBlur:e.focusOutInput},null,8,["modelValue","onFocus","onBlur"]),(0,o.Lk)("div",{class:"copy-icon",onClick:t[1]||(t[1]=(...t)=>e.copyTextColor&&e.copyTextColor(...t))},[(0,o.bF)(u,{size:"xl",icon:["fas","copy"]})])])):(0,o.Q3)("",!0),(0,o.Lk)("div",Li,[(0,o.Lk)("div",{ref:"svEl",class:"sv",style:(0,c.Tr)({background:e.svBackground}),onPointerdown:t[2]||(t[2]=(0,l.D$)((...t)=>e.onSvPointerDown&&e.onSvPointerDown(...t),["prevent"]))},[t[5]||(t[5]=(0,o.Lk)("div",{class:"sv-overlay"},null,-1)),(0,o.Lk)("div",{class:"sv-cursor",style:(0,c.Tr)(e.svCursorStyle),"aria-hidden":"true"},null,4)],36),(0,o.Lk)("div",{ref:"hueEl",class:"hue",onPointerdown:t[3]||(t[3]=(0,l.D$)((...t)=>e.onHuePointerDown&&e.onHuePointerDown(...t),["prevent"]))},[(0,o.Lk)("div",{class:"hue-cursor",style:(0,c.Tr)(e.hueCursorStyle),"aria-hidden":"true"},null,4)],544)]),e.isInfo?((0,o.uX)(),(0,o.CE)("div",Ii,[(0,o.Lk)("div",Si,[(0,o.Lk)("div",null,[t[6]||(t[6]=(0,o.Lk)("strong",null,"HEX:",-1)),(0,o.eW)(" "+(0,c.v_)(e.hex),1)]),(0,o.Lk)("div",null,[t[7]||(t[7]=(0,o.Lk)("strong",null,"RGB:",-1)),(0,o.eW)(" "+(0,c.v_)(e.rgb.join(", ")),1)])]),e.isInfoBtn?((0,o.uX)(),(0,o.CE)("div",{key:0,class:"info-button",onClick:t[4]||(t[4]=(...t)=>e.openCombinationCanvasModal&&e.openCombinationCanvasModal(...t))},[(0,o.bF)(d,{icon:["fas","eye"],raised:"",severity:"secondary"})])):(0,o.Q3)("",!0)])):(0,o.Q3)("",!0),e.isCombosSection?((0,o.uX)(),(0,o.CE)("section",Ti,[(0,o.Lk)("h4",null,(0,c.v_)(e.t("combinations")),1),(0,o.Lk)("div",Mi,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.combos,e=>((0,o.uX)(),(0,o.CE)("div",{key:e.label,class:"combo"},[(0,o.Lk)("div",{class:"swatch",style:(0,c.Tr)({background:e.color})},null,4),(0,o.Lk)("div",Pi,(0,c.v_)(e.label)+" — "+(0,c.v_)(e.color),1)]))),128))]),(0,o.Lk)("h4",null,(0,c.v_)(e.t("scale")),1),(0,o.Lk)("div",Bi,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.scaleColors,e=>((0,o.uX)(),(0,o.CE)("div",{key:e,class:"swatch",style:(0,c.Tr)({background:e})},null,4))),128))])])):(0,o.Q3)("",!0)])}var Ri=a(6353);const xi={ref:"modalRef",class:"modal-content neon"},_i={class:"overlay-image"},Wi={ref:"containerRef",class:"color-harmony-canvas"},Oi=["width","height"],Vi={class:"footer"},Xi={class:"info-section-wrapper"},Ki={class:"badge-wrapper"},Ui={key:0,class:"badge darkBadge"},Gi={class:"actions"},Qi={class:"btn"};function zi(e,t,a,l,s,n){const i=(0,o.g2)("app-modal-header"),r=(0,o.g2)("font-awesome-icon"),u=(0,o.g2)("app-overlay-panel"),d=(0,o.g2)("AppLoader"),p=(0,o.g2)("app-input"),m=(0,o.g2)("app-button");return(0,o.uX)(),(0,o.CE)("div",xi,[(0,o.bF)(i,{onClose:e.close},null,8,["onClose"]),(0,o.Lk)("div",{ref:"targetRef",class:"ellipsis-vertical",onClick:t[0]||(t[0]=(...t)=>e.toggleImageOverlayPanel&&e.toggleImageOverlayPanel(...t))},[(0,o.bF)(r,{size:"lg",icon:["fas","fa-ellipsis-vertical"]})],512),e.targetRef?((0,o.uX)(),(0,o.Wv)(u,{key:0,visible:e.visible,"onUpdate:visible":t[3]||(t[3]=t=>e.visible=t),width:250,target:e.targetRef,position:{x:"left",y:"center"}},{default:(0,o.k6)(()=>[(0,o.Lk)("div",_i,[(0,o.Lk)("div",{class:"overlay-image-item",onClick:t[1]||(t[1]=(...t)=>e.openFolderModal&&e.openFolderModal(...t))},[(0,o.bF)(r,{size:"sm",icon:["fas","fa-folder"]}),(0,o.eW)(" "+(0,c.v_)(e.t("addFolder")),1)]),(0,o.Lk)("div",{class:"overlay-image-item",onClick:t[2]||(t[2]=(...t)=>e.downloadCollage&&e.downloadCollage(...t))},[(0,o.bF)(r,{size:"sm",icon:["fas","download"]}),(0,o.eW)(" "+(0,c.v_)(e.t("download")),1)])])]),_:1},8,["visible","target"])):(0,o.Q3)("",!0),(0,o.Lk)("div",Wi,[e.isLoading?((0,o.uX)(),(0,o.Wv)(d,{key:0})):(0,o.Q3)("",!0),(0,o.Lk)("canvas",{ref:"canvasRef",class:"high-quality-canvas",width:e.canvasWidth,height:e.canvasHeight},null,8,Oi)],512),(0,o.Lk)("footer",Vi,[(0,o.Lk)("div",Xi,[(0,o.Lk)("div",Ki,[e.folder?((0,o.uX)(),(0,o.CE)("span",Ui,(0,c.v_)(e.folder?.name),1)):(0,o.Q3)("",!0)]),(0,o.bF)(p,{modelValue:e.signIn,"onUpdate:modelValue":t[4]||(t[4]=t=>e.signIn=t),icon:["fas","fa-pencil"],"is-label":!1,onFocus:e.focusInput,onBlur:e.focusOutInput},null,8,["modelValue","onFocus","onBlur"]),(0,o.Lk)("div",Gi,[(0,o.Lk)("div",Qi,[(0,o.bF)(m,{loading:e.isSaveGallery,severity:"warning",title:"saveToGallery",onClick:e.saveToGallery},null,8,["loading","onClick"])])])])])],512)}var Ni=(0,o.pM)({components:{AppOverlayPanel:Ue,AppLoader:Rl,AppInput:Pe,AppButton:zt,AppModalHeader:qa},props:{mainColor:{type:Object,default:()=>({label:"Основной цвет",color:"#4A90E2"})},colorItems:{type:Array,required:!0,default:()=>[]},scaleItems:{type:Array,default:()=>[]},squareSize:{type:Number,default:100},mainSquareSize:{type:Number,default:120},padding:{type:Number,default:20},textColor:{type:String,default:"auto"},fontSize:{type:Number,default:14},fontWeight:{type:String,default:"normal"},showDividers:{type:Boolean,default:!0},mainTitleColor:{type:String,default:"#333333"},combinationTitleColor:{type:String,default:"#333333"},compositionTitleColor:{type:String,default:"#333333"},mainSquareBorderRadius:{type:Number,default:12},mainSquareShadow:{type:Boolean,default:!0},minWidth:{type:Number,default:320},minHeight:{type:Number,default:400},maxWidth:{type:[Number,String],default:800},spacing:{type:Number,default:20},sectionSpacing:{type:Number,default:40}},emits:["resolve","reject","close"],setup(e,{emit:t}){const{t:a}=(0,r.s9)(),l=(0,i.Pj)(),s=(0,n.KR)(null),c=(0,n.KR)(null),u=(0,n.KR)(null),d=(0,n.KR)(null),p=(0,n.KR)(!1),m=(0,n.KR)(!1),g=(0,n.KR)(!1),v=(0,n.KR)(null),h=(0,n.KR)(""),f=(0,n.KR)(0),b=(0,n.KR)(0),k=(0,n.KR)(0),y=(0,o.EW)(()=>"mobile"===l.getters["mobile/breakPoint"]),C=(0,o.EW)(()=>l.getters["mobile/getDevice"]),E=(0,o.EW)(()=>l.getters["authFirebase/currentUser"]),F=()=>window.devicePixelRatio||1,A=()=>{if(!c.value)return e.minWidth;const t=c.value.parentElement,a=t?t.clientWidth:window.innerWidth;let l=e.maxWidth;if("string"===typeof l)if(l.endsWith("%")){const e=parseFloat(l)/100;l=a*e}else l=parseFloat(l)||a;let o=Math.min(a,l);return o=Math.max(o,e.minWidth),Math.floor(o)},L=()=>{const t=f.value,a=e.padding;return Math.max(t-2*a,100)},I=()=>{let t=0;const a=20,l=e.spacing,o=e.sectionSpacing;return t+=e.padding,t+=a,t+=l,t+=e.mainSquareSize,t+=o,e.showDividers&&(t+=10),e.colorItems.length>0&&(t+=a,t+=l,t+=e.squareSize,t+=o,e.showDividers&&e.scaleItems.length>0&&(t+=10)),e.scaleItems.length>0&&(t+=a,t+=l,t+=e.squareSize,t+=o),t+=e.padding,Math.max(t,e.minHeight)},S=()=>{f.value=A(),b.value=L(),k.value=I()},T=(0,o.EW)(()=>{const t=f.value>0?f.value:e.minWidth;return Math.round(t*F())}),M=(0,o.EW)(()=>{const t=k.value,a=Math.max(t,e.minHeight);return Math.round(a*F())}),P=e=>{const t=e.replace("#","");let a,l,o;if(3===t.length)a=parseInt(t[0]+t[0],16),l=parseInt(t[1]+t[1],16),o=parseInt(t[2]+t[2],16);else{if(6!==t.length)return 128;a=parseInt(t.substring(0,2),16),l=parseInt(t.substring(2,4),16),o=parseInt(t.substring(4,6),16)}return(299*a+587*l+114*o)/1e3},B=e=>{const t=P(e);return t>140?"#000000":"#FFFFFF"},D=(e,t,a,l="#333333")=>{if(!u.value)return a;const o=F(),s=20*o;return u.value.save(),u.value.fillStyle=l,u.value.font=`bold ${s}px system-ui, sans-serif`,u.value.textAlign="center",u.value.textBaseline="top",u.value.fillText(e,t,a),u.value.restore(),a+s},R=t=>{if(!u.value||!s.value||!e.showDividers)return;const a=F(),l=e.padding*a;u.value.save(),u.value.strokeStyle="#E0E0E0",u.value.lineWidth=a,u.value.setLineDash([5*a,3*a]),u.value.beginPath(),u.value.moveTo(l,t),u.value.lineTo(s.value.width-l,t),u.value.stroke(),u.value.restore()},x=t=>{if(!u.value||!s.value||!e.mainColor)return t;const l=F(),o=s.value.width/2,n=b.value*l*.8,i=Math.min(e.mainSquareSize*l,n),r=o-i/2,c=t*l,d=D(a("mainColor"),o,c,e.mainTitleColor),p=d+20*l;if(u.value.save(),e.mainSquareShadow&&(u.value.shadowColor="rgba(0, 0, 0, 0.2)",u.value.shadowBlur=10*l,u.value.shadowOffsetX=0,u.value.shadowOffsetY=4*l),e.mainSquareBorderRadius>0){const t=e.mainSquareBorderRadius*l;u.value.beginPath(),u.value.moveTo(r+t,p),u.value.lineTo(r+i-t,p),u.value.quadraticCurveTo(r+i,p,r+i,p+t),u.value.lineTo(r+i,p+i-t),u.value.quadraticCurveTo(r+i,p+i,r+i-t,p+i),u.value.lineTo(r+t,p+i),u.value.quadraticCurveTo(r,p+i,r,p+i-t),u.value.lineTo(r,p+t),u.value.quadraticCurveTo(r,p,r+t,p),u.value.closePath(),u.value.fillStyle=e.mainColor.color,u.value.fill()}else u.value.fillStyle=e.mainColor.color,u.value.fillRect(r,p,i,i);u.value.shadowColor="transparent",u.value.shadowBlur=0,u.value.strokeStyle="rgba(255, 255, 255, 0.3)",u.value.lineWidth=2*l,e.mainSquareBorderRadius>0?u.value.stroke():u.value.strokeRect(r,p,i,i),u.value.restore();const m=B(e.mainColor.color),g=o,v=p+i/2;return u.value.save(),u.value.fillStyle=m,u.value.font=`bold ${24*l}px system-ui, sans-serif`,u.value.textAlign="center",u.value.textBaseline="middle",u.value.globalAlpha=1,u.value.fillText(e.mainColor.color.toUpperCase(),g,v-2*l),e.mainColor.label&&(u.value.font=16*l+"px system-ui, sans-serif",u.value.fillText(e.mainColor.label,g,v+30*l)),u.value.restore(),(p+i+40*l)/l},_=(t,a,l,o)=>{if(!u.value||!s.value||0===t.length)return a;const n=F(),i=s.value.width/2,r=a*n,c=D(l,i,r,o),d=b.value*n/Math.max(t.length,1)-20*n,p=Math.min(e.squareSize*n,d),m=20*n,g=c+15*n,v=t.length*p+(t.length-1)*m,h=(s.value.width-v)/2;return t.forEach((e,t)=>{const a=h+t*(p+m);W(e,a,g,p),e.label&&""!==e.label.trim()&&O(e.label,a,g,p)}),(g+p+70*n)/n},W=(e,t,a,l)=>{if(!u.value)return;const o=F(),s=Math.min(12,l/10);u.value.save(),u.value.shadowColor="rgba(0, 0, 0, 0.15)",u.value.shadowBlur=8*o,u.value.shadowOffsetX=0,u.value.shadowOffsetY=3*o,u.value.beginPath(),u.value.moveTo(t+s,a),u.value.lineTo(t+l-s,a),u.value.quadraticCurveTo(t+l,a,t+l,a+s),u.value.lineTo(t+l,a+l-s),u.value.quadraticCurveTo(t+l,a+l,t+l-s,a+l),u.value.lineTo(t+s,a+l),u.value.quadraticCurveTo(t,a+l,t,a+l-s),u.value.lineTo(t,a+s),u.value.quadraticCurveTo(t,a,t+s,a),u.value.closePath(),u.value.fillStyle=e.color,u.value.fill(),u.value.shadowColor="transparent",u.value.shadowBlur=0,u.value.strokeStyle="rgba(255, 255, 255, 0.3)",u.value.lineWidth=1.5*o,u.value.stroke(),u.value.restore();const n=B(e.color),i=e.color.toUpperCase(),r=t+l/2,c=a+l/2;u.value.save(),u.value.fillStyle=n;const d=Math.max(10*o,Math.min(14*o,l/8));u.value.font=`bold ${d}px system-ui, sans-serif`,u.value.textAlign="center",u.value.textBaseline="middle",u.value.globalAlpha=.9,u.value.shadowColor="rgba(0, 0, 0, 0.3)",u.value.shadowBlur=2*o,u.value.shadowOffsetX=0,u.value.shadowOffsetY=o,u.value.fillText(i,r,c),u.value.restore()},O=(e,t,a,l)=>{if(!u.value)return;const o=F(),s=a+l+12*o,n=t+l/2,i=y.value?8:14,r=Math.max(8,Math.min(i,l/8))*o;u.value.save(),u.value.fillStyle="#333333",u.value.font=`500 ${r}px system-ui, sans-serif`,u.value.textAlign="center",u.value.textBaseline="top";const c=.95*l;let d=e;const p=u.value.measureText(d);if(p.width>c){const e=p.width/d.length,t=Math.floor(c/e);d=t>=4?d.substring(0,t-1)+"…":d.substring(0,Math.min(3,d.length))+"…"}u.value.shadowColor="rgba(255, 255, 255, 0.8)",u.value.shadowBlur=2*o,u.value.shadowOffsetX=0,u.value.shadowOffsetY=0,u.value.fillText(d,n,s),u.value.restore()},V=()=>{if(!u.value||!s.value||0===T.value)return;u.value.clearRect(0,0,s.value.width,s.value.height),u.value.fillStyle="#FFFFFF",u.value.fillRect(0,0,s.value.width,s.value.height);const t=F(),l=e.padding;let o=l;if(o=x(o),e.showDividers){const e=o*t+10*t;R(e),o+=30}if(e.colorItems.length>0&&(o=_(e.colorItems,o,a("combinations"),e.combinationTitleColor),e.showDividers&&e.scaleItems.length>0)){const e=o*t+10*t;R(e),o+=30}e.scaleItems.length>0&&(o=_(e.scaleItems,o,a("scale"),e.compositionTitleColor));const n=Math.max(o+l,e.minHeight);Math.abs(k.value-n)>5&&(k.value=n)},X=()=>{s.value&&c.value&&(S(),u.value=s.value.getContext("2d",{alpha:!0,desynchronized:!1}),u.value&&(u.value.imageSmoothingEnabled=!0,u.value.imageSmoothingQuality="high",V()))};let K;const U=()=>{clearTimeout(K),K=window.setTimeout(()=>{S(),V(),p.value=!1},100)};(0,o.sV)(async()=>{if(p.value=!0,await(0,o.dY)(),X(),window.addEventListener("resize",U),c.value&&"ResizeObserver"in window){const e=new ResizeObserver(()=>{U()});e.observe(c.value),(0,o.hi)(()=>{e.disconnect()})}}),(0,o.hi)(()=>{window.removeEventListener("resize",U),K&&clearTimeout(K)});const G=()=>{if(Q(),!s.value)return;const e=s.value.toDataURL("image/png"),t=document.createElement("a");t.href=e,t.download="colors.png",t.click()},Q=()=>{m.value=!m.value},z=()=>{t("close")},N=async()=>{Q(),await w(Wl,{},{transparent:!0}).then(e=>{v.value=e})},j=()=>{"ios"===C.value&&hl().enable()},H=()=>{"ios"===C.value&&(hl().disable(),setTimeout(()=>window.scrollTo(0,0),50))},Y=async()=>{g.value=!0;try{await l.dispatch("gallery/saveImageToGallery",{canvas:s.value,title:h.value,coloristicType:"",maskType:"",userId:E.value?.uid,paletteType:"",folderId:v.value?.id?v.value?.id:""})}finally{g.value=!1}};return{canvasRef:s,containerRef:c,canvasWidth:T,canvasHeight:M,downloadCollage:G,close:z,isLoading:p,toggleImageOverlayPanel:Q,targetRef:d,visible:m,t:a,openFolderModal:N,folder:v,focusInput:j,focusOutInput:H,isSaveGallery:g,signIn:h,saveToGallery:Y}}});const ji=(0,h.A)(Ni,[["render",zi],["__scopeId","data-v-a99ff4b8"]]);var Hi=ji,Yi=(0,o.pM)({components:{AppButton:zt,AppInput:Pe},props:{hexP:{type:String,default:"#D4F880"},isPreviewRow:{type:Boolean,default:!0},isInfo:{type:Boolean,default:!0},isCombosSection:{type:Boolean,default:!0},isInfoBtn:{type:Boolean,default:!1}},emits:["update:modelValue","change"],setup(e,{emit:t}){const{t:a}=(0,r.s9)(),l=(0,i.Pj)(),s=(0,n.KR)(e.hexP),c=(0,n.KR)((0,Ri.Ay)(s.value).hsl()[0]??0),u=(0,n.KR)((0,Ri.Ay)(s.value).hsl()[1]??1),d=(0,n.KR)((0,Ri.Ay)(s.value).hsl()[2]??.5),p=(0,o.EW)(()=>l.getters["mobile/getDevice"]),m=(0,n.KR)(null),g=(0,n.KR)(null);(0,o.wB)(()=>e.hexP,e=>{s.value=e},{immediate:!1});const v=(0,o.EW)(()=>Ri.Ay.valid(s.value)?(0,Ri.Ay)(s.value):(0,Ri.Ay)("#000")),h=(0,o.EW)(()=>v.value.rgb()),f=(0,o.EW)(()=>Ri.Ay.hsl(c.value,1,.5).hex()),b=(0,o.EW)(()=>({left:`${(100*u.value).toFixed(2)}%`,top:`${(100*(1-d.value)).toFixed(2)}%`,transform:"translate(-50%,-50%)"})),k=(0,o.EW)(()=>({left:`${(c.value%360/360*100).toFixed(2)}%`,transform:"translateX(-50%)"})),y=(0,o.EW)(()=>{const e=v.value.hsl()[0]??0,t=v.value.hsl()[1],a=v.value.hsl()[2];return[{label:"Complement",color:Ri.Ay.hsl((e+180)%360,t,a).hex()},{label:"Analog -30",color:Ri.Ay.hsl((e-30+360)%360,t,a).hex()},{label:"Analog +30",color:Ri.Ay.hsl((e+30)%360,t,a).hex()},{label:"Triad 1",color:Ri.Ay.hsl((e+120)%360,t,a).hex()},{label:"Triad 2",color:Ri.Ay.hsl((e+240)%360,t,a).hex()}]}),C=(0,o.EW)(()=>{const e=Ri.Ay.valid(s.value)?s.value:"#000";return Ri.Ay.scale([e,(0,Ri.Ay)(e).darken(2)]).mode("lab").colors(5)}),E=()=>{const e=Ri.Ay.hsv(c.value,u.value,d.value);s.value=e.hex(),t("change",s.value)},F=()=>{if(Ri.Ay.valid(s.value)){const e=(0,Ri.Ay)(s.value).hsl();c.value=e[0]??0,u.value=e[1]??1,d.value=e[2]??.5}};let A=!1;const L=(e,t)=>{const a=m.value;if(!a)return;const l=a.getBoundingClientRect(),o=Math.min(Math.max(0,e-l.left),l.width),s=Math.min(Math.max(0,t-l.top),l.height);u.value=o/l.width,d.value=1-s/l.height,E()},I=e=>{A=!0,m.value?.setPointerCapture?.(e.pointerId),L(e.clientX,e.clientY),window.addEventListener("pointermove",S),window.addEventListener("pointerup",T,{once:!0})},S=e=>{A&&L(e.clientX,e.clientY)},T=e=>{A=!1,m.value?.releasePointerCapture?.(e.pointerId),window.removeEventListener("pointermove",S),window.removeEventListener("pointerup",T)};let M=!1;const P=e=>{const t=g.value;if(!t)return;const a=t.getBoundingClientRect(),l=Math.min(Math.max(0,e-a.left),a.width);c.value=l/a.width*360,E()},B=e=>{M=!0,g.value?.setPointerCapture?.(e.pointerId),P(e.clientX),window.addEventListener("pointermove",D),window.addEventListener("pointerup",R,{once:!0})},D=e=>{M&&P(e.clientX)},R=e=>{M=!1,g.value?.releasePointerCapture?.(e.pointerId),window.removeEventListener("pointermove",D),window.removeEventListener("pointerup",R)};(0,o.xo)(()=>{window.removeEventListener("pointermove",S),window.removeEventListener("pointerup",T),window.removeEventListener("pointermove",D),window.removeEventListener("pointerup",R)}),(0,o.sV)(async()=>{await(0,o.dY)(),F()});const x=async()=>{try{await navigator.clipboard.writeText(s.value),await l.dispatch("toast/addToast",{message:"colorCopied",severity:"success"})}catch(e){await l.dispatch("toast/addToast",{message:"copyError",severity:"error"})}},_=async()=>{await w(Hi,{colorItems:y.value,scaleItems:C.value.map(e=>({label:"",color:e})),mainColor:{label:"",color:s.value}})},W=()=>{"ios"===p.value&&hl().enable()},O=()=>{"ios"===p.value&&(hl().disable(),setTimeout(()=>window.scrollTo(0,0),50))};return{hex:s,hue:c,sat:u,val:d,svEl:m,hueEl:g,color:v,rgb:h,svBackground:f,svCursorStyle:b,hueCursorStyle:k,onSvPointerDown:I,onHuePointerDown:B,combos:y,scaleColors:C,t:a,copyTextColor:x,openCombinationCanvasModal:_,focusInput:W,focusOutInput:O}}});const qi=(0,h.A)(Yi,[["render",Di],["__scopeId","data-v-29316fee"]]);var Ji=qi;const Zi={class:"image-placeholder",role:"button",tabindex:"0","aria-label":"Загрузить фото"},$i={class:"placeholder-inner"},er={class:"placeholder-text"};function tr(e,t,a,l,s,n){const i=(0,o.g2)("app-file-uploader");return(0,o.uX)(),(0,o.CE)("div",Zi,[(0,o.Lk)("div",$i,[t[0]||(t[0]=(0,o.Lk)("svg",{class:"placeholder-icon",width:"48",height:"48",viewBox:"0 0 24 24","aria-hidden":"true"},[(0,o.Lk)("path",{fill:"currentColor",d:"M5 20h14V8l-4-4H5v16zm2-9l2.5 3 3.5-4.5L17 17H7l0-6z"})],-1)),(0,o.Lk)("div",er,(0,c.v_)(e.t("photoNotUploaded")),1),(0,o.bF)(i,{"is-show-sign":!1,onSelect:e.onFileSelected},null,8,["onSelect"])])])}var ar=(0,o.pM)({components:{AppFileUploader:Zl},emits:["onFileSelected"],setup(e,{emit:t}){const{t:a}=(0,r.s9)(),l=e=>{t("onFileSelected",e)};return{t:a,onFileSelected:l}}});const lr=(0,h.A)(ar,[["render",tr],["__scopeId","data-v-a8d42910"]]);var or=lr;const sr={class:"viewer-wrap"},nr={ref:"canvasEl"},ir={class:"info-row"},rr={key:0},cr={class:"values"},ur={class:"actions"};function dr(e,t,a,l,s,n){const i=(0,o.g2)("app-button"),r=(0,o.g2)("app-file-uploader");return(0,o.uX)(),(0,o.CE)("div",sr,[(0,o.Lk)("canvas",nr,null,512),(0,o.Lk)("div",ir,[e.isShowSectionInfo?((0,o.uX)(),(0,o.CE)("section",rr,[(0,o.Lk)("div",{class:"swatch",style:(0,c.Tr)({background:e.currentHex})},null,4),(0,o.Lk)("div",cr,[(0,o.Lk)("div",null,[t[0]||(t[0]=(0,o.Lk)("strong",null,"RGB:",-1)),(0,o.eW)(" "+(0,c.v_)(e.currentRgb.join(", ")),1)]),(0,o.Lk)("div",null,[t[1]||(t[1]=(0,o.Lk)("strong",null,"HEX:",-1)),(0,o.eW)(" "+(0,c.v_)(e.currentHex),1)])])])):(0,o.Q3)("",!0),(0,o.Lk)("div",ur,[(0,o.bF)(i,{severity:"secondary",raised:"",icon:["fas","undo"],onClick:e.resetImage},null,8,["onClick"]),(0,o.bF)(i,{severity:"secondary",raised:"",icon:["fas","plus"],onClick:e.zoomPlus},null,8,["onClick"]),(0,o.bF)(i,{severity:"secondary",raised:"",icon:["fas","minus"],onClick:e.zoomMinus},null,8,["onClick"]),(0,o.bF)(r,{"is-show-sign":!1,"is-title":!1,onSelect:e.onFileSelected},null,8,["onSelect"])])])])}var pr=(0,o.pM)({components:{AppButton:zt,AppFileUploader:Zl},props:{imageElement:{type:Object,default:null,require:!0},isShowSectionInfo:{type:Boolean,default:!0}},emits:["selectedHex","isHiddenOverflow","imageUrlChanged"],setup(e,{emit:t}){const a=(0,i.Pj)(),l=(0,n.KR)(e.imageElement),s=(0,n.KR)(null),r=(0,n.KR)([0,0,0]),c=(0,n.KR)("#D4F880"),u=(0,n.KR)("#D4F880"),d=(0,o.EW)(()=>"mobile"===a.getters["mobile/breakPoint"]),p=d.value?350:450,m=d.value?350:450;let g=null,v=!1;(0,o.sV)(()=>{C(),f()});const h=e=>{if(!e)return;const a=URL.createObjectURL(e);k(a),t("imageUrlChanged",a)},f=()=>{const e=s.value,a=e.getBoundingClientRect();b(100,100);const l=e=>{0===e.button&&(v=!0,t("isHiddenOverflow",!0),hl().enable(),b(e.clientX-a.left,e.clientY-a.top))},o=e=>{v&&(t("isHiddenOverflow",!0),hl().enable(),b(e.clientX-a.left,e.clientY-a.top))},n=()=>{v=!1,hl().disable(),t("isHiddenOverflow",!1)},i=()=>{v=!1,hl().disable(),t("isHiddenOverflow",!1)},r=e=>{v=!0,t("isHiddenOverflow",!0),hl().enable();const l=e.touches[0];b(l.clientX-a.left,l.clientY-a.top)},c=e=>{if(!v)return;const l=e.touches[0];t("isHiddenOverflow",!0),hl().enable(),b(l.clientX-a.left,l.clientY-a.top)},u=()=>{v=!1,t("isHiddenOverflow",!1),hl().disable()};e.addEventListener("mousedown",l),e.addEventListener("mousemove",o),e.addEventListener("mouseup",n),e.addEventListener("mouseleave",i),e.addEventListener("touchstart",r),e.addEventListener("touchmove",c),e.addEventListener("touchend",u),g=()=>{e.removeEventListener("mousedown",l),e.removeEventListener("mousemove",o),e.removeEventListener("mouseup",n),e.removeEventListener("mouseleave",i),e.removeEventListener("touchstart",r),e.removeEventListener("touchmove",c),e.removeEventListener("touchend",u)}},b=(e,a)=>{const l=s.value,o=l.getContext("2d"),n=l.getBoundingClientRect(),i=window.devicePixelRatio||1;if(e<0||a<0||e>n.width||a>n.height)return;const d=e*i,p=a*i,m=o.getImageData(Math.floor(d),Math.floor(p),1,1).data,[g,v,h]=m;r.value=[g,v,h],c.value=y(g,v,h),u.value=c.value,t("selectedHex",u.value),C(),o.beginPath(),o.arc(e,a,14,0,2*Math.PI),o.fillStyle="rgba(255,255,255,0)",o.fill(),o.strokeStyle="#fff",o.lineWidth=2,o.stroke()},k=async e=>{const t=new Image;await new Promise((a,l)=>{t.onload=()=>a(),t.onerror=()=>l(new Error("Image load error")),t.src=e}),l.value=t,await(0,o.dY)(),C(),f()},y=(e,t,a)=>("#"+[e,t,a].map(e=>{const t=e.toString(16);return 1===t.length?"0"+t:t}).join("")).toUpperCase();(0,o.xo)(()=>{g&&g()});const C=()=>{const e=s.value;if(!e||!l.value)return;const t=e.getContext("2d");if(!t)return;const a=window.devicePixelRatio||1;e.width=p*a,e.height=m*a,e.style.width=`${p}px`,e.style.height=`${m}px`,t.scale(a,a),t.imageSmoothingEnabled=!0,t.imageSmoothingQuality="high",t.clearRect(0,0,p,m);const o=l.value.naturalWidth,n=l.value.naturalHeight,i=o/n,r=p/m;let c,u;i>r?(c=p*A.value,u=p/i*A.value):(u=m*A.value,c=m*i*A.value);const d=(p-c)/2,g=(m-u)/2;t.save(),t.imageSmoothingEnabled=!0,t.imageSmoothingQuality="high",t.drawImage(l.value,0,0,o,n,d,g,c,u),t.restore()},{resetImage:E,zoomPlus:w,zoomMinus:F,zoom:A}=sa(s,C);return{imgEl:l,currentRgb:r,currentHex:c,selectedHex:u,onFileSelected:h,canvasEl:s,resetImage:E,zoomPlus:w,zoomMinus:F}}});const mr=(0,h.A)(pr,[["render",dr],["__scopeId","data-v-01aa0072"]]);var gr=mr,vr=(0,o.pM)({components:{AppImageColorPicker:gr,AppImageNotUploaded:or,AppColorPicker:Ji},setup(){const e=(0,n.KR)("#D4F880"),t=(0,n.KR)(null),a=(0,n.KR)(!1),l=e=>{if(!e)return;const t=URL.createObjectURL(e);s(t)},s=async e=>{const a=new Image;await new Promise((t,l)=>{a.onload=()=>t(),a.onerror=()=>l(new Error("Image load error")),a.src=e}),t.value=a};return(0,o.sV)(()=>{hl().disable()}),{imgEl:t,selectedHex:e,onFileSelected:l,isHiddenOverflow:a}}});const hr=(0,h.A)(vr,[["render",wi],["__scopeId","data-v-7fe916a5"]]);var fr=hr;const br={class:"container"},kr={class:"header-section"},yr={class:"open-layout"},Cr={class:"sidebar-item"},Er={class:"icon"},wr={key:0,class:"title"},Fr={class:"sidebar-item"},Ar={class:"icon"},Lr={key:0,class:"title"},Ir={class:"sidebar-item"},Sr={class:"icon"},Tr={key:0,class:"title"},Mr={class:"sidebar-item"},Pr={class:"icon"},Br={key:0,class:"title"},Dr={class:"sidebar-item"},Rr={class:"icon"},xr={key:0,class:"title"},_r={class:"sidebar-item"},Wr={class:"icon"},Or={key:0,class:"title"},Vr=["onClick"],Xr={class:"main"};function Kr(e,t,a,l,s,n){const i=(0,o.g2)("app-toggle"),r=(0,o.g2)("app-option"),u=(0,o.g2)("app-dropdown"),d=(0,o.g2)("app-burger-menu"),p=(0,o.g2)("app-header"),m=(0,o.g2)("font-awesome-icon"),g=(0,o.g2)("router-link"),v=(0,o.g2)("app-sidebar"),h=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)("div",br,[(0,o.bF)(p,null,{default:(0,o.k6)(()=>[(0,o.Lk)("section",kr,[t[2]||(t[2]=(0,o.Lk)("img",{src:B,alt:"App Logo",width:"32",height:"32"},null,-1)),(0,o.Lk)("section",null,[(0,o.bF)(i,{modelValue:e.isDark,"onUpdate:modelValue":t[0]||(t[0]=t=>e.isDark=t),variant:"theme",onToggled:e.toggled},null,8,["modelValue","onToggled"]),(0,o.bF)(u,{modelValue:e.language,"onUpdate:modelValue":t[1]||(t[1]=t=>e.language=t),label:"name"},{default:(0,o.k6)(()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.languages,e=>((0,o.uX)(),(0,o.Wv)(r,{key:e,value:e},{default:(0,o.k6)(()=>[(0,o.eW)((0,c.v_)(e),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),e.isMobile?((0,o.uX)(),(0,o.Wv)(d,{key:0})):(0,o.Q3)("",!0)])])]),_:1}),(0,o.Lk)("section",yr,[(0,o.bF)(v,null,{main:(0,o.k6)(({isShort:t})=>[(0,o.bF)(g,{to:"/home","active-class":"active-link"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",Cr,[(0,o.Lk)("div",Er,[(0,o.bF)(m,{size:"xl",icon:["fas","home"]})]),t?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",wr,(0,c.v_)(e.t("home")),1))])]),_:2},1024),(0,o.bF)(g,{to:"/consultation","active-class":"active-link"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",Fr,[(0,o.Lk)("div",Ar,[(0,o.bF)(m,{size:"xl",icon:["fas","user-tie"]})]),t?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",Lr,(0,c.v_)(e.t("consultation")),1))])]),_:2},1024),(0,o.bF)(g,{to:"/FAQ","active-class":"active-link"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",Ir,[(0,o.Lk)("div",Sr,[(0,o.bF)(m,{size:"xl",icon:["fas","question-circle"]})]),t?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",Tr,(0,c.v_)(e.t("FAQ")),1))])]),_:2},1024),(0,o.bF)(g,{to:"/contacts","active-class":"active-link"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",Mr,[(0,o.Lk)("div",Pr,[(0,o.bF)(m,{size:"xl",icon:["fas","contact-card"]})]),t?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",Br,(0,c.v_)(e.t("contacts")),1))])]),_:2},1024),(0,o.bF)(g,{to:"/signIn","active-class":"active-link"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",Dr,[(0,o.Lk)("div",Rr,[(0,o.bF)(m,{size:"xl",icon:["fas","sign-in"]})]),t?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",xr,(0,c.v_)(e.t("login")),1))])]),_:2},1024),(0,o.bF)(g,{to:"/signUp","active-class":"active-link"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",_r,[(0,o.Lk)("div",Wr,[(0,o.bF)(m,{size:"xl",icon:["fas","user-plus"]})]),t?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",Or,(0,c.v_)(e.t("signUp")),1))])]),_:2},1024)]),additional:(0,o.k6)(({isShort:t,toggle:a})=>[e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",{key:0,class:"sidebar-item",onClick:a},[(0,o.bF)(m,{size:"xl",icon:t?["fas","arrow-left"]:["fas","arrow-right"]},null,8,["icon"])],8,Vr))]),_:1}),(0,o.Lk)("main",Xr,[(0,o.bF)(h)])])])}var Ur=(0,o.pM)({components:{AppBurgerMenu:dt,AppSidebar:it,AppOption:Ye,AppDropdown:ze,AppHeader:et,AppToggle:ke},setup(){const{t:e}=(0,r.s9)(),t=(0,i.Pj)(),a=(0,n.KR)(["en","ru"]),l=(0,n.KR)(t.getters["language/language"]),s=(0,n.KR)(t.getters["theme/isDark"]),c=(0,o.EW)(()=>"mobile"===t.getters["mobile/breakPoint"]),u=e=>{t.dispatch("theme/setTheme",e)};return(0,o.wB)(l,e=>{t.dispatch("language/setLanguage",{language:e})}),{toggled:u,isDark:s,language:l,languages:a,isMobile:c,t:e}}});const Gr=(0,h.A)(Ur,[["render",Kr]]);var Qr=Gr;const zr={class:"container"},Nr={class:"wrap-login"},jr={class:"login-form"},Hr={class:"title"},Yr={class:"login-inputs"},qr={class:"input-wrapper"},Jr={key:0,class:"error-message"},Zr={class:"btn-password"},$r={key:0,class:"error-message"},ec={class:"actions-btn"},tc={class:"text-center"},ac={class:"txt1"};function lc(e,t,a,l,s,n){const i=(0,o.g2)("app-image-login"),r=(0,o.g2)("app-input"),u=(0,o.g2)("Field"),d=(0,o.g2)("font-awesome-icon"),p=(0,o.g2)("app-button"),m=(0,o.g2)("VForm"),g=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("section",zr,[(0,o.Lk)("div",Nr,[(0,o.bF)(i),(0,o.Lk)("div",jr,[(0,o.Lk)("h1",Hr,(0,c.v_)(e.t("login")),1),(0,o.bF)(m,{"validation-schema":e.formGroup,onSubmit:e.onSubmit},{default:(0,o.k6)(()=>[(0,o.Lk)("section",Yr,[(0,o.bF)(u,{name:"email"},{default:(0,o.k6)(({field:a,meta:l,errorMessage:s})=>[(0,o.Lk)("div",qr,[(0,o.bF)(r,(0,o.v6)(a,{modelValue:e.email,"onUpdate:modelValue":t[0]||(t[0]=t=>e.email=t),placeholder:"example@gmail.com",label:"email",icon:["fas","envelope"],error:l.touched?s:"",type:"email",onFocus:e.focusInput,onBlur:e.focusOutInput}),null,16,["modelValue","error","onFocus","onBlur"]),l.touched&&s?((0,o.uX)(),(0,o.CE)("div",Jr,(0,c.v_)(e.errorValue(s)),1)):(0,o.Q3)("",!0)])]),_:1}),(0,o.bF)(u,{name:"password"},{default:(0,o.k6)(({field:a,meta:l,errorMessage:s})=>[(0,o.Lk)("div",Zr,[(0,o.bF)(r,(0,o.v6)(a,{modelValue:e.password,"onUpdate:modelValue":t[1]||(t[1]=t=>e.password=t),placeholder:"password",label:"password",type:e.typeInput,icon:["fas","lock"],error:l.touched?s:"",onFocus:e.focusInput,onBlur:e.focusOutInput}),null,16,["modelValue","type","error","onFocus","onBlur"]),(0,o.Lk)("div",{class:"icon-eye",onClick:t[2]||(t[2]=(...t)=>e.toggleEye&&e.toggleEye(...t))},[(0,o.bF)(d,{icon:e.eyeIcon},null,8,["icon"])]),l.touched&&s?((0,o.uX)(),(0,o.CE)("div",$r,(0,c.v_)(e.errorValue(s)),1)):(0,o.Q3)("",!0)])]),_:1})]),(0,o.Lk)("div",ec,[(0,o.bF)(p,{loading:e.loading,type:"submit",title:"login"},null,8,["loading"]),(0,o.bF)(p,{raised:"",severity:"gradient",title:"loginWithGoogle",icon:["fab","google"],loading:e.loadingGoogle,onClick:t[3]||(t[3]=t=>{t.preventDefault(),e.loginWithGoogle()})},null,8,["loading"])])]),_:1},8,["validation-schema","onSubmit"]),(0,o.Lk)("section",null,[(0,o.Lk)("div",tc,[(0,o.Lk)("span",ac,(0,c.v_)(e.t("forgot")),1),(0,o.bF)(g,{class:"txt2",to:{name:"forgot"}},{default:(0,o.k6)(()=>[(0,o.eW)((0,c.v_)(e.t("password"))+"? ",1)]),_:1})])])])])])}var oc=a(482),sc=a.p+"img/rainbow.4cba4dae.png";const nc={ref:"imageRef",src:sc,alt:""};function ic(e,t,a,l,s,n){return(0,o.uX)(),(0,o.CE)("div",{class:"login-pic",onMousemove:t[0]||(t[0]=(...t)=>e.handleMouseMove&&e.handleMouseMove(...t)),onMouseleave:t[1]||(t[1]=(...t)=>e.resetTransform&&e.resetTransform(...t))},[(0,o.Lk)("img",nc,null,512)],32)}var rc=(0,o.pM)({setup(){const e=(0,n.KR)(null),t=t=>{const a=e.value;if(!a)return;const l=a.getBoundingClientRect(),o=t.clientX-l.left,s=t.clientY-l.top,n=l.width/2,i=l.height/2,r=(o-n)/n*10,c=-(s-i)/i*10;a.style.transform=`perspective(300px) rotateX(${c}deg) rotateY(${r}deg)`},a=()=>{e.value&&(e.value.style.transform="perspective(300px) rotateX(0deg) rotateY(0deg)")};return{handleMouseMove:t,resetTransform:a,imageRef:e}}});const cc=(0,h.A)(rc,[["render",ic],["__scopeId","data-v-1065285c"]]);var uc=cc;function dc(e="password"){const t=(0,n.KR)(e),a=(0,o.EW)(()=>"password"===t.value?["fas","eye-slash"]:["fas","eye"]),l=()=>{t.value="password"===t.value?"text":"password"};return{typeInput:t,eyeIcon:a,toggleEye:l}}function pc(){const{t:e}=(0,r.s9)(),t=t=>"object"===typeof t?e(t.key,t.values):e(t);return{errorValue:t}}var mc=(0,o.pM)({components:{AppImageLogin:uc,Field:oc.D0,VForm:oc.lV,AppInput:Pe,AppButton:zt},setup(){const e=(0,P.rd)(),t=(0,i.Pj)(),{t:a}=(0,r.s9)(),l=(0,n.KR)(""),s=(0,n.KR)(""),{typeInput:c,eyeIcon:u,toggleEye:d}=dc(),{errorValue:p}=pc(),m=(0,o.EW)(()=>t.getters["authFirebase/isLoading"]),g=(0,o.EW)(()=>t.getters["authFirebase/isLoadingGoogle"]),v=(0,o.EW)(()=>t.getters["mobile/getDevice"]),h=new Map,f=Qa.Ik({email:Qa.Yj().required("validation.required").email("validation.email"),password:Qa.Yj().required("validation.required").min(6,{key:"validation.min",values:{count:6}})}),b=async a=>{try{await t.dispatch("authFirebase/login",a),await e.push("/main")}catch(l){console.error(l)}},k=()=>{"ios"===v.value&&h.set("focus",!0)},y=()=>{"ios"===v.value&&(h.set("focus",!1),setTimeout(()=>{h.get("focus")||window.scrollTo(0,0)},50))},C=async()=>{try{await t.dispatch("authFirebase/loginWithGoogle"),await e.push("/main")}catch(a){console.error(a)}};return{formGroup:f,onSubmit:b,email:l,password:s,loading:m,t:a,typeInput:c,eyeIcon:u,toggleEye:d,focusInput:k,focusOutInput:y,errorValue:p,loginWithGoogle:C,loadingGoogle:g}}});const gc=(0,h.A)(mc,[["render",lc],["__scopeId","data-v-8e18ffcc"]]);var vc=gc;const hc={class:"container"},fc={class:"wrap-login"},bc={class:"login-form"},kc={class:"title"},yc={class:"login-inputs"},Cc={class:"input-wrapper"},Ec={key:0,class:"error-message"};function wc(e,t,a,l,s,n){const i=(0,o.g2)("app-image-login"),r=(0,o.g2)("app-input"),u=(0,o.g2)("Field"),d=(0,o.g2)("app-button"),p=(0,o.g2)("VForm"),m=(0,o.g2)("font-awesome-icon"),g=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("section",hc,[(0,o.Lk)("div",fc,[(0,o.bF)(i),(0,o.Lk)("div",bc,[(0,o.Lk)("h1",kc,(0,c.v_)(e.t("resetPassword")),1),(0,o.bF)(p,{"validation-schema":e.formGroup,onSubmit:e.onSubmit},{default:(0,o.k6)(()=>[(0,o.Lk)("section",yc,[(0,o.bF)(u,{name:"email"},{default:(0,o.k6)(({field:a,meta:l,errorMessage:s})=>[(0,o.Lk)("div",Cc,[(0,o.bF)(r,(0,o.v6)(a,{modelValue:e.email,"onUpdate:modelValue":t[0]||(t[0]=t=>e.email=t),placeholder:"example@gmail.com",label:"email",icon:["fas","envelope"],error:l.touched?s:"",type:"email",onBlur:e.focusOutInput}),null,16,["modelValue","error","onBlur"]),l.touched&&s?((0,o.uX)(),(0,o.CE)("div",Ec,(0,c.v_)(e.errorValue(s)),1)):(0,o.Q3)("",!0)])]),_:1})]),(0,o.bF)(d,{loading:e.loading,type:"submit",title:"send"},null,8,["loading"])]),_:1},8,["validation-schema","onSubmit"]),(0,o.Lk)("section",null,[(0,o.bF)(g,{class:"txt2",to:{name:"signIn"}},{default:(0,o.k6)(()=>[(0,o.bF)(m,{size:"sm",icon:["fas","arrow-left"]}),(0,o.eW)(" "+(0,c.v_)(e.t("goBack")),1)]),_:1})])])])])}var Fc=(0,o.pM)({components:{AppImageLogin:uc,Field:oc.D0,VForm:oc.lV,AppInput:Pe,AppButton:zt},setup(){const e=(0,i.Pj)(),{t:t}=(0,r.s9)(),a=(0,n.KR)(""),l=(0,n.KR)(""),{typeInput:s,eyeIcon:c,toggleEye:u}=dc(),{errorValue:d}=pc(),p=(0,o.EW)(()=>e.getters["authFirebase/isLoading"]),m=(0,o.EW)(()=>e.getters["mobile/getDevice"]),g=Qa.Ik({email:Qa.Yj().required("validation.required").email("validation.email")}),v=async t=>{try{await e.dispatch("authFirebase/resetPassword",t.email)}catch(a){console.error(a)}},h=()=>{"ios"===m.value&&setTimeout(()=>{window.scrollTo(0,0)},50)};return{formGroup:g,onSubmit:v,email:a,password:l,loading:p,t:t,typeInput:s,eyeIcon:c,toggleEye:u,focusOutInput:h,errorValue:d}}});const Ac=(0,h.A)(Fc,[["render",wc],["__scopeId","data-v-594d4fce"]]);var Lc=Ac,Ic=a.p+"img/rainbow-bg.1e8096b9.png",Sc=a(231),Tc=a(6590),Mc=a(651);const Pc={class:"home-container"},Bc={class:"welcome-section"},Dc={class:"welcome-text"},Rc={class:"welcomeSubText"},xc={class:"section-wrapper"},_c={class:"who-for-section"},Wc={class:"section-title fade-in-down"},Oc={class:"section-subtitle fade-in-down"},Vc={class:"section-subtitle fade-in-down"},Xc={class:"who-for-list"},Kc={class:"fade-in-left delay-1"},Uc={class:"fade-in-left delay-2"},Gc={class:"fade-in-left delay-3"},Qc={class:"fade-in-left delay-4"},zc={class:"btn fade-in-up"},Nc={class:"who-for-section"},jc={class:"section-title"},Hc={class:"section-subtitle"},Yc={class:"frames-carousel"},qc={class:"frame-card"},Jc=["src"],Zc={class:"palette-explore"},$c={class:"palette-explore-section"},eu={class:"section-title fade-in-down"},tu={class:"section-subtitle"},au={class:"who-for-list"},lu={class:"fade-in-left delay-1"},ou={class:"fade-in-left delay-2"},su={class:"fade-in-left delay-3"},nu={class:"palettes"},iu={class:"frames-carousel"},ru={class:"frame-card"},cu=["src"],uu={class:"picker"},du={class:"section-wrapper"},pu={class:"who-for-section"},mu={class:"section-title fade-in-down"},gu={class:"who-for-list"},vu={class:"fade-in-left delay-1"},hu={class:"fade-in-left delay-2"},fu={class:"fade-in-left delay-3"},bu={class:"video-section"},ku=["src"],yu={class:"who-for-section"},Cu={class:"section-title"},Eu={class:"section-subtitle"},wu={class:"gallery-cards"},Fu={class:"gallery-card fade-in-left delay-1"},Au={class:"icon"},Lu={class:"gallery-card fade-in-left delay-2"},Iu={class:"icon"},Su={class:"gallery-card fade-in-left delay-3"},Tu={class:"icon"},Mu={class:"btn fade-in-up"};function Pu(e,t,a,l,s,n){const i=(0,o.g2)("router-link"),r=(0,o.g2)("app-button"),u=(0,o.g2)("app-palette"),d=(0,o.g2)("app-color-picker"),p=(0,o.g2)("font-awesome-icon");return(0,o.uX)(),(0,o.CE)("div",Pc,[(0,o.Lk)("div",Bc,[t[0]||(t[0]=(0,o.Lk)("img",{src:Ic,alt:"Background photo",class:"background-photo"},null,-1)),(0,o.Lk)("div",Dc,[(0,o.Lk)("h1",null,(0,c.v_)(e.t("welcomeText")),1),(0,o.Lk)("p",Rc,(0,c.v_)(e.t("welcomeSubText")),1)])]),(0,o.Lk)("div",xc,[(0,o.Lk)("section",_c,[(0,o.Lk)("h2",Wc,"👥 "+(0,c.v_)(e.t("whoIsThisAppFor")),1),(0,o.Lk)("p",Oc,(0,c.v_)(e.t("discoverColorText")),1),(0,o.Lk)("p",Vc,[(0,o.eW)((0,c.v_)(e.t("canInstall"))+" ",1),t[1]||(t[1]=(0,o.Lk)("strong",null,"Progressive Web App (PWA)",-1)),(0,o.eW)(". "+(0,c.v_)(e.t("detailInstructions"))+" ",1),(0,o.bF)(i,{class:"txt2",to:{name:"FAQ"}},{default:(0,o.k6)(()=>[(0,o.eW)((0,c.v_)(e.t("FAQ")),1)]),_:1})]),(0,o.Lk)("ul",Xc,[(0,o.Lk)("li",Kc,[t[2]||(t[2]=(0,o.Lk)("span",{class:"marker gradient-1"},null,-1)),(0,o.eW)(" "+(0,c.v_)(e.t("individualReadyText")),1)]),(0,o.Lk)("li",Uc,[t[3]||(t[3]=(0,o.Lk)("span",{class:"marker gradient-2"},null,-1)),(0,o.eW)(" "+(0,c.v_)(e.t("fashionLoversText")),1)]),(0,o.Lk)("li",Gc,[t[4]||(t[4]=(0,o.Lk)("span",{class:"marker gradient-3"},null,-1)),(0,o.eW)(" "+(0,c.v_)(e.t("designersCravingText")),1)]),(0,o.Lk)("li",Qc,[t[5]||(t[5]=(0,o.Lk)("span",{class:"marker gradient-4"},null,-1)),(0,o.eW)(" "+(0,c.v_)(e.t("curiosMindText")),1)])]),(0,o.Lk)("div",zc,[(0,o.bF)(r,{severity:"gradient",gradient:"",title:"getStarted",onClick:e.getStarted},null,8,["onClick"])])]),(0,o.Lk)("section",Nc,[(0,o.Lk)("h2",jc,"📸 "+(0,c.v_)(e.t("masks")),1),(0,o.Lk)("p",Hc,(0,c.v_)(e.t("capturePhotoText")),1),(0,o.Lk)("div",Yc,[(0,o.Lk)("div",qc,[(0,o.Lk)("img",{src:e.src,alt:"Background photo",class:"img-carousel"},null,8,Jc)])])])]),(0,o.Lk)("div",Zc,[(0,o.Lk)("section",$c,[(0,o.Lk)("h2",eu,"🌈 "+(0,c.v_)(e.t("paletteExplorerText")),1),(0,o.Lk)("p",tu,(0,c.v_)(e.t("paletteExplorerSubText")),1),(0,o.Lk)("ul",au,[(0,o.Lk)("li",lu,[t[6]||(t[6]=(0,o.Lk)("span",{class:"marker gradient-1"},null,-1)),(0,o.eW)(" "+(0,c.v_)(e.t("selectAnyColorsText")),1)]),(0,o.Lk)("li",ou,[t[7]||(t[7]=(0,o.Lk)("span",{class:"marker gradient-2"},null,-1)),(0,o.eW)(" "+(0,c.v_)(e.t("optionalColorChromaText")),1)]),(0,o.Lk)("li",su,[t[8]||(t[8]=(0,o.Lk)("span",{class:"marker gradient-3"},null,-1)),(0,o.eW)(" "+(0,c.v_)(e.t("buildPaletteText")),1)])]),(0,o.Lk)("div",nu,[(0,o.Lk)("div",iu,[(0,o.Lk)("div",ru,[(0,o.Lk)("img",{src:e.srcPalette,alt:"Background photo",class:"img-carousel"},null,8,cu)])]),(0,o.bF)(u,{item:e.palette},null,8,["item"])])]),(0,o.Lk)("div",uu,[(0,o.bF)(d,{"hex-p":e.selectedHex},null,8,["hex-p"])])]),(0,o.Lk)("div",du,[(0,o.Lk)("section",pu,[(0,o.Lk)("h2",mu,"🤖 "+(0,c.v_)(e.t("aiAgent")),1),(0,o.Lk)("ul",gu,[(0,o.Lk)("li",vu,[t[9]||(t[9]=(0,o.Lk)("span",{class:"marker gradient-1"},null,-1)),(0,o.eW)(" "+(0,c.v_)(e.t("askQuestionAiText")),1)]),(0,o.Lk)("li",hu,[t[10]||(t[10]=(0,o.Lk)("span",{class:"marker gradient-2"},null,-1)),(0,o.eW)(" "+(0,c.v_)(e.t("learnPreferColorText")),1)]),(0,o.Lk)("li",fu,[t[11]||(t[11]=(0,o.Lk)("span",{class:"marker gradient-3"},null,-1)),(0,o.eW)(" "+(0,c.v_)(e.t("afterAllText")),1)])]),(0,o.Lk)("section",bu,[(0,o.Lk)("video",{class:"video-bg",autoplay:"",muted:"",loop:"",playsinline:"",src:e.srcVideo}," Your browser does not support the video tag. ",8,ku)])]),(0,o.Lk)("section",yu,[(0,o.Lk)("h2",Cu,"🖼️ "+(0,c.v_)(e.t("yourGallery")),1),(0,o.Lk)("p",Eu,(0,c.v_)(e.t("organizeGalleryText")),1),(0,o.Lk)("div",wu,[(0,o.Lk)("div",Fu,[(0,o.Lk)("div",Au,[(0,o.bF)(p,{size:"lg",icon:["fas","folder"]})]),(0,o.Lk)("span",null,(0,c.v_)(e.t("allYourPhotoText")),1)]),(0,o.Lk)("div",Lu,[(0,o.Lk)("div",Iu,[(0,o.bF)(p,{size:"lg",icon:["fas","search"]})]),(0,o.Lk)("span",null,(0,c.v_)(e.t("searchGalleryText")),1)]),(0,o.Lk)("div",Su,[(0,o.Lk)("div",Tu,[(0,o.bF)(p,{size:"lg",icon:["fas","lock"]})]),(0,o.Lk)("span",null,(0,c.v_)(e.t("storedText")),1)])]),t[12]||(t[12]=(0,o.Fv)('<div class="gallery-preview" data-v-75aa9e4c><img src="'+Sc+'" alt="Preview 1" data-v-75aa9e4c><img src="'+Tc+'" alt="Preview 2" data-v-75aa9e4c><img src="'+Mc+'" alt="Preview 3" data-v-75aa9e4c><img src="'+Sc+'" alt="Preview 1" data-v-75aa9e4c><img src="'+Tc+'" alt="Preview 2" data-v-75aa9e4c><img src="'+Mc+'" alt="Preview 3" data-v-75aa9e4c><img src="'+Sc+'" alt="Preview 1" data-v-75aa9e4c><img src="'+Tc+'" alt="Preview 2" data-v-75aa9e4c><img src="'+Mc+'" alt="Preview 3" data-v-75aa9e4c><img src="'+Sc+'" alt="Preview 1" data-v-75aa9e4c><img src="'+Tc+'" alt="Preview 2" data-v-75aa9e4c><img src="'+Mc+'" alt="Preview 3" data-v-75aa9e4c></div>',1)),(0,o.Lk)("div",Mu,[(0,o.bF)(r,{severity:"gradient",gradient:"",title:"getStarted",onClick:e.getStarted},null,8,["onClick"])])])])])}const Bu={class:"palette"},Du={key:1,class:"my-color"};function Ru(e,t,a,l,s,n){const i=(0,o.g2)("app-palette-item");return(0,o.uX)(),(0,o.CE)("div",Bu,[(0,o.Lk)("div",{class:"palette-left",style:(0,c.Tr)({gap:e.gap,width:e.width})},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.item.segments.slice(0,35),a=>((0,o.uX)(),(0,o.Wv)(i,{key:a,color:a.color,"selected-mode":e.selectedMode,"selected-colors":e.selectedColors,onSelectedColor:t[0]||(t[0]=t=>e.selectedColor(t))},null,8,["color","selected-mode","selected-colors"]))),128))],4),e.item.segments.slice(35,65).length>0?((0,o.uX)(),(0,o.CE)("div",{key:0,class:"palette-right",style:(0,c.Tr)({gap:e.gap,width:e.width})},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.item.segments.slice(35,65),a=>((0,o.uX)(),(0,o.Wv)(i,{key:a,color:a.color,"selected-mode":e.selectedMode,"selected-colors":e.selectedColors,onSelectedColor:t[1]||(t[1]=t=>e.selectedColor(t))},null,8,["color","selected-mode","selected-colors"]))),128))],4)):(0,o.Q3)("",!0),e.paletteCards.length?((0,o.uX)(),(0,o.CE)("div",Du,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.paletteCards,e=>((0,o.uX)(),(0,o.Wv)(i,{key:e,color:e.color},null,8,["color"]))),128))])):(0,o.Q3)("",!0)])}function xu(e,t,a,l,s,n){const i=(0,o.g2)("font-awesome-icon");return(0,o.uX)(),(0,o.CE)("div",{class:(0,c.C4)(["palette-item",{selected:e.selected}]),style:(0,c.Tr)({backgroundColor:e.color}),onClick:t[0]||(t[0]=t=>e.selectedColor(e.color))},[e.selected?((0,o.uX)(),(0,o.Wv)(i,{key:0,class:"check-icon",icon:["fas","check"],style:(0,c.Tr)({color:e.checkIconColor})},null,8,["style"])):(0,o.Q3)("",!0)],6)}var _u=a(292);const Wu=(0,o.pM)({components:{FontAwesomeIcon:_u.gc},props:{color:{type:String,default:""},selectedMode:{type:Boolean,default:!1},selectedColors:{type:Set,default:()=>new Set}},emits:["selectedColor"],setup(e,{emit:t}){const a=(0,n.KR)(!1),l=(0,o.EW)(()=>Array.from(e.selectedColors||[])),s=(0,o.EW)(()=>{if(!e.color)return!0;try{let t,a,l;if(e.color.startsWith("#")){const o=e.color.substring(1);if(3===o.length)t=parseInt(o[0]+o[0],16),a=parseInt(o[1]+o[1],16),l=parseInt(o[2]+o[2],16);else{if(6!==o.length)return!0;t=parseInt(o.substr(0,2),16),a=parseInt(o.substr(2,2),16),l=parseInt(o.substr(4,2),16)}}else{if(!e.color.startsWith("rgb"))return!["white","#fff","#ffffff","rgb(255,255,255)","rgba(255,255,255"].some(t=>e.color.toLowerCase().includes(t.toLowerCase()));{const o=e.color.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)/);if(!o)return!0;t=parseInt(o[1],10),a=parseInt(o[2],10),l=parseInt(o[3],10)}}const o=(299*t+587*a+114*l)/1e3;return o<128}catch(t){return console.warn("Error calculating color brightness:",t),!0}}),i=(0,o.EW)(()=>s.value?"#ffffff":"#000000"),r=(0,o.EW)(()=>s.value?"0 1px 2px rgba(0, 0, 0, 0.7)":"0 1px 2px rgba(255, 255, 255, 0.7)"),c=()=>{e.selectedMode&&(a.value=!a.value)},u=e=>{c(),t("selectedColor",{color:e,selected:a.value})};return(0,o.wB)(l,t=>{e.selectedMode&&(a.value=t.includes(e.color))},{immediate:!0}),{selected:a,checkIconColor:i,checkIconShadow:r,selectedColor:u}}}),Ou=()=>{(0,l.$9)(e=>({"437b222b":e.checkIconShadow}))},Vu=Wu.setup;Wu.setup=Vu?(e,t)=>(Ou(),Vu(e,t)):Ou;var Xu=Wu;const Ku=(0,h.A)(Xu,[["render",xu],["__scopeId","data-v-39a8f6d7"]]);var Uu=Ku,Gu=(0,o.pM)({components:{AppPaletteItem:Uu},props:{paletteCards:{type:Array,default:()=>[]},item:{type:Object,required:!0},gap:{type:String,default:"2px"},width:{type:String,default:"160px"},selectedMode:{type:Boolean,default:!1},selectedColors:{type:Set,default:()=>new Set}},emits:["selectedColor"],setup(e,{emit:t}){const a=e=>{t("selectedColor",e)};return{selectedColor:a}}});const Qu=(0,h.A)(Gu,[["render",Ru],["__scopeId","data-v-4542eb9a"]]);var zu=Qu,Nu=(0,o.pM)({components:{AppButton:zt,AppPalette:zu,AppColorPicker:Ji},setup(){const e=(0,i.Pj)(),{t:t}=(0,r.s9)(),l=new Array(7),s=(0,P.rd)(),c=new Array(12),u=(0,n.KR)(0),d=(0,n.KR)(0),p=(0,o.EW)(()=>e.getters["theme/theme"]),m=(0,o.EW)(()=>e.getters["language/language"]);let g;const v=Object.entries(Yn).map(([e,t])=>({segments:t.map(e=>({color:e}))})),h=(0,o.EW)(()=>a(4156)(`./buba-${u.value}.png`)),f=(0,o.EW)(()=>a(7693)(`./ai-${p.value}-${m.value}.mp4`)),b=(0,o.EW)(()=>a(5306)(`./buba-c-${d.value}.png`)),k=(0,o.EW)(()=>v[d.value]);(0,o.sV)(()=>{g=setInterval(()=>{u.value=(u.value+1)%l.length,d.value=(d.value+1)%c.length},3e3)}),(0,o.hi)(()=>{clearInterval(g)});const y=async()=>{await s.push("/signUp")};return{frames:l,currentIndex:u,src:h,srcPalette:b,palette:k,t:t,getStarted:y,srcVideo:f}}});const ju=(0,h.A)(Nu,[["render",Pu],["__scopeId","data-v-75aa9e4c"]]);var Hu=ju;const Yu={class:"container"},qu={class:"wrap-signUp"},Ju={class:"signUp-form"},Zu={class:"title"},$u={class:"signUp-inputs"},ed={class:"input-wrapper"},td={key:0,class:"error-message"},ad={class:"btn-password"},ld={key:0,class:"error-message"},od={class:"btn-password"},sd={key:0,class:"error-message"},nd={key:0,id:"recaptcha-container",class:"recaptcha-container"},id={class:"actions-btn"};function rd(e,t,a,l,s,n){const i=(0,o.g2)("app-image-login"),r=(0,o.g2)("app-input"),u=(0,o.g2)("Field"),d=(0,o.g2)("font-awesome-icon"),p=(0,o.g2)("app-button"),m=(0,o.g2)("VForm");return(0,o.uX)(),(0,o.CE)("section",Yu,[(0,o.Lk)("div",qu,[(0,o.bF)(i),(0,o.Lk)("div",Ju,[(0,o.Lk)("h1",Zu,(0,c.v_)(e.t("signUp")),1),(0,o.bF)(m,{"validation-schema":e.formGroup,onSubmit:e.onSubmit},{default:(0,o.k6)(({meta:a})=>[(0,o.Lk)("section",$u,[(0,o.bF)(u,{name:"email"},{default:(0,o.k6)(({field:a,meta:l,errorMessage:s})=>[(0,o.Lk)("div",ed,[(0,o.bF)(r,(0,o.v6)(a,{modelValue:e.email,"onUpdate:modelValue":t[0]||(t[0]=t=>e.email=t),placeholder:"example@gmail.com",label:"email",icon:["fas","envelope"],error:l.touched?s:"",type:"email",onFocus:e.focusInput,onBlur:e.focusOutInput}),null,16,["modelValue","error","onFocus","onBlur"]),l.touched&&s?((0,o.uX)(),(0,o.CE)("div",td,(0,c.v_)(e.errorValue(s)),1)):(0,o.Q3)("",!0)])]),_:1}),(0,o.bF)(u,{name:"password"},{default:(0,o.k6)(({field:a,meta:l,errorMessage:s})=>[(0,o.Lk)("div",ad,[(0,o.bF)(r,(0,o.v6)(a,{modelValue:e.password,"onUpdate:modelValue":t[1]||(t[1]=t=>e.password=t),placeholder:"password",label:"password",type:e.typeInput,icon:["fas","lock"],error:l.touched?s:"",onFocus:e.focusInput,onBlur:e.focusOutInput}),null,16,["modelValue","type","error","onFocus","onBlur"]),(0,o.Lk)("div",{class:"icon-eye",onClick:t[2]||(t[2]=(...t)=>e.toggleEye&&e.toggleEye(...t))},[(0,o.bF)(d,{icon:e.eyeIcon},null,8,["icon"])]),l.touched&&s?((0,o.uX)(),(0,o.CE)("div",ld,(0,c.v_)(e.errorValue(s)),1)):(0,o.Q3)("",!0)])]),_:1}),(0,o.bF)(u,{name:"confirmPassword"},{default:(0,o.k6)(({field:a,meta:l,errorMessage:s})=>[(0,o.Lk)("div",od,[(0,o.bF)(r,(0,o.v6)(a,{modelValue:e.confirmPassword,"onUpdate:modelValue":t[3]||(t[3]=t=>e.confirmPassword=t),placeholder:"password",label:"confirmPassword",type:e.typeInput,icon:["fas","lock"],error:l.touched?s:"",onFocus:e.focusInput,onBlur:e.focusOutInput}),null,16,["modelValue","type","error","onFocus","onBlur"]),(0,o.Lk)("div",{class:"icon-eye",onClick:t[4]||(t[4]=(...t)=>e.toggleEye&&e.toggleEye(...t))},[(0,o.bF)(d,{icon:e.eyeIcon},null,8,["icon"])]),l.touched&&s?((0,o.uX)(),(0,o.CE)("div",sd,(0,c.v_)(e.errorValue(s)),1)):(0,o.Q3)("",!0)])]),_:1}),e.showRecaptcha?((0,o.uX)(),(0,o.CE)("div",nd)):(0,o.Q3)("",!0)]),(0,o.Lk)("div",id,[(0,o.bF)(p,{loading:e.loading,type:"submit",title:"signUp",disabled:!a.valid||!a.dirty||!e.isRecaptchaReady},null,8,["loading","disabled"])])]),_:1},8,["validation-schema","onSubmit"]),(0,o.bF)(p,{raised:"",severity:"gradient",title:"loginWithGoogle",icon:["fab","google"],loading:e.loadingGoogle,onClick:t[5]||(t[5]=t=>{t.preventDefault(),e.loginWithGoogle()})},null,8,["loading"])])])])}var cd=(0,o.pM)({components:{AppImageLogin:uc,Field:oc.D0,VForm:oc.lV,AppInput:Pe,AppButton:zt},setup(){const{t:e}=(0,r.s9)(),t=(0,P.rd)(),a=(0,i.Pj)(),l=(0,n.KR)(""),s=(0,n.KR)(""),c=(0,n.KR)(""),{typeInput:u,eyeIcon:d,toggleEye:p}=dc(),{errorValue:m}=pc(),g=new Map,v=(0,n.KR)(!0),h=(0,n.KR)(!1),f=(0,n.KR)(null),b=(0,o.EW)(()=>a.getters["authFirebase/isLoading"]),k=(0,o.EW)(()=>a.getters["authFirebase/isLoadingGoogle"]),y=(0,o.EW)(()=>a.getters["mobile/getDevice"]),C=Qa.Ik({email:Qa.Yj().required("validation.required").email("validation.email"),password:Qa.Yj().required("validation.required").min(6,{key:"validation.min",values:{count:6}}),confirmPassword:Qa.Yj().required("validation.required").oneOf([Qa.KR("password")],"validation.passwordsMatch")}),E=()=>{try{const e=(0,Yt.xI)();f.value&&f.value.clear(),f.value=new Yt.kT(e,"recaptcha-container",{size:"normal",callback:()=>{h.value=!0},"expired-callback":()=>{h.value=!1,a.dispatch("toast/addToast",{message:"reCAPTCHAHasExpired",severity:"warning"}),w()},"error-callback":e=>{console.error("reCAPTCHA ошибка:",e),a.dispatch("toast/addToast",{message:"reCAPTCHAInitializationError",severity:"error"}),h.value=!1}}),f.value.render().then(()=>{})}catch(e){console.error("Ошибка инициализации reCAPTCHA:",e),a.dispatch("toast/addToast",{message:"reCAPTCHAInitializationError",severity:"error"})}},w=()=>{f.value&&(f.value.clear(),h.value=!1,setTimeout(()=>{E()},500))},F=async e=>{try{await a.dispatch("authFirebase/register",{email:e.email,password:e.password,role:"USER"}),window.ym&&window.ym(106223859,"reachGoal","success-registration"),await t.push("/main")}catch(l){console.error(l),w()}},A=()=>{"ios"===y.value&&(hl().enable(),g.set("focus",!0))},L=()=>{"ios"===y.value&&(g.set("focus",!1),setTimeout(()=>{g.get("focus")||(hl().disable(),setTimeout(()=>window.scrollTo(0,0),50))},100))},I=async()=>{try{await a.dispatch("authFirebase/loginWithGoogle"),await t.push("/main")}catch(e){console.error(e),w()}};return(0,o.sV)(async()=>{await(0,o.dY)(),E()}),(0,o.hi)(()=>{f.value&&f.value.clear()}),{formGroup:C,onSubmit:F,email:l,password:s,loading:b,t:e,confirmPassword:c,toggleEye:p,typeInput:u,eyeIcon:d,focusInput:A,focusOutInput:L,errorValue:m,loginWithGoogle:I,loadingGoogle:k,showRecaptcha:v,isRecaptchaReady:h}}});const ud=(0,h.A)(cd,[["render",rd],["__scopeId","data-v-420bf36a"]]);var dd=ud;const pd={ref:"containerRef",class:"ai-container"},md={class:"ai-answers"},gd={key:0,class:"ai-answers-area"},vd={class:"ai-answers-area"},hd={key:0,class:"answer-item-wrapper"},fd={class:"image"},bd=["src"],kd={key:1,class:"answer-item-wrapper"},yd={class:"answer-item"},Cd={key:2,class:"asked-item-wrapper"},Ed=["innerHTML"],wd={class:"ai-ask"},Fd={class:"ai-ask-area"};function Ad(e,t,a,l,s,n){const i=(0,o.g2)("app-textarea");return(0,o.uX)(),(0,o.CE)("div",pd,[(0,o.Lk)("section",md,[0===e.answers.length?((0,o.uX)(),(0,o.CE)("div",gd,[(0,o.Lk)("h2",null,(0,c.v_)(e.t("greedyAI")),1)])):(0,o.Q3)("",!0),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.answers,e=>((0,o.uX)(),(0,o.CE)("section",{key:e.id},[(0,o.Lk)("div",vd,[e.url?((0,o.uX)(),(0,o.CE)("div",hd,[(0,o.Lk)("div",fd,[(0,o.Lk)("img",{src:e.url,alt:"image"},null,8,bd)])])):(0,o.Q3)("",!0),e.ask?((0,o.uX)(),(0,o.CE)("div",kd,[(0,o.Lk)("div",yd,(0,c.v_)(e.ask),1)])):(0,o.Q3)("",!0),e.answerHtml?((0,o.uX)(),(0,o.CE)("div",Cd,[(0,o.Lk)("div",{innerHTML:e.answerHtml},null,8,Ed)])):(0,o.Q3)("",!0)])]))),128))]),(0,o.Lk)("section",wd,[(0,o.Lk)("div",Fd,[(0,o.bF)(i,{loader:e.loader,onApply:e.apply,onFocus:e.focusInput,onBlur:e.focusOutInput},null,8,["loader","onApply","onFocus","onBlur"])])])],512)}const Ld={class:"textarea-wrapper"},Id={key:0,class:"image"},Sd=["src"],Td=["placeholder"],Md={class:"area-actions"},Pd={class:"btn"};function Bd(e,t,a,s,n,i){const r=(0,o.g2)("font-awesome-icon"),u=(0,o.g2)("app-file-uploader"),d=(0,o.g2)("app-button");return(0,o.uX)(),(0,o.CE)("div",Ld,[(0,o.Lk)("section",{class:(0,c.C4)(["area-image",{fly:e.urlRef}])},[e.urlRef?((0,o.uX)(),(0,o.CE)("div",Id,[(0,o.Lk)("img",{src:e.urlRef,alt:"image"},null,8,Sd),(0,o.Lk)("div",{class:"icon",onClick:t[0]||(t[0]=(...t)=>e.clearImage&&e.clearImage(...t))},[(0,o.bF)(r,{size:"sm",icon:["fas","fa-times"]})])])):(0,o.Q3)("",!0)],2),(0,o.bo)((0,o.Lk)("textarea",{id:"textarea","onUpdate:modelValue":t[1]||(t[1]=t=>e.textareaRef=t),placeholder:e.t("writeSomething"),class:"textarea__field",onBlur:t[2]||(t[2]=(...t)=>e.handleBlur&&e.handleBlur(...t)),onFocus:t[3]||(t[3]=(...t)=>e.focus&&e.focus(...t))},null,40,Td),[[l.Jo,e.textareaRef]]),t[4]||(t[4]=(0,o.Lk)("span",{class:"focus-input100"},null,-1)),(0,o.Lk)("section",Md,[(0,o.bF)(u,{"is-show-sign":!1,"is-title":!1,onSelect:e.onFileSelected},null,8,["onSelect"]),(0,o.Lk)("div",Pd,[(0,o.bF)(d,{severity:"secondary",icon:["fas","arrow-up"],raised:"",loading:e.loader,onClick:e.apply},null,8,["loading","onClick"])])])])}var Dd=(0,o.pM)({components:{AppFileUploader:Zl,AppButton:zt},props:{label:{type:String,default:""},loader:{type:Boolean,default:!1}},emits:["apply","focus","blur"],setup(e,{emit:t}){const{t:a}=(0,r.s9)(),l=(0,n.KR)(""),s=(0,n.KR)("");let i="";const c=async e=>{e&&(s.value=URL.createObjectURL(e),await u(e))},u=e=>new Promise((t,a)=>{const l=new FileReader;l.onload=()=>{const e=l.result;i=e.split(",")[1]},l.onerror=a,l.readAsDataURL(e)}),d=()=>{s.value=""},p=()=>{t("apply",{text:l.value,url:s.value,base64Data:i}),l.value="",s.value=""};(0,o.xo)(()=>{s.value&&URL.revokeObjectURL(s.value)});const m=()=>{t("focus")},g=()=>{t("blur")};return{textareaRef:l,onFileSelected:c,urlRef:s,clearImage:d,apply:p,t:a,focus:m,handleBlur:g}}});const Rd=(0,h.A)(Dd,[["render",Bd],["__scopeId","data-v-cc2b536a"]]);var xd=Rd,_d=a(357),Wd=(0,o.pM)({components:{AppTextarea:xd},setup(){const e=(0,i.Pj)(),t=(0,n.KR)(null),a=(0,o.EW)(()=>e.getters["language/language"]),l=(0,n.KR)([]),s=(0,Jt.oc)(oa,{model:"gemini-2.5-flash-lite"}),c=(0,n.KR)(!1),{t:u}=(0,r.s9)(),d=(0,o.EW)(()=>e.getters["mobile/getDevice"]),p=(0,o.EW)(()=>"mobile"===e.getters["mobile/breakPoint"]),m=(0,n.KR)(!1),g=async e=>{c.value=!0;const n=Math.random();l.value=[...l.value,{id:n,ask:e.text,url:e.url,answerHtml:null}],await(0,o.dY)(),t.value&&(t.value.scrollTop=t.value.scrollHeight);const i="en"===a.value?`${e.text}. Answer in English`:`${e.text}. Ответь на русском`,r=e.base64Data?[i,{inlineData:{mimeType:"image/jpeg",data:e.base64Data}}]:[i],u=await s.generateContent(r),d=u.response.text(),p=_d.xI.parse(d),m=l.value.findIndex(e=>e.id===n);-1!==m&&(l.value[m]={...l.value[m],answerHtml:p}),await(0,o.dY)(),t.value&&(t.value.scrollTop=t.value.scrollTop+70),c.value=!1},v=()=>{"ios"===d.value&&(hl().enable(),m.value=!0)},h=()=>{"ios"===d.value&&setTimeout(()=>{hl().disable(),window.scrollTo(0,0),m.value=!1},50)},f=(0,o.EW)(()=>"ios"===d.value&&p.value&&m.value?"0 20px 0 20px":"ios"===d.value&&p.value&&!m.value?"0 20px 50px 20px":"");return{apply:g,answers:l,containerRef:t,loader:c,t:u,focusInput:v,focusOutInput:h,device:d,isMobile:p,paddingAreaIos:f}}});const Od=(0,h.A)(Wd,[["render",Ad],["__scopeId","data-v-0f17059a"]]);var Vd=Od;const Xd={class:"chroma-container"},Kd={class:"photo-picker"},Ud={class:"palette-fill"},Gd={class:"reminder"},Qd={class:"preview-row"},zd={class:"btn-wrap"},Nd={class:"btn"};function jd(e,t,a,l,s,n){const i=(0,o.g2)("app-image-not-uploaded"),r=(0,o.g2)("app-image-color-picker"),u=(0,o.g2)("font-awesome-icon"),d=(0,o.g2)("app-palette-fill-card"),p=(0,o.g2)("app-button");return(0,o.uX)(),(0,o.CE)("div",Xd,[(0,o.Lk)("div",{class:(0,c.C4)(["chroma-wrapper",{hiddenOverflow:e.isHiddenOverflow}])},[(0,o.Lk)("div",Kd,[e.imgEl?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(i,{key:0,onOnFileSelected:e.onFileSelected},null,8,["onOnFileSelected"])),e.imgEl?((0,o.uX)(),(0,o.Wv)(r,{key:1,ref:"imageColorPickerRef","image-element":e.imgEl,"is-show-section-info":!1,onSelectedHex:e.onSelectedHex,onIsHiddenOverflow:t[0]||(t[0]=t=>e.isHiddenOverflow=t),onImageUrlChanged:e.imageUrlChange},null,8,["image-element","onSelectedHex","onImageUrlChanged"])):(0,o.Q3)("",!0)]),(0,o.Lk)("div",Ud,[(0,o.Lk)("span",Gd,[(0,o.bF)(u,{size:"xl",icon:["fas","exclamation-triangle"]}),(0,o.eW)(" "+(0,c.v_)(e.t("reminderPickColor")),1)]),(0,o.Lk)("div",Qd,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.paletteCards,t=>((0,o.uX)(),(0,o.Wv)(d,{key:t.id,"selected-hex":t,"is-selected":e.selectedCard?.id===t?.id,onSelected:e.onSelectedCard},null,8,["selected-hex","is-selected","onSelected"]))),128))]),(0,o.Lk)("div",zd,[(0,o.Lk)("div",Nd,[(0,o.bF)(p,{title:"define",onClick:e.range},null,8,["onClick"])])])])],2)])}a(6573),a(8100),a(7936),a(8237),a(9577),a(1549),a(9797),a(9631),a(5623);function Hd(e,t,a,l,s,n){return(0,o.uX)(),(0,o.CE)("div",{class:(0,c.C4)([{cardSelected:e.isSelected},"preview"]),style:(0,c.Tr)({background:e.selectedHex.color}),"aria-hidden":"true",onClick:t[0]||(t[0]=(...t)=>e.selected&&e.selected(...t))},null,6)}var Yd=(0,o.pM)({props:{selectedHex:{type:Object,required:!0},isSelected:{type:Boolean,default:!1}},emits:["selected"],setup(e,{emit:t}){const a=()=>{t("selected",e.selectedHex)};return{selected:a}}});const qd=(0,h.A)(Yd,[["render",Hd],["__scopeId","data-v-b3ad5660"]]);var Jd=qd;const Zd={ref:"modalRef",class:"modal-content neon"},$d={class:"wrapper"},ep={class:"canvas-item"},tp={class:"rating"},ap={class:"palette-wrap"},lp={class:"buttons"},op={key:0,class:"see-more"};function sp(e,t,a,l,s,n){const i=(0,o.g2)("app-modal-header"),r=(0,o.g2)("app-editor-canvas"),u=(0,o.g2)("app-palette"),d=(0,o.g2)("app-button"),p=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",Zd,[(0,o.bF)(i,{title:e.t("top3"),onClose:e.close},null,8,["title","onClose"]),(0,o.Lk)("div",$d,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.results.slice(0,e.end),(t,a)=>((0,o.uX)(),(0,o.CE)("section",{key:t,class:"wrapper-item"},[(0,o.Lk)("div",ep,[(0,o.Lk)("span",tp,(0,c.v_)(a+1)+". "+(0,c.v_)(e.t(t.name)),1),(0,o.bF)(r,{ref_for:!0,ref:t=>e.editorCanvasRefs[a]=t,"image-url":e.uniqueImageUrls(a),segments:t.segments},null,8,["image-url","segments"])]),(0,o.Lk)("section",ap,[(0,o.bF)(u,{item:t,"palette-cards":e.paletteCards},null,8,["item","palette-cards"]),(0,o.Lk)("div",lp,[(0,o.bF)(d,{severity:"success",title:"download",onClick:t=>e.saveToDevice(e.editorCanvasRefs[a])},null,8,["onClick"]),(0,o.bF)(d,{severity:"info",title:"addSign",onClick:l=>e.openImageModal(e.editorCanvasRefs[a],t.name)},null,8,["onClick"]),(0,o.bF)(d,{severity:"warning",title:"saveToGallery",loading:e.isSaveToGallery,onClick:l=>e.saveToGallery(e.editorCanvasRefs[a],t.name)},null,8,["loading","onClick"])])])]))),128)),3===e.end?((0,o.uX)(),(0,o.CE)("div",op,[(0,o.bF)(d,{severity:"gradient",gradient:"",title:"seeMore",onClick:t[0]||(t[0]=t=>e.end=12)})])):(0,o.Q3)("",!0),12===e.end?((0,o.uX)(),(0,o.CE)("div",{key:1,class:"text-center",onClick:t[1]||(t[1]=(...t)=>e.close&&e.close(...t))},[(0,o.bF)(p,{class:"txt2",to:{name:"main-consultation"}},{default:(0,o.k6)(()=>[(0,o.eW)((0,c.v_)(e.t("remainingInquiries")),1)]),_:1})])):(0,o.Q3)("",!0)])],512)}var np=(0,o.pM)({components:{AppPalette:zu,AppButton:zt,AppModalHeader:qa,AppEditorCanvas:Io},props:{results:{type:Array,required:!0},imageUrl:{type:String,default:""},paletteCards:{type:Array,required:!0}},emits:["resolve","reject","close"],setup(e,{emit:t}){const{t:a}=(0,r.s9)(),l=(0,i.Pj)(),s=(0,n.KR)(3),c=(0,n.KR)([]),u=(0,n.KR)(!1),d=(0,o.EW)(()=>l.getters["authFirebase/currentUser"]),p=()=>{t("close")},m=t=>{const a=e.imageUrl;if(!a)return"";if(a.startsWith("data:")||a.startsWith("blob:"))return a;const l=Date.now(),o=Math.random().toString(36).substring(2,9),s=a.includes("?")?"&":"?";return`${a}${s}t=${l}&i=${t}&r=${o}`},g=e=>{e.triggerSaveImage()},v=async(t,a)=>{const l=t.getImageSrc();await w(Kl,{url:l,coloristicType:"mask",currentUserId:d.value?.uid,canvas:t.getCanvasValue(),imageUrl:e.imageUrl,paletteType:a},{transparent:!0})},h=async(e,t)=>{u.value=!0;try{await l.dispatch("gallery/saveImageToGallery",{canvas:e.getCanvasValue(),title:"",coloristicType:"mask",maskType:"",paletteType:t,userId:d.value?.uid})}finally{u.value=!1}};return{close:p,t:a,saveToDevice:g,editorCanvasRefs:c,openImageModal:v,isSaveToGallery:u,saveToGallery:h,end:s,uniqueImageUrls:m}}});const ip=(0,h.A)(np,[["render",sp],["__scopeId","data-v-7c8a3f24"]]);var rp=ip,cp=(0,o.pM)({components:{AppButton:zt,AppPaletteFillCard:Jd,AppImageColorPicker:gr,AppImageNotUploaded:or},setup(){const e=(0,n.KR)(null),{t:t}=(0,r.s9)(),a=(0,i.Pj)(),l=(0,n.KR)("#fff"),s=(0,n.KR)(null),c=(0,n.KR)(""),u=(0,n.KR)(!1),d=xn.map(e=>({...e})),p=(0,n.KR)([...d]),m=(0,n.KR)(null),g={l:1,c:1,h:1.5},v={l:10,c:20,h:15},h=Yn;(0,o.KC)(()=>{F()});const f=(0,n.KR)(""),b=async e=>{if(e)try{const t=await k(e);c.value=t.localUrl,f.value=t.safeUrl,await A(c.value),F()}catch(t){console.error("Failed to create distinct URLs:",t);const a=URL.createObjectURL(e);c.value=a,f.value=a,await A(c.value),F()}},k=async e=>{const t=await e.arrayBuffer(),a=new Blob([t],{type:e.type}),l=new Blob([new Uint8Array(t)],{type:e.type}),o=new Blob([t.slice(0)],{type:e.type});return{localUrl:await C(a),sharedUrl:URL.createObjectURL(l),safeUrl:await y(o,e.name)}},y=async(e,t)=>{const a=await C(e),l=Date.now()+Math.random().toString(36).substr(2,9);return`${a}#${t}_${l}`},C=e=>new Promise((t,a)=>{const l=new FileReader;l.onload=()=>t(l.result),l.onerror=a,l.readAsDataURL(e)}),E=e=>{c.value=e,f.value=e,p.value=xn.map(e=>({...e})),F()},F=()=>{const[e]=p.value;m.value=e},A=async e=>{const t=new Image;await new Promise((a,l)=>{t.onload=()=>a(),t.onerror=()=>l(new Error("Image load error")),t.src=e}),s.value=t},L=e=>{m.value=e},I=e=>{if(m.value){const t=p.value.findIndex(e=>e.id===m.value?.id);-1!==t&&(p.value[t].color=e)}},S=()=>{if(!c.value)return void a.dispatch("toast/addToast",{message:"uploadImage",severity:"warning"});const e=p.value.map(e=>e.color),t=Object.entries(h).map(([t,a])=>{const l=e.map(e=>{let t={hex:"",distance:1/0,hit:!1};for(const l of a){const a=M(e,l);a<t.distance&&(t={hex:l,distance:a,hit:P(e,l)})}return{source:e,closest:t.hex,distance:t.distance,hit:t.hit}}),o=l.reduce((e,t)=>e+t.distance,0)/Math.max(1,l.length),s=l.filter(e=>e.hit).length;return{name:t,score:o,hits:s,closestMap:l}}).sort((e,t)=>t.hits-e.hits||e.score-t.score).map(e=>({name:e.name,segments:h[e.name].map(e=>({color:e}))}));w(rp,{results:t,imageUrl:f.value,paletteCards:p.value})},T=(e,t)=>Math.abs((e-t+180)%360-180),M=(e,t)=>{const[a,l,o]=(0,Ri.Ay)(e).lch(),[s,n,i]=(0,Ri.Ay)(t).lch(),r=Math.abs(a-s),c=Math.abs(l-n),u=T(o,i);return g.l*r+g.c*c+g.h*u},P=(e,t)=>{const[a,l,o]=(0,Ri.Ay)(e).lch(),[s,n,i]=(0,Ri.Ay)(t).lch();return Math.abs(a-s)<=v.l&&Math.abs(l-n)<=v.c&&T(o,i)<=v.h};return{imgEl:s,selectedHex:l,onFileSelected:b,isHiddenOverflow:u,paletteCards:p,onSelectedCard:L,selectedCard:m,onSelectedHex:I,range:S,imageUrlChange:E,t:t,imageColorPickerRef:e}}});const up=(0,h.A)(cp,[["render",jd],["__scopeId","data-v-24b7bbf2"]]);var dp=up,pp=a.p+"img/menu-ios.adc5caea.jpg",mp=a.p+"img/install-ios-ru.f764a6e4.jpg",gp=a.p+"img/confirm-ios-ru.3f62043d.jpg",vp=a.p+"img/menu-ios-en.7dd4ed2a.jpg",hp=a.p+"img/install-ios-en.994431ce.jpg",fp=a.p+"img/confirm-ios-en.8fc6fbb0.jpg",bp=a.p+"img/menu-android.2374171e.jpg",kp=a.p+"img/install-ru.df512347.jpg",yp=a.p+"img/confirm-ru.dfcbc3a4.jpg",Cp=a.p+"img/install-en.39561602.jpg",Ep=a.p+"img/confirm-en.c7d0e29a.jpg";const wp={class:"faq-container"},Fp={class:"faq-item"},Ap={key:0,class:"faq-photos"},Lp={key:1,class:"faq-photos"},Ip={class:"faq-item"},Sp={key:2,class:"faq-photos"},Tp={key:3,class:"faq-photos"};function Mp(e,t,a,l,s,n){return(0,o.uX)(),(0,o.CE)("div",wp,[(0,o.Lk)("h2",null,"📌 "+(0,c.v_)(e.t("FAQ"))+" — "+(0,c.v_)(e.t("installPWATitle")),1),(0,o.Lk)("div",Fp,[(0,o.Lk)("h3",null,"❓ "+(0,c.v_)(e.t("howInstallIOSTitle")),1),(0,o.Lk)("p",null,[(0,o.eW)((0,c.v_)(e.t("openAppInBrowserTitle"))+" ",1),t[0]||(t[0]=(0,o.Lk)("strong",null,"Safari",-1)),(0,o.eW)(". "+(0,c.v_)(e.t("pressBtnTitle"))+" ",1),t[1]||(t[1]=(0,o.Lk)("em",null,"Share",-1)),(0,o.eW)(" ("+(0,c.v_)(e.t("squareIconTitle"))+"). "+(0,c.v_)(e.t("selectItem"))+" ",1),(0,o.Lk)("em",null,(0,c.v_)(e.t("addToHomeScreenTitle")),1),(0,o.eW)(". "+(0,c.v_)(e.t("confirmAndClickTitle"))+" ",1),(0,o.Lk)("em",null,(0,c.v_)(e.t("addTitle")),1),(0,o.eW)(". ➡ "+(0,c.v_)(e.t("appWillAppearText")),1)])]),"ru"===e.language?((0,o.uX)(),(0,o.CE)("div",Ap,[...t[2]||(t[2]=[(0,o.Lk)("div",null,[(0,o.Lk)("span",null,"1"),(0,o.Lk)("img",{src:pp,alt:"Preview 1"})],-1),(0,o.Lk)("div",null,[(0,o.Lk)("span",null,"2"),(0,o.Lk)("img",{src:mp,alt:"Preview 1"})],-1),(0,o.Lk)("div",null,[(0,o.Lk)("span",null,"3"),(0,o.Lk)("img",{src:gp,alt:"Preview 2"})],-1)])])):(0,o.Q3)("",!0),"en"===e.language?((0,o.uX)(),(0,o.CE)("div",Lp,[...t[3]||(t[3]=[(0,o.Lk)("div",null,[(0,o.Lk)("span",null,"1"),(0,o.Lk)("img",{src:vp,alt:"Preview 1"})],-1),(0,o.Lk)("div",null,[(0,o.Lk)("span",null,"2"),(0,o.Lk)("img",{src:hp,alt:"Preview 1"})],-1),(0,o.Lk)("div",null,[(0,o.Lk)("span",null,"3"),(0,o.Lk)("img",{src:fp,alt:"Preview 2"})],-1)])])):(0,o.Q3)("",!0),(0,o.Lk)("div",Ip,[(0,o.Lk)("h3",null,"❓ "+(0,c.v_)(e.t("howInstallAndroidTitle")),1),(0,o.Lk)("p",null,[(0,o.eW)((0,c.v_)(e.t("openAppInBrowserTitle"))+" ",1),t[4]||(t[4]=(0,o.Lk)("strong",null,"Chrome",-1)),(0,o.eW)(". "+(0,c.v_)(e.t("pressBtnTitle"))+" ",1),t[5]||(t[5]=(0,o.Lk)("em",null,"⋮",-1)),(0,o.eW)(" ("+(0,c.v_)(e.t("threeDotsText"))+"). "+(0,c.v_)(e.t("selectItem"))+" ",1),(0,o.Lk)("em",null,(0,c.v_)(e.t("addToHomeScreenTitle")),1),(0,o.eW)(". "+(0,c.v_)(e.t("confirmAndClickTitle"))+" ",1),(0,o.Lk)("em",null,(0,c.v_)(e.t("addTitle")),1),(0,o.eW)(". ➡ "+(0,c.v_)(e.t("appWillAppearText")),1)])]),"ru"===e.language?((0,o.uX)(),(0,o.CE)("div",Sp,[...t[6]||(t[6]=[(0,o.Lk)("div",null,[(0,o.Lk)("span",null,"1"),(0,o.Lk)("img",{src:bp,alt:"Preview 1"})],-1),(0,o.Lk)("div",null,[(0,o.Lk)("span",null,"2"),(0,o.Lk)("img",{src:kp,alt:"Preview 1"})],-1),(0,o.Lk)("div",null,[(0,o.Lk)("span",null,"3"),(0,o.Lk)("img",{src:yp,alt:"Preview 2"})],-1)])])):(0,o.Q3)("",!0),"en"===e.language?((0,o.uX)(),(0,o.CE)("div",Tp,[...t[7]||(t[7]=[(0,o.Lk)("div",null,[(0,o.Lk)("span",null,"1"),(0,o.Lk)("img",{src:bp,alt:"Preview 1"})],-1),(0,o.Lk)("div",null,[(0,o.Lk)("span",null,"2"),(0,o.Lk)("img",{src:Cp,alt:"Preview 1"})],-1),(0,o.Lk)("div",null,[(0,o.Lk)("span",null,"3"),(0,o.Lk)("img",{src:Ep,alt:"Preview 2"})],-1)])])):(0,o.Q3)("",!0)])}var Pp=(0,o.pM)({setup(){const{t:e}=(0,r.s9)(),t=(0,i.Pj)(),a=(0,o.EW)(()=>t.getters["language/language"]);return(0,o.sV)(()=>{hl().disable()}),{t:e,language:a}}});const Bp=(0,h.A)(Pp,[["render",Mp],["__scopeId","data-v-6d28c837"]]);var Dp=Bp;const Rp={class:"container"},xp={class:"wrap-contact"},_p={class:"contacts"},Wp={class:"title"},Op={class:"contact"},Vp={class:"description"},Xp={class:"contact-item"},Kp={class:"description"},Up={class:"contact-item"};function Gp(e,t,a,l,s,n){const i=(0,o.g2)("app-image-login"),r=(0,o.g2)("font-awesome-icon");return(0,o.uX)(),(0,o.CE)("section",Rp,[(0,o.Lk)("div",xp,[(0,o.bF)(i),(0,o.Lk)("div",_p,[(0,o.Lk)("h1",Wp,(0,c.v_)(e.t("contacts")),1),(0,o.Lk)("section",Op,[(0,o.Lk)("span",Vp,(0,c.v_)(e.t("ideaAndSuggestions")),1),(0,o.Lk)("div",Xp,[(0,o.bF)(r,{size:"xl",icon:["fas","envelope"]}),t[0]||(t[0]=(0,o.Lk)("a",{href:"mailto:info@rainbow-manager.com"},"info@rainbow-manager.com",-1))]),(0,o.Lk)("span",Kp,(0,c.v_)(e.t("supportAndAssistance")),1),(0,o.Lk)("div",Up,[(0,o.bF)(r,{size:"xl",icon:["fas","envelope"]}),t[1]||(t[1]=(0,o.Lk)("a",{href:"mailto:support@rainbow-manager.com"},"support@rainbow-manager.com",-1))])])])])])}var Qp=(0,o.pM)({components:{AppImageLogin:uc},setup(){const{t:e}=(0,r.s9)();return{t:e}}});const zp=(0,h.A)(Qp,[["render",Gp],["__scopeId","data-v-0b518e0c"]]);var Np=zp;const jp={class:"color-container"},Hp={class:"color-wrapper"},Yp={class:"selected"},qp={key:0,class:"arrows"},Jp={class:"selected-name"},Zp={class:"editor"},$p={key:0,class:"btn filter"},em={key:0,class:"filter-fill"},tm={key:1,class:"btn"},am={key:2,class:"btn"},lm={key:3,class:"btn"},om={key:4,class:"btn"},sm={key:5,class:"btn"},nm={key:6,class:"checkbox"},im={key:0,class:"popover-filter-fill"};function rm(e,t,a,s,n,i){const r=(0,o.g2)("app-color-card"),u=(0,o.g2)("font-awesome-icon"),d=(0,o.g2)("app-editor-canvas"),p=(0,o.g2)("app-button"),m=(0,o.g2)("AppCheckbox"),g=(0,o.g2)("app-popover-item"),v=(0,o.g2)("app-popover-wrapper"),h=(0,o.g2)("app-popover");return(0,o.uX)(),(0,o.CE)("div",jp,[(0,o.Lk)("div",Hp,[(0,o.Lk)("section",Yp,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.palettesCards.slice(e.startPalette,e.endPalette),t=>((0,o.uX)(),(0,o.Wv)(r,{key:t.id,index:e.order(t),card:t,"is-selected":e.selectedCard?.id===t?.id,onSelected:e.selected},null,8,["index","card","is-selected","onSelected"]))),128)),e.palettesCards.length>6?((0,o.uX)(),(0,o.CE)("div",qp,[(0,o.bF)(u,{class:"arrow left",size:e.isMobile?"sm":"2xl",icon:["fas","arrow-left"],onClick:e.nextPalette},null,8,["size","onClick"]),(0,o.bF)(u,{class:"arrow right",size:e.isMobile?"sm":"2xl",icon:["fas","arrow-right"],onClick:e.nextPalette},null,8,["size","onClick"])])):(0,o.Q3)("",!0),(0,o.Lk)("span",Jp,(0,c.v_)(e.t(e.selectedCard.name)),1)]),(0,o.Lk)("section",Zp,[(0,o.bF)(d,{ref:"editorCanvasRef","image-url":e.imageUrl,"onUpdate:imageUrl":t[0]||(t[0]=t=>e.imageUrl=t),segments:e.frameColors},null,8,["image-url","segments"])]),(0,o.Lk)("section",{class:(0,c.C4)(["buttons",{isMobile:e.isMobile}])},[e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",$p,[(0,o.bF)(p,{raised:"",severity:"secondary",icon:["fas","filter"],title:"filter",onClick:e.openPaletteSettings},null,8,["onClick"]),e.isCompareFilter?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",em))])),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",tm,[(0,o.bF)(p,{raised:"",title:"pickPhoto",severity:"secondary",icon:["fas","sliders"],onClick:e.openImageSettingsModal},null,8,["onClick"])])),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",am,[(0,o.bF)(p,{raised:"",icon:["fas","camera"],severity:"secondary",title:"takePhoto",onClick:e.openCameraModal},null,8,["onClick"])])),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",lm,[(0,o.bF)(p,{severity:"success",title:"download",onClick:e.saveToDevice},null,8,["onClick"])])),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",om,[(0,o.bF)(p,{severity:"warning",title:"saveToGallery",loading:e.isSaveToGallery,onClick:e.saveToGallery},null,8,["loading","onClick"])])),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",sm,[(0,o.bF)(p,{severity:"info",title:"addSign",onClick:e.openImageModal},null,8,["onClick"])])),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",nm,[(0,o.bF)(m,{modelValue:e.rememberChoose,"onUpdate:modelValue":t[1]||(t[1]=t=>e.rememberChoose=t),label:"rememberChoose"},null,8,["modelValue"])])),e.isMobile?((0,o.uX)(),(0,o.Wv)(u,{key:7,icon:["fas","ellipsis-h"],size:"xl",onClick:(0,l.D$)(e.openPopover,["stop"])},null,8,["onClick"])):(0,o.Q3)("",!0)],2)]),(0,o.bF)(h,{visible:e.visiblePopover,"onUpdate:visible":t[3]||(t[3]=t=>e.visiblePopover=t)},{default:(0,o.k6)(()=>[(0,o.bF)(v,null,{default:(0,o.k6)(()=>[(0,o.bF)(g,{onClick:e.openPaletteSettings},{default:(0,o.k6)(()=>[(0,o.bF)(u,{size:"xl",icon:["fas","filter"]}),(0,o.Lk)("span",null,(0,c.v_)(e.t("filter")),1),e.isCompareFilter?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",im))]),_:1},8,["onClick"]),(0,o.bF)(g,{onClick:e.openImageSettingsModal},{default:(0,o.k6)(()=>[(0,o.bF)(u,{size:"xl",icon:["fas","sliders"]}),(0,o.Lk)("span",null,(0,c.v_)(e.t("pickPhoto")),1)]),_:1},8,["onClick"]),(0,o.bF)(g,{onClick:e.openCameraModal},{default:(0,o.k6)(()=>[(0,o.bF)(u,{size:"xl",icon:["fas","camera"]}),(0,o.Lk)("span",null,(0,c.v_)(e.t("takePhoto")),1)]),_:1},8,["onClick"]),(0,o.bF)(g,{onClick:e.saveToDevice},{default:(0,o.k6)(()=>[(0,o.bF)(u,{size:"xl",icon:["fas","download"]}),(0,o.Lk)("span",null,(0,c.v_)(e.t("download")),1)]),_:1},8,["onClick"])]),_:1}),(0,o.bF)(v,null,{default:(0,o.k6)(()=>[(0,o.bF)(g,{onClick:e.saveToGallery},{default:(0,o.k6)(()=>[(0,o.bF)(u,{size:"xl",icon:["fas","images"]}),(0,o.Lk)("span",null,(0,c.v_)(e.t("saveToGallery")),1)]),_:1},8,["onClick"]),(0,o.bF)(g,{onClick:e.openImageModal},{default:(0,o.k6)(()=>[(0,o.bF)(u,{size:"xl",icon:["fas","fa-pencil-square"]}),(0,o.Lk)("span",null,(0,c.v_)(e.t("addSign")),1)]),_:1},8,["onClick"])]),_:1}),(0,o.bF)(v,null,{default:(0,o.k6)(()=>[(0,o.bF)(g,null,{default:(0,o.k6)(()=>[(0,o.bF)(m,{modelValue:e.rememberChoose,"onUpdate:modelValue":t[2]||(t[2]=t=>e.rememberChoose=t)},null,8,["modelValue"]),(0,o.Lk)("span",null,(0,c.v_)(e.t("rememberChoose")),1)]),_:1})]),_:1})]),_:1},8,["visible"])])}const cm={ref:"modalRef",class:"modal-content neon"},um={class:"wrapper-filter"},dm={class:"footer"};function pm(e,t,a,l,s,n){const i=(0,o.g2)("app-modal-header"),r=(0,o.g2)("AppCheckbox"),c=(0,o.g2)("app-button");return(0,o.uX)(),(0,o.CE)("div",cm,[(0,o.bF)(i,{onClose:e.close},null,8,["onClose"]),(0,o.Lk)("section",um,[(0,o.bF)(r,{modelValue:e.fullFillRef,"onUpdate:modelValue":t[0]||(t[0]=t=>e.fullFillRef=t),label:"fullFill"},null,8,["modelValue"]),(0,o.bF)(r,{modelValue:e.onlySoftRef,"onUpdate:modelValue":t[1]||(t[1]=t=>e.onlySoftRef=t),label:"showOnlySoft"},null,8,["modelValue"]),(0,o.bF)(r,{modelValue:e.onlyBrightRef,"onUpdate:modelValue":t[2]||(t[2]=t=>e.onlyBrightRef=t),label:"showOnlyBright"},null,8,["modelValue"]),(0,o.bF)(r,{modelValue:e.onlyColdRef,"onUpdate:modelValue":t[3]||(t[3]=t=>e.onlyColdRef=t),label:"showOnlyCold"},null,8,["modelValue"]),(0,o.bF)(r,{modelValue:e.onlyWarmRef,"onUpdate:modelValue":t[4]||(t[4]=t=>e.onlyWarmRef=t),label:"showOnlyWarm"},null,8,["modelValue"]),(0,o.bF)(r,{modelValue:e.onlyLightRef,"onUpdate:modelValue":t[5]||(t[5]=t=>e.onlyLightRef=t),label:"showOnlyLight"},null,8,["modelValue"]),(0,o.bF)(r,{modelValue:e.onlyDarkRef,"onUpdate:modelValue":t[6]||(t[6]=t=>e.onlyDarkRef=t),label:"showOnlyDark"},null,8,["modelValue"])]),(0,o.Lk)("footer",dm,[(0,o.Lk)("div",{class:"btn",onClick:t[7]||(t[7]=(...t)=>e.applyFilter&&e.applyFilter(...t))},[(0,o.bF)(c,{severity:"warning",title:"apply"})])])],512)}var mm=(0,o.pM)({components:{AppCheckbox:Ta,AppButton:zt,AppModalHeader:qa},props:{fullFill:{type:Boolean,default:!1},onlySoft:{type:Boolean,default:!0},onlyBright:{type:Boolean,default:!0},onlyCold:{type:Boolean,default:!0},onlyWarm:{type:Boolean,default:!0},onlyLight:{type:Boolean,default:!0},onlyDark:{type:Boolean,default:!0}},emits:["resolve","reject","close"],setup(e,{emit:t}){const a=(0,i.Pj)(),l=(0,n.KR)(e.fullFill),s=(0,n.KR)(e.onlySoft),r=(0,n.KR)(e.onlyBright),c=(0,n.KR)(e.onlyCold),u=(0,n.KR)(e.onlyWarm),d=(0,n.KR)(e.onlyLight),p=(0,n.KR)(e.onlyDark),m=(0,o.EW)(()=>!s.value&&!r.value&&!c.value&&!u.value&&!d.value&&!p.value),g=()=>{t("close")},v=()=>{m.value?a.dispatch("toast/addToast",{message:"pleaseSelectAtLeastOneCharacteristic",severity:"warning"}):t("resolve",{fullFill:l.value,onlySoft:s.value,onlyBright:r.value,onlyCold:c.value,onlyWarm:u.value,onlyDark:p.value,onlyLight:d.value})};return{close:g,applyFilter:v,fullFillRef:l,onlySoftRef:s,onlyBrightRef:r,onlyColdRef:c,onlyWarmRef:u,onlyLightRef:d,onlyDarkRef:p}}});const gm=(0,h.A)(mm,[["render",pm],["__scopeId","data-v-cf92defa"]]);var vm=gm,hm=(0,o.pM)({components:{AppColorCard:Eo,AppCheckbox:Ta,AppPopoverItem:ua,AppPopoverWrapper:va,AppPopover:Ca,AppButton:zt,AppEditorCanvas:Io},setup(e){const t=(0,n.KR)(null),{t:a}=(0,r.s9)(),l=(0,n.KR)(),s=(0,i.Pj)(),c=(0,n.KR)(!1),u=(0,n.KR)(null),d=(0,n.KR)(),p=(0,n.KR)(null),m=(0,n.KR)(!1),g=(0,n.KR)(null),v=()=>{const e=s.getters["palette/getSettingsMap"].fullFill;return e?Yn:Hn},h=(e,t)=>({id:e,name:e,colors:t,segments:t.map(e=>({color:e}))}),f=(e,t)=>Object.entries(e).filter(([e])=>t[e]).map(([e,t])=>h(e,t)),b=(0,n.KR)(f(v(),s.getters["palette/getSettingsMap"].palette)),k=(0,n.KR)(0),y=(0,n.KR)(6),C=(0,n.KR)(s.getters["palette/rememberImgMask"]),E=(0,o.EW)(()=>s.getters["palette/imgMask"]),F=(0,o.EW)(()=>s.getters["palette/getOriginalImgMask"]),A=(0,o.EW)(()=>s.getters["authFirebase/currentUser"]),L=(0,o.EW)(()=>"mobile"===s.getters["mobile/breakPoint"]),I=(0,o.EW)(()=>s.getters["palette/isCompareFilter"]);(0,o.KC)(()=>{O()}),(0,o.sV)(()=>{if(C.value){const e=E.value;e&&S(e)}});const S=async e=>{p.value=await Ma(e),await s.dispatch("palette/uploadImgMask",{file:e})},T=async()=>{if(p.value){m.value=!0,c.value=!1;try{await s.dispatch("gallery/saveImageToGallery",{canvas:t.value?.getCanvasValue(),title:"",coloristicType:"mask",maskType:"",paletteType:u.value?u.value.id:"",userId:A.value?.uid})}finally{m.value=!1}}else await s.dispatch("toast/addToast",{message:"uploadImage",severity:"warning"})},M=e=>{u.value=e,d.value=e.colors.map(e=>({color:e}))},P=()=>{c.value=!0},B=async()=>{const e=t.value?.getImageSrc();await w(Kl,{url:e,coloristicType:"mask",maskType:"",paletteType:u.value?u.value.id:"",currentUserId:A.value?.uid,canvas:t.value?.getCanvasValue(),imageUrl:p.value})},D=async()=>{c.value=!1;const e=F.value;let t=null;e&&(t=await Ma(e)),await w(to,{imageUrl:t}).then(e=>{e.originalFile&&s.dispatch("palette/setOriginalImgMask",{file:e.originalFile}),s.dispatch("palette/uploadImgMask",{file:e.file}),S(e.file)})};(0,o.wB)(C,e=>{s.dispatch("palette/setRememberImgMask",{remember:e})});const R=()=>{t.value?.triggerSaveImage()},x=async()=>{await w(Go,{colorCards:b.value}).then(e=>{s.dispatch("palette/uploadImgMask",{file:e.file}),S(e.file),M(e.selectedCard)})},_=()=>{0===k.value?X():V()},W=async()=>{await w(vm,{fullFill:s.getters["palette/getSettings"].fullFill,onlySoft:s.getters["palette/getSettings"].onlySoft,onlyBright:s.getters["palette/getSettings"].onlyBright,onlyCold:s.getters["palette/getSettings"].onlyCold,onlyWarm:s.getters["palette/getSettings"].onlyWarm,onlyLight:s.getters["palette/getSettings"].onlyLight,onlyDark:s.getters["palette/getSettings"].onlyDark}).then(e=>{s.dispatch("palette/setSettings",e),b.value=f(v(),s.getters["palette/getSettingsMap"].palette),V(),O()})},O=()=>{const[e]=b.value;u.value=e,d.value=e.colors.map(e=>({color:e}))},V=()=>{k.value=0,y.value=6},X=()=>{k.value=6,y.value=12},K=e=>b.value.findIndex(t=>t.id===e.id);return{frameColors:d,imageUrl:p,onFileSelected:S,selected:M,selectedCard:u,visiblePopover:c,isMobile:L,openPopover:P,uploader:l,t:a,saveToGallery:T,isSaveToGallery:m,editorCanvasRef:t,rememberChoose:C,openImageModal:B,openImageSettingsModal:D,saveToDevice:R,openCameraModal:x,palettesCards:b,targetRef:g,endPalette:y,startPalette:k,nextPalette:_,openPaletteSettings:W,order:K,isCompareFilter:I}}});const fm=(0,h.A)(hm,[["render",rm],["__scopeId","data-v-de349896"]]);var bm=fm;const km={class:"color-container"},ym={class:"color-wrapper"},Cm={class:"selected"},Em={class:"selected-slider"},wm={class:"selected-slider-count"},Fm={key:0,class:"template-name"},Am={class:"color-picker-wrapper"},Lm={key:0,class:"undo"},Im={key:0,class:"btn"},Sm={class:"color-picker-inner"},Tm={key:1,class:"color-picker-actions"},Mm={key:0,class:"btn"},Pm={key:1,class:"btn"},Bm={key:2,class:"color-picker-actions"},Dm={key:0,class:"btn"},Rm={class:"btn"},xm={class:"editor"},_m={key:0,class:"btn"},Wm={key:1,class:"btn"},Om={key:2,class:"btn"},Vm={key:3,class:"btn"},Xm={key:4,class:"btn"},Km={key:5,class:"btn"},Um={key:6,class:"btn"},Gm={key:7,class:"checkbox"};function Qm(e,t,a,s,n,i){const r=(0,o.g2)("app-slider"),u=(0,o.g2)("app-button"),d=(0,o.g2)("app-color-picker"),p=(0,o.g2)("app-editor-canvas"),m=(0,o.g2)("AppCheckbox"),g=(0,o.g2)("font-awesome-icon"),v=(0,o.g2)("app-popover-item"),h=(0,o.g2)("app-popover-wrapper"),f=(0,o.g2)("app-popover");return(0,o.uX)(),(0,o.CE)("div",km,[(0,o.Lk)("div",ym,[(0,o.Lk)("section",Cm,[(0,o.Lk)("div",Em,[(0,o.Lk)("span",wm,(0,c.v_)(e.t("numberOfSegments"))+": "+(0,c.v_)(e.slider),1),e.templateRef?.name?((0,o.uX)(),(0,o.CE)("span",Fm,(0,c.v_)(e.t("template"))+": "+(0,c.v_)(e.templateRef?.name),1)):(0,o.Q3)("",!0),(0,o.bF)(r,{modelValue:e.slider,"onUpdate:modelValue":t[0]||(t[0]=t=>e.slider=t),min:1,max:12},null,8,["modelValue"])]),(0,o.Lk)("div",Am,[e.isMobile?((0,o.uX)(),(0,o.CE)("div",Lm,[e.templateRef?.name?((0,o.uX)(),(0,o.CE)("div",Im,[(0,o.bF)(u,{raised:"",severity:"secondary",icon:["fas","undo"],onClick:e.cancelledTemplate},null,8,["onClick"])])):(0,o.Q3)("",!0)])):(0,o.Q3)("",!0),(0,o.Lk)("div",Sm,[(0,o.bF)(d,{"is-preview-row":!1,"is-combos-section":!1,"is-info":!1,onChange:t[1]||(t[1]=t=>e.colorChange(t))})]),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("section",Tm,[e.templateRef?.name?((0,o.uX)(),(0,o.CE)("div",Mm,[(0,o.bF)(u,{raised:"",icon:["fas","undo"],severity:"secondary",title:"resetTemplate",onClick:e.cancelledTemplate},null,8,["onClick"])])):(0,o.Q3)("",!0),e.isChangeTemplate?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",Pm,[(0,o.bF)(u,{raised:"",icon:["fas","save"],severity:"secondary",title:"saveChanges",onClick:t[2]||(t[2]=t=>e.openCreateTemplateModal("update"))})]))])),e.isMobile?((0,o.uX)(),(0,o.CE)("section",Bm,[e.isChangeTemplate?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",Dm,[(0,o.bF)(u,{raised:"",severity:"secondary",icon:["fas","save"],onClick:t[3]||(t[3]=t=>e.openCreateTemplateModal("update"))})])),(0,o.Lk)("div",Rm,[(0,o.bF)(u,{raised:"",severity:"secondary",icon:["fas","plus"],onClick:t[4]||(t[4]=t=>e.openCreateTemplateModal("create"))})])])):(0,o.Q3)("",!0)])]),(0,o.Lk)("section",xm,[(0,o.bF)(p,{ref:"editorCanvasRef","image-url":e.imageUrl,"onUpdate:imageUrl":t[5]||(t[5]=t=>e.imageUrl=t),segments:e.frameColors,"gap-between-segments":e.gapBetweenSegments,"is-mark-segment":!0,onSelectedSegment:t[6]||(t[6]=t=>e.selectedSegment(t))},null,8,["image-url","segments","gap-between-segments"])]),(0,o.Lk)("section",{class:(0,c.C4)(["buttons",{isMobile:e.isMobile}])},[e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",_m,[(0,o.bF)(u,{raised:"",severity:"secondary",title:"addTemplate",icon:["fas","plus"],onClick:t[7]||(t[7]=t=>e.openCreateTemplateModal("create"))})])),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",Wm,[(0,o.bF)(u,{raised:"",severity:"secondary",title:"myTemplates",icon:["fas","fill-drip"],onClick:e.openPaletteTemplatesModal},null,8,["onClick"])])),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",Om,[(0,o.bF)(u,{raised:"",title:"pickPhoto",severity:"secondary",icon:["fas","sliders"],onClick:e.openImageSettingsModal},null,8,["onClick"])])),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",Vm,[(0,o.bF)(u,{raised:"",icon:["fas","camera"],severity:"secondary",title:"takePhoto",onClick:e.openCameraModal},null,8,["onClick"])])),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",Xm,[(0,o.bF)(u,{severity:"success",title:"download",onClick:e.saveToDevice},null,8,["onClick"])])),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",Km,[(0,o.bF)(u,{severity:"warning",title:"saveToGallery",loading:e.isSaveToGallery,onClick:e.saveToGallery},null,8,["loading","onClick"])])),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",Um,[(0,o.bF)(u,{severity:"info",title:"addSign",onClick:e.openImageModal},null,8,["onClick"])])),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",Gm,[(0,o.bF)(m,{modelValue:e.rememberChoose,"onUpdate:modelValue":t[8]||(t[8]=t=>e.rememberChoose=t),label:"rememberChoose"},null,8,["modelValue"])])),e.isMobile?((0,o.uX)(),(0,o.Wv)(g,{key:8,icon:["fas","ellipsis-h"],size:"xl",onClick:(0,l.D$)(e.openPopover,["stop"])},null,8,["onClick"])):(0,o.Q3)("",!0)],2)]),(0,o.bF)(f,{visible:e.visiblePopover,"onUpdate:visible":t[10]||(t[10]=t=>e.visiblePopover=t)},{default:(0,o.k6)(()=>[(0,o.bF)(h,null,{default:(0,o.k6)(()=>[(0,o.bF)(v,{onClick:e.openPaletteTemplatesModal},{default:(0,o.k6)(()=>[(0,o.bF)(g,{size:"xl",icon:["fas","fill-drip"]}),(0,o.Lk)("span",null,(0,c.v_)(e.t("myTemplates")),1)]),_:1},8,["onClick"]),(0,o.bF)(v,{onClick:e.openImageSettingsModal},{default:(0,o.k6)(()=>[(0,o.bF)(g,{size:"xl",icon:["fas","sliders"]}),(0,o.Lk)("span",null,(0,c.v_)(e.t("pickPhoto")),1)]),_:1},8,["onClick"]),(0,o.bF)(v,{onClick:e.openCameraModal},{default:(0,o.k6)(()=>[(0,o.bF)(g,{size:"xl",icon:["fas","camera"]}),(0,o.Lk)("span",null,(0,c.v_)(e.t("takePhoto")),1)]),_:1},8,["onClick"]),(0,o.bF)(v,{onClick:e.saveToDevice},{default:(0,o.k6)(()=>[(0,o.bF)(g,{size:"xl",icon:["fas","download"]}),(0,o.Lk)("span",null,(0,c.v_)(e.t("download")),1)]),_:1},8,["onClick"])]),_:1}),(0,o.bF)(h,null,{default:(0,o.k6)(()=>[(0,o.bF)(v,{onClick:e.saveToGallery},{default:(0,o.k6)(()=>[(0,o.bF)(g,{size:"xl",icon:["fas","images"]}),(0,o.Lk)("span",null,(0,c.v_)(e.t("saveToGallery")),1)]),_:1},8,["onClick"]),(0,o.bF)(v,{onClick:e.openImageModal},{default:(0,o.k6)(()=>[(0,o.bF)(g,{size:"xl",icon:["fas","fa-pencil-square"]}),(0,o.Lk)("span",null,(0,c.v_)(e.t("addSign")),1)]),_:1},8,["onClick"])]),_:1}),(0,o.bF)(h,null,{default:(0,o.k6)(()=>[(0,o.bF)(v,null,{default:(0,o.k6)(()=>[(0,o.bF)(m,{modelValue:e.rememberChoose,"onUpdate:modelValue":t[9]||(t[9]=t=>e.rememberChoose=t)},null,8,["modelValue"]),(0,o.Lk)("span",null,(0,c.v_)(e.t("rememberChoose")),1)]),_:1})]),_:1})]),_:1},8,["visible"])])}const zm={class:"slider-track"},Nm={key:0,class:"slider-tooltip"},jm={key:0,class:"slider-marks"},Hm=["onClick"],Ym={class:"mark-label"},qm={key:0,class:"slider-input-container"},Jm=["min","max","step","disabled"],Zm={class:"slider-input-suffix"};function $m(e,t,a,s,n,i){return(0,o.uX)(),(0,o.CE)("div",{class:(0,c.C4)(["slider-container",{disabled:e.props.disabled,vertical:e.props.vertical}])},[(0,o.Lk)("div",{class:"slider-wrapper",onClick:t[4]||(t[4]=(...t)=>e.handleSliderClick&&e.handleSliderClick(...t))},[(0,o.Lk)("div",zm,[(0,o.Lk)("div",{class:"slider-progress",style:(0,c.Tr)({width:(e.normalizedValue-e.props.min)/(e.props.max-e.props.min)*100+"%"})},null,4)]),(0,o.Lk)("div",{ref:"sliderThumb",class:"slider-thumb",style:(0,c.Tr)({left:(e.normalizedValue-e.props.min)/(e.props.max-e.props.min)*100+"%"}),tabindex:"0",onMousedown:t[0]||(t[0]=(...t)=>e.startDrag&&e.startDrag(...t)),onTouchstart:t[1]||(t[1]=(...t)=>e.startDrag&&e.startDrag(...t)),onKeydown:t[2]||(t[2]=(...t)=>e.handleKeydown&&e.handleKeydown(...t)),onClick:t[3]||(t[3]=(...t)=>e.focusThumb&&e.focusThumb(...t))},[e.props.showTooltip?((0,o.uX)(),(0,o.CE)("div",Nm,(0,c.v_)(e.formatValue(e.normalizedValue)),1)):(0,o.Q3)("",!0)],36),e.props.showMarks?((0,o.uX)(),(0,o.CE)("div",jm,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.props.marks,(t,a)=>((0,o.uX)(),(0,o.CE)("div",{key:a,class:(0,c.C4)(["slider-mark",{active:e.normalizedValue>=t.value}]),style:(0,c.Tr)({left:(t.value-e.props.min)/(e.props.max-e.props.min)*100+"%"}),onClick:a=>e.handleMarkClick(t.value)},[(0,o.Lk)("span",Ym,(0,c.v_)(t.label),1)],14,Hm))),128))])):(0,o.Q3)("",!0)]),e.props.showInput?((0,o.uX)(),(0,o.CE)("div",qm,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[5]||(t[5]=t=>e.inputValue=t),type:"number",min:e.props.min,max:e.props.max,step:e.props.step,class:"slider-input",disabled:e.props.disabled,onChange:t[6]||(t[6]=(...t)=>e.handleInputChange&&e.handleInputChange(...t))},null,40,Jm),[[l.Jo,e.inputValue,void 0,{number:!0}]]),(0,o.Lk)("span",Zm,(0,c.v_)(e.props.suffix),1)])):(0,o.Q3)("",!0)],2)}const eg=(0,o.pM)({name:"AppSlider",props:{modelValue:{type:Number,required:!0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showTooltip:{type:Boolean,default:!0},showMarks:{type:Boolean,default:!1},showInput:{type:Boolean,default:!1},marks:{type:Array,default:()=>[]},suffix:{type:String,default:""},format:{type:Function,default:null},vertical:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},trackColor:{type:String,default:"#e0e0e0"},progressColor:{type:String,default:"#4CAF50"},thumbColor:{type:String,default:"#4CAF50"}},emits:["update:modelValue","change","input","drag-start","drag-end"],setup(e,{emit:t}){const a=(0,n.KR)(null),l=(0,n.KR)(!1),s=(0,n.KR)(e.modelValue),i=(0,o.EW)(()=>{let t=e.modelValue;t<e.min&&(t=e.min),t>e.max&&(t=e.max);const a=Math.round((t-e.min)/e.step);return e.min+a*e.step}),r=e=>{e.stopPropagation(),a.value&&a.value.focus()},c=t=>e.format&&"function"===typeof e.format?e.format(t):t+e.suffix,u=a=>{e.disabled||(l.value=!0,t("drag-start",i.value),a.preventDefault(),document.addEventListener("mousemove",d),document.addEventListener("touchmove",d,{passive:!1}),document.addEventListener("mouseup",p),document.addEventListener("touchend",p),document.addEventListener("touchcancel",p))},d=t=>{if(!l.value||e.disabled)return;t.preventDefault();const o=t.clientX||t.touches?.[0]?.clientX;if(!o)return;const s=a.value?.parentElement?.getBoundingClientRect();if(!s)return;const n=o-s.left,i=s.width;let r=n/i;r<0&&(r=0),r>1&&(r=1);let c=e.min+r*(e.max-e.min);const u=Math.round((c-e.min)/e.step);c=e.min+u*e.step,c=Math.max(e.min,Math.min(e.max,c)),f(c)},p=()=>{l.value&&(l.value=!1,t("drag-end",i.value),document.removeEventListener("mousemove",d),document.removeEventListener("touchmove",d),document.removeEventListener("mouseup",p),document.removeEventListener("touchend",p),document.removeEventListener("touchcancel",p))},m=t=>{if(e.disabled)return;const l=a.value?.parentElement?.getBoundingClientRect();if(!l)return;const o=t.clientX-l.left,s=l.width;let n=o/s;n<0&&(n=0),n>1&&(n=1);let i=e.min+n*(e.max-e.min);const r=Math.round((i-e.min)/e.step);i=e.min+r*e.step,f(i)},g=t=>{e.disabled||f(t)},v=t=>{if(e.disabled)return;let a=i.value;switch(t.key){case"ArrowLeft":case"ArrowDown":a-=e.step,t.preventDefault();break;case"ArrowRight":case"ArrowUp":a+=e.step,t.preventDefault();break;case"Home":a=e.min,t.preventDefault();break;case"End":a=e.max,t.preventDefault();break;case"PageDown":a-=10*e.step,t.preventDefault();break;case"PageUp":a+=10*e.step,t.preventDefault();break;default:return}a=Math.max(e.min,Math.min(e.max,a)),f(a)},h=()=>{let t=parseFloat(String(s.value));if(isNaN(t))return void(s.value=i.value);t=Math.max(e.min,Math.min(e.max,t));const a=Math.round((t-e.min)/e.step);t=e.min+a*e.step,f(t),s.value=t},f=a=>{const l=i.value;a===l||e.disabled||(t("update:modelValue",a),t("change",a,l),t("input",a),s.value=a)};return(0,o.wB)(()=>e.modelValue,e=>{s.value=e},{immediate:!0}),(0,o.hi)(()=>{p()}),{sliderThumb:a,inputValue:s,normalizedValue:i,formatValue:c,startDrag:u,handleSliderClick:m,handleMarkClick:g,handleKeydown:v,handleInputChange:h,props:e,focusThumb:r}}}),tg=()=>{(0,l.$9)(e=>({"7602f659":e.props.trackColor,"153b4415":e.props.progressColor,"6ade56a4":e.props.thumbColor,d1c655a2:(e.normalizedValue-e.props.min)/(e.props.max-e.props.min)*100+"%",e35e585e:100-(e.normalizedValue-e.props.min)/(e.props.max-e.props.min)*100+"%"}))},ag=eg.setup;eg.setup=ag?(e,t)=>(tg(),ag(e,t)):tg;var lg=eg;const og=(0,h.A)(lg,[["render",$m],["__scopeId","data-v-770a6200"]]);var sg=og;const ng={ref:"modalRef",class:"modal-content neon"},ig={class:"wrapper"},rg={class:"card"},cg={class:"segments"},ug={class:"footer"},dg={class:"footer-wrapper"};function pg(e,t,a,l,s,n){const i=(0,o.g2)("app-modal-header"),r=(0,o.g2)("app-input"),u=(0,o.g2)("app-button");return(0,o.uX)(),(0,o.CE)("div",ng,[(0,o.bF)(i,{title:e.getTitle,onClose:e.close},null,8,["title","onClose"]),(0,o.Lk)("section",ig,[(0,o.Lk)("div",rg,[(0,o.Lk)("div",cg,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.card.segments,e=>((0,o.uX)(),(0,o.CE)("div",{key:e,class:"segment",style:(0,c.Tr)({backgroundColor:e.color})},null,4))),128))])])]),(0,o.Lk)("footer",ug,[(0,o.Lk)("div",dg,[(0,o.bF)(r,{modelValue:e.signIn,"onUpdate:modelValue":t[0]||(t[0]=t=>e.signIn=t),icon:["fas","fa-pencil"],"is-label":!1,onFocus:e.focusInput,onBlur:e.focusOutInput},null,8,["modelValue","onFocus","onBlur"]),(0,o.Lk)("div",{class:"btn",onClick:t[1]||(t[1]=(...t)=>e.saveTemplate&&e.saveTemplate(...t))},[(0,o.bF)(u,{loading:e.isLoading,severity:"warning",title:e.id?"update":"save"},null,8,["loading","title"])])])])],512)}var mg=(0,o.pM)({components:{AppInput:Pe,AppModalHeader:qa,AppButton:zt},props:{id:{type:String,default:""},name:{type:String,default:""},card:{type:Object,required:!0}},emits:["resolve","reject","close"],setup(e,{emit:t}){const{t:a}=(0,r.s9)(),l=(0,n.KR)(e.name),s=(0,i.Pj)(),c=(0,o.EW)(()=>s.getters["authFirebase/getUserId"]),u=(0,o.EW)(()=>s.getters["mobile/getDevice"]),d=(0,o.EW)(()=>s.getters["myPalette/isLoading"]),p=(0,o.EW)(()=>"mobile"===s.getters["mobile/breakPoint"]),m=(0,o.EW)(()=>p.value?e.id?a("updateTemplate"):a("addTemplate"):""),g=async()=>{e.id?(await s.dispatch("myPalette/updatePaletteTemplate",{id:e.id,name:l.value,segments:e.card.segments}),t("resolve",l.value)):(await s.dispatch("myPalette/savePaletteTemplate",{userId:c.value,name:l.value,segments:e.card.segments}),f())},v=()=>{"ios"===u.value&&hl().enable()},h=()=>{"ios"===u.value&&(hl().disable(),setTimeout(()=>window.scrollTo(0,0),50))},f=()=>{t("close")};return{signIn:l,saveTemplate:g,focusInput:v,focusOutInput:h,close:f,isLoading:d,isMobile:p,t:a,getTitle:m}}});const gg=(0,h.A)(mg,[["render",pg],["__scopeId","data-v-f1176b2a"]]);var vg=gg;const hg={ref:"modalRef",class:"modal-content neon"},fg={class:"search"},bg={class:"search-wrapper"},kg={class:"wrapper"},yg={class:"footer"};function Cg(e,t,a,l,s,n){const i=(0,o.g2)("app-modal-header"),r=(0,o.g2)("app-loader"),c=(0,o.g2)("app-input"),u=(0,o.g2)("app-palette-template-card"),d=(0,o.g2)("app-button");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.Lk)("div",hg,[(0,o.bF)(i,{onClose:e.close},null,8,["onClose"]),e.isLoading?((0,o.uX)(),(0,o.Wv)(r,{key:0})):(0,o.Q3)("",!0),(0,o.Lk)("section",fg,[(0,o.Lk)("div",bg,[(0,o.bF)(c,{modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=t=>e.search=t),placeholder:"search",icon:["fas","search"],"is-label":!1,onFocus:e.focusInput,onBlur:e.focusOutInput},null,8,["modelValue","onFocus","onBlur"])])]),(0,o.Lk)("section",kg,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.paletteTemplates,t=>((0,o.uX)(),(0,o.Wv)(u,{key:t.id,card:t,"is-selected":e.selectedCard?.id===t?.id,onSelected:e.selected},null,8,["card","is-selected","onSelected"]))),128))]),(0,o.Lk)("footer",yg,[(0,o.Lk)("div",{class:"btn",onClick:t[1]||(t[1]=(...t)=>e.apply&&e.apply(...t))},[(0,o.bF)(d,{severity:"warning",title:"apply"})])])],512)])}const Eg={class:"overlay-folder"},wg=["title"];function Fg(e,t,a,l,s,n){const i=(0,o.g2)("font-awesome-icon"),r=(0,o.g2)("app-overlay-panel");return(0,o.uX)(),(0,o.CE)("div",{class:(0,c.C4)(["card",{cardSelected:e.isSelected}])},[(0,o.Lk)("div",{ref:"targetRef",class:"icon",onClick:t[0]||(t[0]=(...t)=>e.toggleCardOverlayPanel&&e.toggleCardOverlayPanel(...t))},[(0,o.bF)(i,{size:"sm",icon:["fas","ellipsis-v"]})],512),e.targetRef?((0,o.uX)(),(0,o.Wv)(r,{key:0,visible:e.visible,"onUpdate:visible":t[2]||(t[2]=t=>e.visible=t),width:150,target:e.targetRef,position:{x:"center",y:"bottom"}},{default:(0,o.k6)(()=>[(0,o.Lk)("div",Eg,[(0,o.Lk)("div",{class:"overlay-folder-item",onClick:t[1]||(t[1]=(...t)=>e.deleteTemplate&&e.deleteTemplate(...t))},[(0,o.bF)(i,{size:"sm",icon:["fas","fa-trash"]}),(0,o.Lk)("span",null,(0,c.v_)(e.t("delete")),1)])])]),_:1},8,["visible","target"])):(0,o.Q3)("",!0),(0,o.Lk)("div",{class:"segments",onClick:t[3]||(t[3]=(...t)=>e.selected&&e.selected(...t))},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.card.segments,e=>((0,o.uX)(),(0,o.CE)("div",{key:e,class:"segment",style:(0,c.Tr)({backgroundColor:e.color})},null,4))),128)),(0,o.Lk)("div",{class:"title",title:e.card.name},[(0,o.Lk)("span",null,(0,c.v_)(e.card.name),1)],8,wg)])],2)}var Ag=(0,o.pM)({components:{AppOverlayPanel:Ue},props:{card:{type:Object,required:!0},isSelected:{type:Boolean,default:!1},index:{type:Number,default:0}},emits:["selected"],setup(e,{emit:t}){const{t:a}=(0,r.s9)(),l=(0,i.Pj)(),o=(0,n.KR)(null),s=(0,n.KR)(!1),c=()=>{t("selected",e.card)},u=()=>{s.value=!s.value},d=async()=>{u(),await w(Il,{text:a("dywDelete"),title:a("delete")}).then(t=>{t&&l.dispatch("myPalette/deletePaletteTemplate",e.card.id)})};return{selected:c,t:a,targetRef:o,visible:s,toggleCardOverlayPanel:u,deleteTemplate:d}}});const Lg=(0,h.A)(Ag,[["render",Fg],["__scopeId","data-v-8c6e6a64"]]);var Ig=Lg,Sg=(0,o.pM)({components:{AppPaletteTemplateCard:Ig,AppLoader:Rl,AppInput:Pe,AppButton:zt,AppModalHeader:qa},props:{selectedTemplate:{type:Object,default:null}},emits:["resolve","reject","close"],setup(e,{emit:t}){const{t:a}=(0,r.s9)(),l=(0,i.Pj)(),s=(0,n.KR)(""),c=(0,n.KR)(e.selectedTemplate),u=(0,n.KR)(null),d=(0,n.KR)(!1),p=(0,o.EW)(()=>l.getters["authFirebase/getUserId"]),m=(0,o.EW)(()=>l.getters["myPalette/getPaletteTemplatesFilter"]),g=(0,o.EW)(()=>l.getters["myPalette/isLoading"]),v=(0,o.EW)(()=>l.getters["mobile/getDevice"]);(0,o.sV)(async()=>{await l.dispatch("myPalette/getPaletteTemplates",p.value)});const h=e=>{c.value=e},f=()=>{t("close")},b=()=>{d.value=!d.value},k=()=>{t("resolve",c.value)},y=()=>{"ios"===v.value&&hl().enable()},C=()=>{"ios"===v.value&&(hl().disable(),setTimeout(()=>window.scrollTo(0,0),50))};return(0,o.wB)(s,e=>{l.dispatch("myPalette/filterPaletteTemplates",e)}),{paletteTemplates:m,isLoading:g,selected:h,selectedCard:c,close:f,t:a,targetRef:u,visible:d,toggleCardOverlayPanel:b,apply:k,search:s,focusInput:y,focusOutInput:C}}});const Tg=(0,h.A)(Sg,[["render",Cg],["__scopeId","data-v-0da6cda5"]]);var Mg=Tg,Pg=(0,o.pM)({components:{AppColorPicker:Ji,AppButton:zt,AppEditorCanvas:Io,AppPopover:Ca,AppPopoverWrapper:va,AppPopoverItem:ua,AppCheckbox:Ta,AppSlider:sg},setup(){const e=(0,n.KR)(null),{t:t}=(0,r.s9)(),a=(0,n.KR)(),l=(0,i.Pj)(),s=(0,n.KR)(!1),c=(0,n.KR)(l.getters["myPalette/getFrameColors"]),u=(0,n.KR)(l.getters["myPalette/getNumberSegments"]),d=(0,n.KR)(null),p=(0,n.KR)(!1),m=(0,n.KR)(null),g=(0,n.KR)(!1),v=(0,n.KR)(l.getters["myPalette/getSelectedPaletteTemplate"]);let h=0;const f=new Map,b=(0,n.KR)(l.getters["myPalette/rememberImgMask"]),k=(0,o.EW)(()=>l.getters["myPalette/imgMask"]),y=(0,o.EW)(()=>l.getters["myPalette/getOriginalImgMask"]),C=(0,o.EW)(()=>l.getters["authFirebase/currentUser"]),E=(0,o.EW)(()=>"mobile"===l.getters["mobile/breakPoint"]),F=(0,o.EW)(()=>1===c.value.length?0:.003),A=(0,o.EW)(()=>!v.value||c.value.length===v.value.segments.length&&c.value.every((e,t)=>e.color===v.value?.segments[t].color));(0,o.sV)(()=>{if(b.value){const e=k.value;e&&L(e)}});const L=async e=>{d.value=await Ma(e),await l.dispatch("myPalette/uploadImgMask",{file:e})},I=async()=>{if(d.value){p.value=!0,s.value=!1;try{await l.dispatch("gallery/saveImageToGallery",{canvas:e.value?.getCanvasValue(),title:"",coloristicType:"mask",maskType:"",paletteType:"",userId:C.value?.uid})}finally{p.value=!1}}else await l.dispatch("toast/addToast",{message:"uploadImage",severity:"warning"})},S=()=>{s.value=!0},T=async()=>{const t=e.value?.getImageSrc();await w(Kl,{url:t,coloristicType:"mask",maskType:"",paletteType:"",currentUserId:C.value?.uid,canvas:e.value?.getCanvasValue(),imageUrl:d.value})},M=async()=>{s.value=!1;const e=y.value;let t=null;e&&(t=await Ma(e)),await w(to,{imageUrl:t}).then(e=>{e.originalFile&&l.dispatch("myPalette/setOriginalImgMask",{file:e.originalFile}),l.dispatch("myPalette/uploadImgMask",{file:e.file}),L(e.file)})},P=async e=>{"create"===e?await w(vg,{card:{segments:c.value}}):await w(vg,{id:v.value?.id,name:v.value?.name,card:{segments:c.value}}).then(e=>{e&&v.value&&(v.value={...v.value,name:e})})},B=async()=>{await w(Mg,{selectedTemplate:v.value}).then(e=>{e&&(v.value=e,c.value=e.segments,u.value=e.segments.length,b.value&&(l.dispatch("myPalette/setFrameColors",{frameColors:e.segments}),l.dispatch("myPalette/selectedTemplate",v.value)))})};(0,o.wB)(b,e=>{l.dispatch("myPalette/setRememberImgMask",{remember:e})});const D=()=>{e.value?.triggerSaveImage()},R=async()=>{await w(Go,{colorCards:[{segments:c.value}]}).then(e=>{l.dispatch("myPalette/uploadImgMask",{file:e.file}),L(e.file)})},x=e=>{h=e,f.has(e)&&f.get(e)?_(e,!1):_(e,!0)},_=(e,t)=>{c.value=c.value.map((t,a)=>a===e?{color:us}:{color:t.color===us?cs:t.color}),f.set(e,t),l.dispatch("myPalette/setFrameColors",{frameColors:c.value})};(0,o.wB)(u,e=>{const t=[];for(let a=0;a<e;a++){const e=v.value?{color:v.value.segments[a]?v.value.segments[a].color:cs}:{color:cs};t.push(e),c.value=t,b.value&&(l.dispatch("myPalette/setFrameColors",{frameColors:c.value}),l.dispatch("myPalette/setNumberSegments",u))}});const W=e=>{c.value=c.value.map((t,a)=>a===h?{color:e}:t),l.dispatch("myPalette/setFrameColors",{frameColors:c.value})},O=()=>{v.value=null,u.value=1,l.dispatch("myPalette/selectedTemplate",null)};return{frameColors:c,imageUrl:d,onFileSelected:L,visiblePopover:s,isMobile:E,openPopover:S,uploader:a,t:t,saveToGallery:I,isSaveToGallery:p,editorCanvasRef:e,rememberChoose:b,openImageModal:T,openImageSettingsModal:M,saveToDevice:D,openCameraModal:R,targetRef:m,visible:g,colorChange:W,slider:u,selectedSegment:x,gapBetweenSegments:F,openCreateTemplateModal:P,openPaletteTemplatesModal:B,templateRef:v,isChangeTemplate:A,cancelledTemplate:O}}});const Bg=(0,h.A)(Pg,[["render",Qm],["__scopeId","data-v-5414cdd6"]]);var Dg=Bg;const Rg={class:"color-consultation"},xg={class:"title-wrapper"},_g={class:"title"},Wg={class:"intro-card"},Og={class:"intro-content"},Vg={class:"intro-text"},Xg={class:"intro-text"},Kg={class:"intro-text highlight"},Ug={class:"benefits-section"},Gg={class:"benefits-title-wrapper"},Qg={class:"benefits-title"},zg={class:"benefits-grid"},Ng={class:"benefit-card"},jg={class:"benefit-icon"},Hg={class:"benefit-content"},Yg={class:"benefit-card"},qg={class:"benefit-icon"},Jg={class:"benefit-content"},Zg={class:"benefit-card"},$g={class:"benefit-icon"},ev={class:"benefit-content"},tv={class:"cta-section"},av={class:"cta-card"},lv={class:"cta-content"},ov={class:"cta-title-wrapper"},sv={class:"cta-title"},nv={class:"cta-title-wrapper"},iv={class:"cta-text"},rv={class:"action-buttons"};function cv(e,t,a,l,s,n){const i=(0,o.g2)("font-awesome-icon"),r=(0,o.g2)("app-button");return(0,o.uX)(),(0,o.CE)("section",Rg,[(0,o.Lk)("div",xg,[(0,o.Lk)("h2",_g,[t[0]||(t[0]=(0,o.Lk)("span",{class:"title-icon"},"🎨",-1)),(0,o.eW)(" "+(0,c.v_)(e.t("revealYourInherentElegance")),1)])]),(0,o.Lk)("div",Wg,[(0,o.Lk)("div",Og,[(0,o.Lk)("p",Vg,[(0,o.Lk)("strong",null,(0,c.v_)(e.t("haveYouEverContemplated")),1),(0,o.eW)(" "+(0,c.v_)(e.t("whyCertainHues")),1)]),(0,o.Lk)("p",Xg,(0,c.v_)(e.t("greedy")),1),(0,o.Lk)("p",Kg,[(0,o.bF)(i,{icon:["fas","bullseye"],class:"icon"}),(0,o.eW)(" "+(0,c.v_)(e.t("myGoal")),1)])]),t[1]||(t[1]=(0,o.Lk)("div",{class:"intro-image"},[(0,o.Lk)("div",{class:"color-wheel"})],-1))]),(0,o.Lk)("div",Ug,[(0,o.Lk)("div",Gg,[(0,o.Lk)("h3",Qg,[(0,o.bF)(i,{icon:["fas","gift"]}),(0,o.eW)(" "+(0,c.v_)(e.t("whatWilGain")),1)])]),(0,o.Lk)("div",zg,[(0,o.Lk)("div",Ng,[(0,o.Lk)("div",jg,[(0,o.bF)(i,{icon:["fas","piggy-bank"]})]),(0,o.Lk)("div",Hg,[(0,o.Lk)("h4",null,(0,c.v_)(e.t("recoveredTime")),1),(0,o.Lk)("p",null,(0,c.v_)(e.t("youWillCeaseAcquiring")),1)])]),(0,o.Lk)("div",Yg,[(0,o.Lk)("div",qg,[(0,o.bF)(i,{icon:["fas","check-double"]})]),(0,o.Lk)("div",Jg,[(0,o.Lk)("h4",null,(0,c.v_)(e.t("assuredSelection")),1),(0,o.Lk)("p",null,(0,c.v_)(e.t("youWillPossessPreciseClarity")),1)])]),(0,o.Lk)("div",Zg,[(0,o.Lk)("div",$g,[(0,o.bF)(i,{icon:["fas","palette"]})]),(0,o.Lk)("div",ev,[(0,o.Lk)("h4",null,(0,c.v_)(e.t("cohesiveHarmonious")),1),(0,o.Lk)("p",null,(0,c.v_)(e.t("youWillAppearMore")),1)])])])]),(0,o.Lk)("div",tv,[(0,o.Lk)("div",av,[(0,o.Lk)("div",lv,[(0,o.Lk)("div",ov,[(0,o.Lk)("h3",sv,(0,c.v_)(e.t("bidFarewell")),1)]),(0,o.Lk)("div",nv,[(0,o.Lk)("p",iv,[(0,o.eW)((0,c.v_)(e.t("togetherWeWillDiscover"))+" ",1),t[2]||(t[2]=(0,o.Lk)("span",{class:"highlight-text"},"💯",-1))])]),(0,o.Lk)("div",rv,[(0,o.bF)(r,{severity:"secondary",raised:"",icon:["fas","eye"],title:"demoLookbook",onClick:e.openPdfModal},null,8,["onClick"]),(0,o.bF)(r,{severity:"secondary",raised:"",icon:["fab","telegram"],title:"connectViaTelegram",onClick:e.openTelegram},null,8,["onClick"])])])])])])}const uv={class:"modal-content neon"},dv={class:"wrapper"},pv={key:1,class:"pdf-viewer"},mv=["src","title"],gv=["src","title"],vv=["src","title"],hv={class:"pdf-controls"},fv={class:"btn-close"};function bv(e,t,a,l,s,n){const i=(0,o.g2)("app-modal-header"),r=(0,o.g2)("AppLoader"),c=(0,o.g2)("app-button");return(0,o.uX)(),(0,o.CE)("div",uv,[(0,o.bF)(i,{title:e.fileName,onClose:e.close},null,8,["title","onClose"]),(0,o.Lk)("div",dv,[e.isLoading?((0,o.uX)(),(0,o.Wv)(r,{key:0})):(0,o.Q3)("",!0),e.isLoading?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",pv,["android"===e.device&&e.pdfBlobUrl?((0,o.uX)(),(0,o.CE)("iframe",{key:0,src:e.pdfBlobUrl,class:"pdf-iframe",title:`Просмотр ${e.fileName}`},null,8,mv)):"ios"===e.device?((0,o.uX)(),(0,o.CE)("embed",{key:1,src:e.pdfDirectUrl,type:"application/pdf",class:"pdf-embed",title:`Просмотр ${e.fileName}`},null,8,gv)):((0,o.uX)(),(0,o.CE)("iframe",{key:2,src:e.pdfDirectUrl,class:"pdf-iframe",title:`Просмотр ${e.fileName}`},null,8,vv))])),(0,o.Lk)("div",hv,[(0,o.Lk)("div",fv,[(0,o.bF)(c,{severity:"warning",title:"close",onClick:e.close},null,8,["onClick"])])])])])}var kv=(0,o.pM)({components:{AppButton:zt,AppLoader:Rl,AppModalHeader:qa},props:{fileName:{type:String,default:"lookbook.pdf"}},emits:["close"],setup(e,{emit:t}){const l=(0,i.Pj)(),s=(0,n.KR)(l.getters["mobile/getDevice"]),r=(0,n.KR)(!0),c=(0,n.KR)(""),u=(0,o.EW)(()=>{const t=a(9585)(`./${e.fileName}`);return"ios"===s.value?`${t}#page=1&view=FitH&scrollbar=1&toolbar=0&navpanes=0&zoom=page-width`:`${t}#view=FitH&zoom=page-width`}),d=async()=>{try{const t=await fetch(`/${e.fileName}`);if(!t.ok)throw new Error("Ошибка загрузки PDF");const a=await t.blob();c.value=URL.createObjectURL(a),r.value=!1}catch(t){console.error("Ошибка загрузки Blob:",t),r.value=!1}},p=()=>{c.value&&URL.revokeObjectURL(c.value),t("close")};return(0,o.sV)(()=>{"android"===s.value?d():r.value=!1,setTimeout(()=>{r.value&&(r.value=!1)},1e4)}),(0,o.hi)(()=>{c.value&&URL.revokeObjectURL(c.value)}),{isLoading:r,pdfBlobUrl:c,pdfDirectUrl:u,device:s,close:p}}});const yv=(0,h.A)(kv,[["render",bv],["__scopeId","data-v-5fab3ad6"]]);var Cv=yv,Ev=(0,o.pM)({components:{AppButton:zt},setup(){const{t:e}=(0,r.s9)(),t=(0,i.Pj)(),a=(0,o.EW)(()=>t.getters["mobile/getDevice"]),l=()=>{const e={telegram:"@Yuliyaa_S"};try{const t=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);t?(window.location.href=`tg://resolve?domain=${e.telegram.replace("@","")}`,setTimeout(()=>{window.open(`https://t.me/${e.telegram.replace("@","")}`,"_blank")},500)):window.open(`https://t.me/${e.telegram.replace("@","")}`,"_blank")}catch(t){console.error("Error opening Telegram:",t),window.open(`https://t.me/${e.telegram.replace("@","")}`,"_blank")}},s=()=>{w(Cv,{})};return(0,o.sV)(()=>{"ios"===a.value&&hl().disable()}),{openTelegram:l,t:e,openPdfModal:s}}});const wv=(0,h.A)(Ev,[["render",cv],["__scopeId","data-v-06eda3ac"]]);var Fv=wv;const Av={class:"color-container"},Lv={class:"color-wrapper"},Iv={key:0,class:"selected"},Sv={key:0,class:"arrows"},Tv={class:"selected-name"},Mv={class:"editor"},Pv={class:"selected-colors"},Bv={key:0,class:"empty-message"},Dv={class:"reminder"},Rv={key:0,class:"btns"},xv={class:"bnt-next"},_v={class:"bnt-next"},Wv={key:0,class:"btn filter"},Ov={key:0,class:"filter-fill"},Vv={key:1,class:"btn"},Xv={key:2,class:"btn"},Kv={key:0,class:"popover-filter-fill"};function Uv(e,t,a,s,n,i){const r=(0,o.g2)("app-color-card"),u=(0,o.g2)("font-awesome-icon"),d=(0,o.g2)("app-palette"),p=(0,o.g2)("app-button"),m=(0,o.g2)("app-popover-item"),g=(0,o.g2)("app-popover-wrapper"),v=(0,o.g2)("app-popover");return(0,o.uX)(),(0,o.CE)("div",Av,[(0,o.Lk)("div",Lv,[e.visibleSelectedSection?((0,o.uX)(),(0,o.CE)("section",Iv,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.palettesCards.slice(e.startPalette,e.endPalette),t=>((0,o.uX)(),(0,o.Wv)(r,{key:t.id,index:e.order(t),card:t,"is-selected":e.selectedCard?.id===t?.id,onSelected:e.selected},null,8,["index","card","is-selected","onSelected"]))),128)),e.palettesCards.length>6?((0,o.uX)(),(0,o.CE)("div",Sv,[(0,o.bF)(u,{class:"arrow left",size:e.isMobile?"sm":"2xl",icon:["fas","arrow-left"],onClick:e.nextPalette},null,8,["size","onClick"]),(0,o.bF)(u,{class:"arrow right",size:e.isMobile?"sm":"2xl",icon:["fas","arrow-right"],onClick:e.nextPalette},null,8,["size","onClick"])])):(0,o.Q3)("",!0),(0,o.Lk)("span",Tv,(0,c.v_)(e.t(e.selectedCard.name)),1)])):(0,o.Q3)("",!0),e.isMobile?((0,o.uX)(),(0,o.CE)("div",{key:1,class:"chevron",onClick:t[0]||(t[0]=(...t)=>e.toggleSelectedSection&&e.toggleSelectedSection(...t))},[(0,o.bF)(u,{icon:["fas",e.visibleSelectedSection?"chevron-down":"chevron-up"],size:"xl"},null,8,["icon"])])):(0,o.Q3)("",!0),(0,o.Lk)("section",Mv,[(0,o.bF)(d,{item:e.selectedCard,gap:"8px",width:e.isMobile?"160px":"200px","selected-mode":!0,"selected-colors":e.selectedColors,onSelectedColor:t[1]||(t[1]=t=>e.selectedColor(t))},null,8,["item","width","selected-colors"]),(0,o.Lk)("div",Pv,[0===e.selectedColors.size?((0,o.uX)(),(0,o.CE)("div",Bv,[(0,o.Lk)("span",Dv,[(0,o.bF)(u,{size:"xl",icon:["fas","exclamation-triangle"]}),(0,o.eW)(" "+(0,c.v_)(e.t("selectTopColors")),1)])])):((0,o.uX)(!0),(0,o.CE)(o.FK,{key:1},(0,o.pI)(e.selectedColors,e=>((0,o.uX)(),(0,o.CE)("div",{key:e,class:"selected-color",style:(0,c.Tr)({background:e})},null,4))),128))]),e.isMobile?((0,o.uX)(),(0,o.CE)("div",Rv,[(0,o.Lk)("div",xv,[(0,o.bF)(p,{raised:"",severity:"secondary",title:"reset",onClick:e.cancelledTemplate},null,8,["onClick"])]),(0,o.Lk)("div",_v,[(0,o.bF)(p,{severity:"success",title:"next",onClick:e.nextStep},null,8,["onClick"])])])):(0,o.Q3)("",!0)]),(0,o.Lk)("section",{class:(0,c.C4)(["buttons",{isMobile:e.isMobile}])},[e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",Wv,[(0,o.bF)(p,{raised:"",severity:"secondary",icon:["fas","filter"],title:"filter",onClick:e.openPaletteSettings},null,8,["onClick"]),e.isCompareFilter?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",Ov))])),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",Vv,[(0,o.bF)(p,{raised:"",icon:["fas","undo"],severity:"secondary",title:"reset",onClick:e.cancelledTemplate},null,8,["onClick"])])),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",Xv,[(0,o.bF)(p,{severity:"success",title:"next",onClick:e.nextStep},null,8,["onClick"])])),e.isMobile?((0,o.uX)(),(0,o.Wv)(u,{key:3,icon:["fas","ellipsis-h"],size:"xl",onClick:(0,l.D$)(e.openPopover,["stop"])},null,8,["onClick"])):(0,o.Q3)("",!0)],2)]),(0,o.bF)(v,{visible:e.visiblePopover,"onUpdate:visible":t[2]||(t[2]=t=>e.visiblePopover=t)},{default:(0,o.k6)(()=>[(0,o.bF)(g,null,{default:(0,o.k6)(()=>[(0,o.bF)(m,{onClick:e.openPaletteSettings},{default:(0,o.k6)(()=>[(0,o.bF)(u,{size:"xl",icon:["fas","filter"]}),(0,o.Lk)("span",null,(0,c.v_)(e.t("filter")),1),e.isCompareFilter?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",Kv))]),_:1},8,["onClick"])]),_:1})]),_:1},8,["visible"])])}var Gv=(0,o.pM)({components:{AppPalette:zu,AppColorCard:Eo,AppPopoverItem:ua,AppPopoverWrapper:va,AppPopover:Ca,AppButton:zt},setup(e){const{t:t}=(0,r.s9)(),a=(0,i.Pj)(),l=(0,P.rd)(),s=(0,n.KR)(!1),c=(0,n.KR)(null),u=(0,n.KR)(),d=(0,n.KR)(null),p=(0,n.KR)(!0),m=(0,n.KR)(a.getters["cutPaletteColors/getSelectedColors"]),g=()=>{const e=a.getters["cutPaletteColors/getSettingsMap"].fullFill;return e?Yn:Hn},v=(e,t)=>({id:e,name:e,colors:t,segments:t.map(e=>({color:e}))}),h=(e,t)=>Object.entries(e).filter(([e])=>t[e]).map(([e,t])=>v(e,t)),f=(0,n.KR)(h(g(),a.getters["cutPaletteColors/getSettingsMap"].palette)),b=(0,n.KR)(0),k=(0,n.KR)(6),y=(0,o.EW)(()=>"mobile"===a.getters["mobile/breakPoint"]),C=(0,o.EW)(()=>a.getters["cutPaletteColors/isCompareFilter"]);(0,o.KC)(()=>{I()});const E=e=>{c.value=e,u.value=e.colors.map(e=>({color:e}))},F=()=>{s.value=!0},A=()=>{0===b.value?T():S()},L=async()=>{await w(vm,{fullFill:a.getters["cutPaletteColors/getSettings"].fullFill,onlySoft:a.getters["cutPaletteColors/getSettings"].onlySoft,onlyBright:a.getters["cutPaletteColors/getSettings"].onlyBright,onlyCold:a.getters["cutPaletteColors/getSettings"].onlyCold,onlyWarm:a.getters["cutPaletteColors/getSettings"].onlyWarm,onlyLight:a.getters["cutPaletteColors/getSettings"].onlyLight,onlyDark:a.getters["cutPaletteColors/getSettings"].onlyDark}).then(e=>{a.dispatch("cutPaletteColors/setSettings",e),f.value=h(g(),a.getters["cutPaletteColors/getSettingsMap"].palette),S(),I(),m.value=new Set})},I=()=>{const[e]=f.value;c.value=e,u.value=e.colors.map(e=>({color:e}))},S=()=>{b.value=0,k.value=6},T=()=>{b.value=6,k.value=12},M=e=>f.value.findIndex(t=>t.id===e.id),B=e=>{e.selected?m.value.add(e.color):m.value.delete(e.color),m.value=new Set(m.value),a.dispatch("cutPaletteColors/selectedColors",m.value)},D=()=>{m.value=new Set,a.dispatch("cutPaletteColors/selectedColors",m.value)},R=()=>{0!==m.value.size?l.push("/main/cut-palette-color/edit"):a.dispatch("toast/addToast",{message:"selectOneColor",severity:"warning"})},x=()=>{p.value=!p.value};return(0,o.sV)(()=>{hl().disable()}),{frameColors:u,selected:E,selectedCard:c,visiblePopover:s,isMobile:y,openPopover:F,t:t,palettesCards:f,targetRef:d,endPalette:k,startPalette:b,nextPalette:A,openPaletteSettings:L,order:M,isCompareFilter:C,selectedColor:B,selectedColors:m,cancelledTemplate:D,nextStep:R,visibleSelectedSection:p,toggleSelectedSection:x}}});const Qv=(0,h.A)(Gv,[["render",Uv],["__scopeId","data-v-50443918"]]);var zv=Qv;const Nv={class:"canvas-editor"},jv={key:0,class:"mobile-helpers"},Hv={class:"goBack"},Yv={key:0,class:"layout-settings"},qv={class:"mobile-first-step"},Jv={class:"shape-buttons"},Zv={class:"icon"},$v={class:"icon"},eh={class:"icon"},th={class:"transform-icon"},ah={key:1,class:"layout-settings"},lh={class:"shadow-controls"},oh={class:"mobile-label"},sh={class:"mobile-label"},nh={class:"mobile-label"},ih={key:2,class:"layout-settings"},rh={class:"mobile-label"},ch={class:"mobile-label"},uh={class:"mobile-auto-layout"},dh={key:0,class:"info-item auto-layout"},ph={class:"info-badge"},mh={key:0,class:"grid-info"},gh={class:"info-item"},vh={class:"info-label"},hh={class:"info-value"},fh={class:"info-item"},bh={class:"info-label"},kh={class:"info-value"},yh={key:3,class:"layout-settings"},Ch={class:"mobile-label"},Eh={class:"mobile-label"},wh={class:"arrows"},Fh={ref:"containerRef",class:"canvas-container"},Ah={ref:"canvasRef",class:"high-quality-canvas"},Lh={key:1,class:"controls"},Ih={class:"goBack"},Sh={class:"layout-settings"},Th={class:"shape-selector"},Mh={class:"shape-buttons"},Ph={class:"icon"},Bh={class:"icon"},Dh={class:"icon"},Rh={class:"transform-title"},xh={class:"transform-wrapper"},_h={class:"transform-icon"},Wh={class:"layout-settings"},Oh={class:"setting-item"},Vh={key:0,class:"shadow-controls"},Xh={class:"setting-item"},Kh={class:"setting-item"},Uh={class:"setting-item"},Gh={class:"layout-settings"},Qh={key:0,class:"grid-info"},zh={class:"info-item"},Nh={class:"info-label"},jh={class:"info-value"},Hh={class:"info-item"},Yh={class:"info-label"},qh={class:"info-value"},Jh={key:0,class:"info-item auto-layout"},Zh={class:"info-badge"},$h={class:"setting-item"},ef={class:"setting-item"},tf={class:"setting-item"},af={class:"layout-settings"},lf={class:"setting-item"},of={class:"setting-item"},sf={class:"action-buttons"},nf={class:"btn"},rf={class:"btn"},cf={class:"btn"},uf={class:"buttons"};function df(e,t,a,s,n,i){const r=(0,o.g2)("font-awesome-icon"),u=(0,o.g2)("router-link"),d=(0,o.g2)("app-button"),p=(0,o.g2)("app-slider"),m=(0,o.g2)("AppCheckbox"),g=(0,o.g2)("app-popover-item"),v=(0,o.g2)("app-popover-wrapper"),h=(0,o.g2)("app-popover");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",Nv,[e.isMobile?((0,o.uX)(),(0,o.CE)("section",jv,[(0,o.Lk)("div",Hv,[(0,o.bF)(u,{to:{name:"cut-palette-color-view"}},{default:(0,o.k6)(()=>[(0,o.bF)(r,{size:"sm",icon:["fas","arrow-left"]}),(0,o.eW)(" "+(0,c.v_)(e.t("goBack")),1)]),_:1})]),(0,o.bF)(d,{severity:"secondary",raised:"",icon:["fas","gear"],onClick:e.toggleVisibleSettingsMobile},null,8,["onClick"])])):(0,o.Q3)("",!0),((0,o.uX)(),(0,o.Wv)(o.Im,{to:"body"},[e.isMobile&&e.visibleSettingsMobile?((0,o.uX)(),(0,o.CE)("section",{key:0,class:"settings-mobile",onClick:t[13]||(t[13]=(0,l.D$)((...t)=>e.toggleVisibleSettingsMobile&&e.toggleVisibleSettingsMobile(...t),["self"]))},[(0,o.Lk)("section",null,[1===e.step?((0,o.uX)(),(0,o.CE)("div",Yv,[(0,o.Lk)("div",qv,[(0,o.Lk)("h3",null,(0,c.v_)(e.t("shapeOfElements")),1),(0,o.Lk)("div",Jv,[(0,o.Lk)("div",Zv,[(0,o.bF)(r,{size:"2xl",icon:["fas","square"],class:(0,c.C4)({active:"square"===e.selectedShape}),onClick:t[0]||(t[0]=t=>e.selectedShape="square")},null,8,["class"])]),(0,o.Lk)("div",$v,[(0,o.bF)(r,{size:"2xl",icon:["fas","circle"],class:(0,c.C4)({active:"circle"===e.selectedShape}),onClick:t[1]||(t[1]=t=>e.selectedShape="circle")},null,8,["class"])]),(0,o.Lk)("div",eh,[(0,o.bF)(r,{size:"2xl",icon:["fas","play"],class:(0,c.C4)({active:"triangle"===e.selectedShape}),onClick:t[2]||(t[2]=t=>e.selectedShape="triangle")},null,8,["class"])])]),(0,o.Lk)("h3",null,(0,c.v_)(e.t("transformation")),1),(0,o.Lk)("div",th,[(0,o.bF)(r,{size:"xl",icon:["fas","undo"],onClick:e.rotateCanvas},null,8,["onClick"])])])])):(0,o.Q3)("",!0),2===e.step?((0,o.uX)(),(0,o.CE)("div",ah,[(0,o.Lk)("h3",null,(0,c.v_)(e.t("shadowSettings")),1),(0,o.Lk)("div",lh,[(0,o.Lk)("div",null,[(0,o.Lk)("label",oh,(0,c.v_)(e.t("intensity"))+": "+(0,c.v_)(e.shadowBlur)+"px",1),(0,o.bF)(p,{modelValue:e.shadowBlur,"onUpdate:modelValue":t[3]||(t[3]=t=>e.shadowBlur=t),min:0,max:20},null,8,["modelValue"])]),(0,o.Lk)("div",null,[(0,o.Lk)("label",sh,(0,c.v_)(e.t("yOffset"))+": "+(0,c.v_)(e.shadowOffsetY)+"px",1),(0,o.bF)(p,{modelValue:e.shadowOffsetY,"onUpdate:modelValue":t[4]||(t[4]=t=>e.shadowOffsetY=t),min:0,max:10},null,8,["modelValue"])]),(0,o.Lk)("div",null,[(0,o.Lk)("label",nh,(0,c.v_)(e.t("transparency"))+": "+(0,c.v_)(e.shadowOpacity)+"%",1),(0,o.bF)(p,{modelValue:e.shadowOpacity,"onUpdate:modelValue":t[5]||(t[5]=t=>e.shadowOpacity=t),min:0,max:100},null,8,["modelValue"])])])])):(0,o.Q3)("",!0),3===e.step?((0,o.uX)(),(0,o.CE)("div",ih,[(0,o.Lk)("h3",null,(0,c.v_)(e.t("arrangementElements")),1),(0,o.Lk)("div",null,[(0,o.Lk)("label",rh,(0,c.v_)(e.t("columns"))+": "+(0,c.v_)(e.columns),1),(0,o.bF)(p,{modelValue:e.columns,"onUpdate:modelValue":t[6]||(t[6]=t=>e.columns=t),min:1,max:20},null,8,["modelValue"])]),(0,o.Lk)("div",null,[(0,o.Lk)("label",ch,(0,c.v_)(e.t("rows"))+": "+(0,c.v_)(e.rows),1),(0,o.bF)(p,{modelValue:e.rows,"onUpdate:modelValue":t[7]||(t[7]=t=>e.rows=t),min:1,max:20},null,8,["modelValue"])]),(0,o.Lk)("div",uh,[(0,o.bF)(m,{modelValue:e.autoLayout,"onUpdate:modelValue":t[8]||(t[8]=t=>e.autoLayout=t),label:"autoSelection"},null,8,["modelValue"]),e.autoLayout?((0,o.uX)(),(0,o.CE)("div",dh,[(0,o.Lk)("span",ph,(0,c.v_)(e.t("auto")),1)])):(0,o.Q3)("",!0)]),e.displayColors.length>0?((0,o.uX)(),(0,o.CE)("div",mh,[(0,o.Lk)("div",gh,[(0,o.Lk)("span",vh,(0,c.v_)(e.t("colors"))+":",1),(0,o.Lk)("span",hh,(0,c.v_)(e.visibleCount)+" "+(0,c.v_)(e.t("of"))+" "+(0,c.v_)(e.totalCount),1)]),(0,o.Lk)("div",fh,[(0,o.Lk)("span",bh,(0,c.v_)(e.t("grid"))+":",1),(0,o.Lk)("span",kh,(0,c.v_)(e.actualLayout.columns)+" × "+(0,c.v_)(Math.min(e.actualLayout.rows,Math.ceil(e.totalCount/e.actualLayout.columns))),1)])])):(0,o.Q3)("",!0)])):(0,o.Q3)("",!0),4===e.step?((0,o.uX)(),(0,o.CE)("div",yh,[(0,o.Lk)("h3",null,(0,c.v_)(e.t("sizingSettings")),1),(0,o.Lk)("div",null,[(0,o.Lk)("label",Ch,(0,c.v_)(e.t("elementSize"))+": "+(0,c.v_)(e.elementSize)+"px",1),(0,o.bF)(p,{modelValue:e.elementSize,"onUpdate:modelValue":t[9]||(t[9]=t=>e.elementSize=t),min:10,max:100},null,8,["modelValue"])]),(0,o.Lk)("div",null,[(0,o.Lk)("label",Eh,(0,c.v_)(e.t("spaceBetweenElements"))+": "+(0,c.v_)(e.spacing)+"px",1),(0,o.bF)(p,{modelValue:e.spacing,"onUpdate:modelValue":t[10]||(t[10]=t=>e.spacing=t),min:0,max:50},null,8,["modelValue"])])])):(0,o.Q3)("",!0),(0,o.Lk)("div",wh,[(0,o.bF)(r,{class:"arrow left",size:e.isMobile?"sm":"2xl",icon:["fas","arrow-left"],onClick:t[11]||(t[11]=t=>e.nextSection(1))},null,8,["size"]),(0,o.bF)(r,{class:"arrow right",size:e.isMobile?"sm":"2xl",icon:["fas","arrow-right"],onClick:t[12]||(t[12]=t=>e.nextSection(-1))},null,8,["size"])])])])):(0,o.Q3)("",!0)])),(0,o.Lk)("div",Fh,[(0,o.Lk)("canvas",Ah,null,512)],512),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",Lh,[(0,o.Lk)("div",Ih,[(0,o.bF)(u,{to:{name:"cut-palette-color-view"}},{default:(0,o.k6)(()=>[(0,o.bF)(r,{size:"sm",icon:["fas","arrow-left"]}),(0,o.eW)(" "+(0,c.v_)(e.t("goBack")),1)]),_:1})]),(0,o.Lk)("div",Sh,[(0,o.Lk)("div",Th,[(0,o.Lk)("section",null,[(0,o.Lk)("h3",null,(0,c.v_)(e.t("shapeOfElements")),1),(0,o.Lk)("div",Mh,[(0,o.Lk)("div",Ph,[(0,o.bF)(r,{size:"2xl",icon:["fas","square"],class:(0,c.C4)({active:"square"===e.selectedShape}),onClick:t[14]||(t[14]=t=>e.selectedShape="square")},null,8,["class"])]),(0,o.Lk)("div",Bh,[(0,o.bF)(r,{size:"2xl",icon:["fas","circle"],class:(0,c.C4)({active:"circle"===e.selectedShape}),onClick:t[15]||(t[15]=t=>e.selectedShape="circle")},null,8,["class"])]),(0,o.Lk)("div",Dh,[(0,o.bF)(r,{size:"2xl",icon:["fas","play"],class:(0,c.C4)({active:"triangle"===e.selectedShape}),onClick:t[16]||(t[16]=t=>e.selectedShape="triangle")},null,8,["class"])])])]),(0,o.Lk)("section",null,[(0,o.Lk)("h3",Rh,(0,c.v_)(e.t("transformation")),1),(0,o.Lk)("div",xh,[(0,o.Lk)("div",_h,[(0,o.bF)(r,{size:"xl",icon:["fas","undo"],onClick:e.rotateCanvas},null,8,["onClick"])])])])])]),(0,o.Lk)("div",Wh,[(0,o.Lk)("h3",null,(0,c.v_)(e.t("shadowSettings")),1),(0,o.Lk)("div",Oh,[(0,o.bF)(m,{modelValue:e.enableShadow,"onUpdate:modelValue":t[17]||(t[17]=t=>e.enableShadow=t),label:"enableShadow"},null,8,["modelValue"])]),e.enableShadow?((0,o.uX)(),(0,o.CE)("div",Vh,[(0,o.Lk)("div",Xh,[(0,o.Lk)("label",null,(0,c.v_)(e.t("intensity"))+":",1),(0,o.bF)(p,{modelValue:e.shadowBlur,"onUpdate:modelValue":t[18]||(t[18]=t=>e.shadowBlur=t),min:0,max:20},null,8,["modelValue"]),(0,o.Lk)("span",null,(0,c.v_)(e.shadowBlur)+"px",1)]),(0,o.Lk)("div",Kh,[(0,o.Lk)("label",null,(0,c.v_)(e.t("yOffset"))+":",1),(0,o.bF)(p,{modelValue:e.shadowOffsetY,"onUpdate:modelValue":t[19]||(t[19]=t=>e.shadowOffsetY=t),min:0,max:10},null,8,["modelValue"]),(0,o.Lk)("span",null,(0,c.v_)(e.shadowOffsetY)+"px",1)]),(0,o.Lk)("div",Uh,[(0,o.Lk)("label",null,(0,c.v_)(e.t("transparency"))+":",1),(0,o.bF)(p,{modelValue:e.shadowOpacity,"onUpdate:modelValue":t[20]||(t[20]=t=>e.shadowOpacity=t),min:0,max:100},null,8,["modelValue"]),(0,o.Lk)("span",null,(0,c.v_)(e.shadowOpacity)+"%",1)])])):(0,o.Q3)("",!0)]),(0,o.Lk)("div",Gh,[(0,o.Lk)("h3",null,(0,c.v_)(e.t("arrangementElements")),1),e.displayColors.length>0?((0,o.uX)(),(0,o.CE)("div",Qh,[(0,o.Lk)("div",zh,[(0,o.Lk)("span",Nh,(0,c.v_)(e.t("colors"))+":",1),(0,o.Lk)("span",jh,(0,c.v_)(e.visibleCount)+" "+(0,c.v_)(e.t("of"))+" "+(0,c.v_)(e.totalCount),1)]),(0,o.Lk)("div",Hh,[(0,o.Lk)("span",Yh,(0,c.v_)(e.t("grid"))+":",1),(0,o.Lk)("span",qh,(0,c.v_)(e.actualLayout.columns)+" × "+(0,c.v_)(Math.min(e.actualLayout.rows,Math.ceil(e.totalCount/e.actualLayout.columns))),1)]),e.autoLayout?((0,o.uX)(),(0,o.CE)("div",Jh,[(0,o.Lk)("span",Zh,(0,c.v_)(e.t("auto")),1)])):(0,o.Q3)("",!0)])):(0,o.Q3)("",!0),(0,o.Lk)("div",null,[(0,o.Lk)("div",$h,[(0,o.Lk)("label",null,(0,c.v_)(e.t("columns"))+": ",1),(0,o.bF)(p,{modelValue:e.columns,"onUpdate:modelValue":t[21]||(t[21]=t=>e.columns=t),min:1,max:20},null,8,["modelValue"]),(0,o.Lk)("span",null,(0,c.v_)(e.columns),1)]),(0,o.Lk)("div",ef,[(0,o.Lk)("label",null,(0,c.v_)(e.t("rows"))+": ",1),(0,o.bF)(p,{modelValue:e.rows,"onUpdate:modelValue":t[22]||(t[22]=t=>e.rows=t),min:1,max:20},null,8,["modelValue"]),(0,o.Lk)("span",null,(0,c.v_)(e.rows),1)]),(0,o.Lk)("div",tf,[(0,o.bF)(m,{modelValue:e.autoLayout,"onUpdate:modelValue":t[23]||(t[23]=t=>e.autoLayout=t),label:"autoSelection"},null,8,["modelValue"])])])]),(0,o.Lk)("div",af,[(0,o.Lk)("h3",null,(0,c.v_)(e.t("sizingSettings")),1),(0,o.Lk)("div",lf,[(0,o.Lk)("label",null,(0,c.v_)(e.t("elementSize"))+":",1),(0,o.bF)(p,{modelValue:e.elementSize,"onUpdate:modelValue":t[24]||(t[24]=t=>e.elementSize=t),min:10,max:100},null,8,["modelValue"]),(0,o.Lk)("span",null,(0,c.v_)(e.elementSize)+"px",1)]),(0,o.Lk)("div",of,[(0,o.Lk)("label",null,(0,c.v_)(e.t("spaceBetweenElements"))+":",1),(0,o.bF)(p,{modelValue:e.spacing,"onUpdate:modelValue":t[25]||(t[25]=t=>e.spacing=t),min:0,max:50},null,8,["modelValue"]),(0,o.Lk)("span",null,(0,c.v_)(e.spacing)+"px",1)])]),(0,o.Lk)("section",sf,[(0,o.Lk)("div",nf,[(0,o.bF)(d,{severity:"success",title:"download",onClick:e.saveToDevice},null,8,["onClick"])]),(0,o.Lk)("div",rf,[(0,o.bF)(d,{severity:"warning",title:"saveToGallery",loading:e.isSaveToGallery,onClick:e.saveToGallery},null,8,["loading","onClick"])]),(0,o.Lk)("div",cf,[(0,o.bF)(d,{severity:"info",title:"addSign",onClick:e.openImageModal},null,8,["onClick"])])])])),(0,o.Lk)("section",uf,[e.isMobile?((0,o.uX)(),(0,o.Wv)(r,{key:0,icon:["fas","ellipsis-h"],size:"xl",onClick:(0,l.D$)(e.openPopover,["stop"])},null,8,["onClick"])):(0,o.Q3)("",!0)])]),(0,o.bF)(h,{visible:e.visiblePopover,"onUpdate:visible":t[26]||(t[26]=t=>e.visiblePopover=t)},{default:(0,o.k6)(()=>[(0,o.bF)(v,null,{default:(0,o.k6)(()=>[(0,o.bF)(g,{onClick:e.saveToDevice},{default:(0,o.k6)(()=>[(0,o.bF)(r,{size:"xl",icon:["fas","download"]}),(0,o.Lk)("span",null,(0,c.v_)(e.t("download")),1)]),_:1},8,["onClick"])]),_:1}),(0,o.bF)(v,null,{default:(0,o.k6)(()=>[(0,o.bF)(g,{onClick:e.saveToGallery},{default:(0,o.k6)(()=>[(0,o.bF)(r,{size:"xl",icon:["fas","images"]}),(0,o.Lk)("span",null,(0,c.v_)(e.t("saveToGallery")),1)]),_:1},8,["onClick"]),(0,o.bF)(g,{onClick:e.openImageModal},{default:(0,o.k6)(()=>[(0,o.bF)(r,{size:"xl",icon:["fas","fa-pencil-square"]}),(0,o.Lk)("span",null,(0,c.v_)(e.t("addSign")),1)]),_:1},8,["onClick"])]),_:1})]),_:1},8,["visible"])],64)}var pf=(0,o.pM)({name:"CanvasColorsEditor",components:{AppPopover:Ca,AppPopoverWrapper:va,AppPopoverItem:ua,AppSlider:sg,AppCheckbox:Ta,AppButton:zt},setup(){const{t:e}=(0,r.s9)(),t=(0,i.Pj)(),a=(0,o.EW)(()=>"mobile"===t.getters["mobile/breakPoint"]),l=(0,n.KR)(null),s=(0,n.KR)(null),c=(0,n.KR)(null),u=(0,n.KR)(null),d=(0,n.KR)(1),p=(0,n.KR)(!1),m=(0,n.KR)(!1),g=(0,n.KR)(!1),v=(0,n.KR)("square"),h=(0,n.KR)(40),f=(0,n.KR)(10),b=(0,n.KR)(!0),k=(0,n.KR)(5),y=(0,n.KR)(4),C=(0,n.KR)(!1),E=(0,n.KR)(!0),F=(0,n.KR)(10),A=(0,n.KR)(4),L=(0,n.KR)(20),I=(0,n.KR)(!1),S=(0,n.KR)(1),T=(0,n.KR)(!1),M=(0,n.KR)(!1),P=(0,n.KR)(0),B=(0,o.EW)(()=>t.getters["authFirebase/currentUser"]),D=(0,o.EW)(()=>{const e=t.getters["cutPaletteColors/getSelectedColors"];return Array.from(e||[])}),R=(0,o.EW)(()=>[...D.value]),x=(0,o.EW)(()=>R.value.length),_=(0,o.EW)(()=>{const e=V.value.columns*V.value.rows;return Math.min(x.value,e)}),W=()=>{if(!l.value)return{width:0,height:0};const e=l.value,t=window.getComputedStyle(e),a=e.clientWidth-parseFloat(t.paddingLeft)-parseFloat(t.paddingRight),o=e.clientHeight-parseFloat(t.paddingTop)-parseFloat(t.paddingBottom);return{width:Math.max(1,a),height:Math.max(1,o)}},O=()=>{if(!l.value||!1===C.value)return{columns:k.value,rows:y.value};const e=W(),t=h.value,a=f.value,o=Math.max(1,Math.floor((e.width+a)/(t+a))),s=Math.max(1,Math.floor((e.height+a)/(t+a))),n=R.value.length;let i=o,r=s;if(n>0){const t=e.width/e.height;if(n<=o*s){r=Math.ceil(Math.sqrt(n/t)),i=Math.ceil(n/r),i=Math.min(i,o),r=Math.min(r,s);while(i*r<n&&(i<o||r<s))i<o&&(i<=r||r>=s)?i++:r<s&&r++}else i=o,r=s}return{columns:Math.max(1,i),rows:Math.max(1,r)}},V=(0,o.EW)(()=>C.value?O():{columns:k.value,rows:y.value}),X=()=>{c.value&&(c.value.imageSmoothingEnabled=I.value,c.value.imageSmoothingQuality="high",K())},K=()=>{if(!s.value||!l.value||0===R.value.length)return;const e=W(),t=s.value;if(c.value=t.getContext("2d",{alpha:!0,desynchronized:!1}),!c.value)return;S.value=Math.min(window.devicePixelRatio||1,2);const a=e.width,o=e.height;t.width=Math.floor(a*S.value),t.height=Math.floor(o*S.value),t.style.width=`${a}px`,t.style.height=`${o}px`,c.value.imageSmoothingEnabled=I.value,c.value.imageSmoothingQuality=I.value?"high":"low",c.value.clearRect(0,0,t.width,t.height),c.value.save(),c.value.scale(S.value,S.value),U(c.value,a,o);const n=h.value,i=f.value,r=V.value.columns,u=V.value.rows,d=Math.min(R.value.length,r*u);let p=i/2,m=i/2;if(b.value){const e=r*n+(r-1)*i;p=(a-e)/2,p=Math.max(i/2,p);const t=Math.min(Math.ceil(d/r),u),l=t*n+(t-1)*i;m=(o-l)/2,m=Math.max(i/2,m)}for(let l=0;l<d;l++){const e=R.value[l],t=Math.floor(l/r),s=l%r;let u=Math.round(p+s*(n+i)),g=Math.round(m+t*(n+i));const h=Math.min(r,d-t*r);if(b.value&&h<r){const e=h*n+(h-1)*i;u=Math.round((a-e)/2+s*(n+i))}if(T.value&&(u=Math.round(a-u-n)),M.value&&(g=Math.round(o-g-n)),c.value.fillStyle=e,c.value.strokeStyle="rgba(0, 0, 0, 0.1)",c.value.lineWidth=1,E.value){const e=L.value/100;c.value.shadowColor=`rgba(0, 0, 0, ${e})`,c.value.shadowBlur=F.value*S.value,c.value.shadowOffsetX=0,c.value.shadowOffsetY=A.value*S.value}else c.value.shadowColor="transparent",c.value.shadowBlur=0,c.value.shadowOffsetX=0,c.value.shadowOffsetY=0;const f=Math.round(n);switch(v.value){case"square":G(c.value,u,g,f);break;case"circle":Q(c.value,u,g,f);break;case"triangle":z(c.value,u,g,f);break}c.value.shadowColor="transparent",c.value.shadowBlur=0,c.value.shadowOffsetX=0,c.value.shadowOffsetY=0}c.value.restore()},U=(e,t,a)=>{e.translate(t/2,a/2),e.rotate(P.value*Math.PI/180),T.value&&e.scale(-1,1),M.value&&e.scale(1,-1),e.translate(-t/2,-a/2)},G=(e,t,a,l)=>{const o=Math.round(t),s=Math.round(a),n=Math.round(l);e.beginPath(),e.rect(o,s,n,n),e.fill(),e.stroke()},Q=(e,t,a,l)=>{const o=Math.round(t+l/2),s=Math.round(a+l/2),n=Math.round(l/2);e.beginPath(),e.arc(o,s,n,0,2*Math.PI),e.fill(),e.stroke()},z=(e,t,a,l)=>{const o=Math.round(t+l/2),s=l*(Math.sqrt(3)/2);e.beginPath(),e.moveTo(o,Math.round(a+(l-s)/2)),e.lineTo(Math.round(t),Math.round(a+l-(l-s)/2)),e.lineTo(Math.round(t+l),Math.round(a+l-(l-s)/2)),e.closePath(),e.fill(),e.stroke()},N=()=>{P.value=(P.value+90)%360},j=()=>{T.value=!1,M.value=!1,P.value=0},H=()=>{l.value&&"undefined"!==typeof ResizeObserver&&(u.value=new ResizeObserver(()=>{requestAnimationFrame(()=>{K()})}),u.value.observe(l.value))};(0,o.wB)([v,h,f,T,M,P,b,k,y,C,R,E,F,A,L,I],()=>{K()}),(0,o.sV)(()=>{H(),setTimeout(()=>{K()},100)}),(0,o.hi)(()=>{u.value&&u.value.disconnect()});const Y=()=>{if(!s.value)return;const e=s.value.toDataURL("image/png"),t=document.createElement("a");t.href=e,t.download="colors",t.click()},q=e=>{1!==d.value||-1!==e?4!==d.value||1!==e?d.value=d.value+e:d.value=1:d.value=4},J=()=>{p.value=!p.value},Z=async()=>{m.value=!0,g.value=!1;try{await t.dispatch("gallery/saveImageToGallery",{canvas:s.value,title:"",coloristicType:"",maskType:"",userId:B.value?.uid,paletteType:""})}finally{m.value=!1}},$=async()=>{const e=s.value?s.value.toDataURL("image/png"):"";await w(Kl,{url:e,coloristicType:"",maskType:"",currentUserId:B.value?.uid,canvas:s.value,imageUrl:e})},ee=()=>{g.value=!0};return{containerRef:l,canvasRef:s,selectedShape:v,elementSize:h,spacing:f,centerElements:b,columns:k,rows:y,autoLayout:C,flipHorizontal:T,flipVertical:M,enableShadow:E,shadowBlur:F,shadowOffsetY:A,shadowOpacity:L,imageSmoothingEnabled:I,displayColors:R,totalCount:x,visibleCount:_,rotateCanvas:N,resetTransformations:j,updateImageSmoothing:X,actualLayout:V,saveToDevice:Y,t:e,isMobile:a,nextSection:q,step:d,visibleSettingsMobile:p,toggleVisibleSettingsMobile:J,saveToGallery:Z,visiblePopover:g,isSaveToGallery:m,openImageModal:$,openPopover:ee}}});const mf=(0,h.A)(pf,[["render",df],["__scopeId","data-v-a8fc34d8"]]);var gf=mf;function vf(e,t){const a=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.Wv)(a)}const hf={},ff=(0,h.A)(hf,[["render",vf]]);var bf=ff;const kf=[{path:"/",name:"open",component:Qr,redirect:"/home",children:[{path:"home",name:"home",component:Hu},{path:"consultation",name:"open-consultation",component:Fv},{path:"FAQ",name:"FAQ",component:Dp},{path:"contacts",name:"contacts",component:Np},{path:"signIn",name:"signIn",component:vc},{path:"signUp",name:"signUp",component:dd},{path:"forgot",name:"forgot",component:Lc}]},{path:"/main",name:"main",component:gt,redirect:"/main/characteristic-colors",meta:{requiresAuth:!0},children:[{path:"characteristic-colors",name:"characteristic-colors",component:Yo,meta:{requiresAuth:!0}},{path:"palette-determinant",name:"palette-determinant",component:bm,meta:{requiresAuth:!0}},{path:"my-palette",name:"my-palette",component:Dg,meta:{requiresAuth:!0}},{path:"chroma",name:"chroma",component:fr,meta:{requiresAuth:!0}},{path:"cut-palette-color",name:"cut-palette-color",component:bf,meta:{requiresAuth:!0},children:[{path:"",name:"cut-palette-color-view",component:zv,meta:{requiresAuth:!0}},{path:"edit",name:"edit",component:gf,meta:{requiresAuth:!0}}]},{path:"palette",name:"palette",component:dp,meta:{requiresAuth:!0}},{path:"ai-agent",name:"ai-agent",component:Vd,meta:{requiresAuth:!0}},{path:"gallery",name:"gallery",component:Ci,meta:{requiresAuth:!0}},{path:"consultation",name:"main-consultation",component:Fv,meta:{requiresAuth:!0}}]},{path:"/:pathMatch(.*)*",redirect:"/home"}],yf=(0,P.aE)({history:(0,P.Bt)("/RM_Rainbow-Manager/"),routes:kf});yf.beforeEach((e,t,a)=>{const l=ms.getters["authFirebase/isAuthenticated"];e.matched.some(e=>e.meta.requiresAuth)?l?a():a({name:"signIn"}):"signIn"===e.name&&l?a({name:"characteristic-colors"}):a()});var Cf=yf,Ef=a(8950),wf=a(2353);const Ff={en:{login:"Sign in",email:"Email",password:"Password",confirmPassword:"Confirm password",firstName:"First name",lastName:"Last name",forgot:"Forgot",userName:"Username",incorrectLoginPassword:"Incorrect login or password",userNotFound:"User not found",validation:{required:"This field is required",email:"Invalid email address",min:"Minimum {count} characters",passwordsMatch:"The passwords did not match",invalidDate:"Invalid date"},masks:"Masks",typeMasks:"Type of masks",gallery:"Gallery",upload:"Upload",uploadImage:"Upload a photo",mask:"Mask",collage:"Collage",logout:"Logout",saveToGallery:"Save to gallery",download:"Download",addSign:"Add Sign",shareImageWithCollage:"Share image with collage",shareImageWithMask:"Share image with mask",rememberChoose:"Remember choose",successImage:"Photo saved to gallery",successUpdateFolder:"Update folder",errorImage:"Error image uploaded",addFolder:"Add folder",delete:"Delete",newFolder:"New folder",nameFolder:"name folder",choose:"Choose",chooseAll:"Choose all",edit:"Edit",cancel:"Cancel",ok:"Ок",search:"search",dywDelete:"Do you want delete 1 element?",dyrAllDeleted:"Do you really want to delete the selected items?",clear:"Clear",apply:"Apply",folder:"Folder",total:"Total",photo:"Photo",update:"Update",copyLink:"Copy link",noName:"No name",pickPhoto:"Pick a photo",successFolderCreate:"Create folder",successDeleteFolder:"Delete folder",successDeleteImage:"Delete image",successDeleteImages:"Delete images",successUpdateImage:"Update image",unknownError:"Unknown error",takePhoto:"Take a photo",characteristicColor:"Colors",photoNotUploaded:"Photo not uploaded",combinations:"Combinations",scale:"Scale",home:"Home",signUp:"Sign up",birthDate:"Date of birth",birthDateMask:"DD.MM.YYYY",emailExists:"Email already exists!",profile:"Profile",confirmation:"Confirmation",writeSomething:"Write something.....",aiAgent:"AI agent",greedyAI:"Hello, I’d be glad to help you with any question! Would you like me to identify the colors in a photo? Just upload it and I’ll assist you.",reminderPickColor:"For a more accurate palette definition, please fill in all the squares with colors!",palette:"Palette",define:"Define",top3:"Top 3 possible palettes",softSummerPalette:"Soft Summer — soft and cold palette",darkAutumnPalette:"Dark Autumn — warm and dark palette",coldSummerPalette:"Cold Summer — cold and soft palette",lightSpringPalette:"Light Spring — light and warm palette",softAutumnPalette:"Soft Autumn — soft and warm palette",brightSpringPalette:"Bright Spring — bright and warm palette",warmSpringPalette:"Warm Spring — warm and bright palette",darkWinterPalette:"Dark Winter — dark and cold palette",lightSummerPalette:"Light Summer — light and cold palette",warmAutumnPalette:"Warm Autumn — warm and soft palette",coldWinterPalette:"Cold Winter — cold and bright palette",brightWinterPalette:"Bright Winter — bright and cold palette",softSummerPaletteShort:"Soft Summer",darkAutumnPaletteShort:"Dark Autumn",coldSummerPaletteShort:"Cold Summer",lightSpringPaletteShort:"Light Spring",softAutumnPaletteShort:"Soft Autumn",brightSpringPaletteShort:"Bright Spring",warmSpringPaletteShort:"Warm Spring",darkWinterPaletteShort:"Dark Winter",lightSummerPaletteShort:"Light Summer",warmAutumnPaletteShort:"Warm Autumn",coldWinterPaletteShort:"Cold Winter",brightWinterPaletteShort:"Bright Winter",cold:"Cold",warm:"Warm",dark:"Dark",light:"Light",mute:"Mute",bright:"Bright",seeMore:"See more",welcomeText:"Welcome to Your Personal Color Guide",welcomeSubText:"Discover your unique color harmony through smart analysis, intuitive tools, and personalized visuals.",whoIsThisAppFor:"Who Is This App For?",discoverColorText:"Discover how this app empowers your color journey.",individualReadyText:"Individuals ready to unlock the power of color in their personal style journey.",fashionLoversText:"Fashion lovers seeking clarity and confidence in every outfit choice.",designersCravingText:"Stylists  and colorists  craving palettes that spark creativity and harmony.",curiosMindText:"Curious minds exploring the science and emotion behind color aesthetics.",getStarted:"Start Your Color Journey",instantFramedPhotos:"Instant Framed Photos",capturePhotoText:"Determine the dominant characteristic of color warmth - coolness; brightness - softness; lightness - darkness. Upload a photo from your device or take a picture within the desired frame directly in the application. Save photos to the gallery using customizable folders and caption options.",paletteExplorerText:"Palette Explorer",paletteExplorerSubText:"The section includes 12 palettes from the Sci Art tonal system",selectAnyColorsText:"Pick up any color from your photo.",optionalColorChromaText:"Get optimal matching colors using Chroma.js.",buildPaletteText:"Find out your optimal palette from five chosen tones.",askQuestionAiText:"Ask questions, get guidance, and explore seasonal palettes.",learnPreferColorText:"Learn which color types suit your undertones and preferences.",afterAllText:"After all, you can talk to him about absolutely anything.",yourGallery:"Your Gallery",organizeGalleryText:"Organize, explore, and relive your memories with ease.",allYourPhotoText:"All your saved photos in one place",searchGalleryText:"Search and filter by palette type, masks, or folders",storedText:"Stored securely via Firebase",canInstall:"You can install this app on your phone or computer as",detailInstructions:"For detailed instructions, please visit the section",FAQ:"FAQ",installPWATitle:"Installing the app as a PWA",howInstallIOSTitle:"How to install the app on iOS?",howInstallAndroidTitle:"How to install the app on Android?",openAppInBrowserTitle:"Open the application in your browser",pressBtnTitle:"Click on the button",selectItem:"Select an item",squareIconTitle:"square icon with an up arrow",confirmAndClickTitle:"Confirm the name and click",appWillAppearText:"The app icon will now appear on your home screen like a regular app.",threeDotsText:"three dots in the upper right corner",addToHomeScreenTitle:"Add to Home Screen",addToHomeScreenIosTitle:"Add to Home Screen",addTitle:"Install",contacts:"Contacts",ideaAndSuggestions:"Ideas and suggestions",supportAndAssistance:"Support and assistance",resetPassword:"Reset your password",send:"Send",goBack:"Go Back",passwordResetEmailSent:"Password reset email sent",registrationSuccessful:"Registration was successful!",nextStep:"Next step",characteristicColors:"Characteristic colors",paletteDeterminant:"Palette determinant",settings:"Settings",fullFill:"Full palette",showOnlySoft:"Show only soft ones",showOnlyBright:"Show only bright ones",showOnlyCold:"Show only cold ones",showOnlyWarm:"Show only warm ones",showOnlyLight:"Show only light ones",showOnlyDark:"Show only dark ones",pleaseSelectAtLeastOneCharacteristic:"Select at least one characteristic!",filter:"Filter",myPalette:"My palette",numberOfSegments:"Number of segments",consultation:"Consultation",close:"Close",revealYourInherentElegance:"Reveal your inherent elegance",haveYouEverContemplated:"Have you ever contemplated",whyCertainHues:"why certain hues illuminate your presence while others render you virtually imperceptible?",greedy:"I'm Julia, and I understand that each of us possesses a unique color palette bestowed by nature — one that can unveil our innate beauty and instill profound confidence.",myGoal:"My purpose is to guide you in discovering that palette through the art of personal color analysis!",whatWilGain:"What will you gain by determining your color season?",recoveredTime:"Recovered time and conserved capital",youWillCeaseAcquiring:"You will cease acquiring garments destined to languish unworn in your wardrobe.",assuredSelection:"Assured selection",youWillPossessPreciseClarity:"You will possess precise clarity on which shades to select whether shopping for attire refining your makeup palette or coloring your hair.",cohesiveHarmonious:"A cohesive and harmonious presentation",youWillAppearMore:"You will appear more refreshed and expressive. Every element of your wardrobe will harmonize seamlessly.",bidFarewell:"Bid farewell to compromises and ceaseless experimentation!",togetherWeWillDiscover:"Together we will discover the colors that will actively enhance your presence!",connectViaTelegram:"Connect via Telegram",demoLookbook:"Demo lookbook",remainingInquiries:"Remaining inquiries? Schedule your consultation.",loginSuccessful:"Login successful!",loginWithGoogle:"Login with Google",popupClosedByUser:"Popup closed by user",cancelled:"Cancelled",noResults:"No results were found for your query!",galleryEmpty:"Your gallery space currently stands vacant yet it awaits transformation into the canvas for your creative vision.Begin by archiving your photographic captures within the gallery and you will unlock access to sophisticated collage creation tools seamlessly interconnect moments experiment with compositional forms and breathe new life into memories through compelling visual narratives.",maximumSelectedCollage:"A maximum of six photographs may be selected for inclusion in a collage!",noFolders:"Folders have not been created yet!",reCAPTCHAInitializationError:"reCAPTCHA Initialization Error",reCAPTCHAHasExpired:"reCAPTCHA has expired. Please complete the verification again.",linkCopied:"Link copied!",copyError:"Copy error!",colorCopied:"Color copied!",mainColor:"Main color",save:"Save",successPaletteTemplateCreate:"The template was successfully saved!",addTemplate:"Add template",successUpdatePaletteTemplate:"Template updated successfully!",successDeletePaletteTemplate:"Template deleted successfully!",template:"Template",myTemplates:"My templates",resetTemplate:"Reset template",updateTemplate:"Update template",analysisByPhoto:"Analysis by photo",saveChanges:"Save changes",reset:"Reset",next:"Next",selectTopColors:"Please select the top colors",selectOneColor:"Please select at least one color!",shapeOfElements:"Shape of elements",transformation:"Transformation",shadowSettings:"Shadow settings",enableShadow:"Enable shadow",intensity:"Intensity",yOffset:"Y offset",transparency:"Transparency",arrangementElements:"Arrangement of elements",columns:"Columns",rows:"Rows",autoSelection:"Auto selection",auto:"Auto",colors:"Colors",of:"of",grid:"Grid",sizingSettings:"Sizing settings",elementSize:"Element size",spaceBetweenElements:"Space between elements",cutPalette:"Cut palette",pickColor:"Pick color"},ru:{login:"Вход",email:"Почта",password:"Пароль",confirmPassword:"Повторите пароль",firstName:"Имя",lastName:"Фамилия",forgot:"Забыли",userName:"Имя пользователя",incorrectLoginPassword:"Неверный логин или пароль",userNotFound:"Пользователь не найден",validation:{required:"Поле обязательно для заполнения",email:"Некорректный email",min:"Минимум {count} символов",passwordsMatch:"Пароли не совпали",invalidDate:"Неверный формат"},masks:"Маски",gallery:"Галерея",upload:"Загрузить",uploadImage:"Загрузите фотографию",mask:"Маска",collage:"Коллаж",logout:"Выйти",saveToGallery:"Сохранить в галерею",download:"Скачать",addSign:"Добавить подпись",shareImageWithCollage:"Показывать в коллаже",shareImageWithMask:"Показывать в маске",rememberChoose:"Запомнить",successImage:"Фото сохранено в галерею",errorImage:"Ошибка при загрузке изображения",addFolder:"Добавить папку",delete:"Удалить",newFolder:"Новая папка",choose:"Выбрать",chooseAll:"Выбрать все",edit:"Исправить",cancel:"Отменить",ok:"Ок",search:"поиск",nameFolder:"название папки",dywDelete:"Удалить 1 элемент?",dyrAllDeleted:"Вы уверены, что хотите удалить выбранные элементы?",clear:"Очистить",apply:"Применить",folder:"Папка",total:"Всего",photo:"Фото",update:"Обновить",copyLink:"Скопировать ссылку",noName:"Без названия",pickPhoto:"Выберите фото",successFolderCreate:"Папка добавлена",successDeleteFolder:"Папка удалена",successUpdateFolder:"Папка обновлена",successDeleteImage:"Фотография удалена",successDeleteImages:"Фотографии удалены",successUpdateImage:"Фотография обновлена",unknownError:"Неизвестная ошибка",takePhoto:"Фото",characteristicColor:"Цвета",photoNotUploaded:"Фото не загружено",combinations:"Сочетание",scale:"Шкала",home:"Главная",signUp:"Регистрация",birthDate:"Дата рождения",birthDateMask:"DD.MM.YYYY",emailExists:"Такой email уже существует!",profile:"Профиль",confirmation:"Подтверждение",writeSomething:"Напишите что-нибудь.....",typeMasks:"Вид масок",aiAgent:"ИИ агент",greedyAI:"Привет, буду рад тебе помочь с любым вопросом! Хочешь определим цвета в фотографии? Просто загрузи ее и я помогу!",reminderPickColor:"Для более точного определения палитры заполните все квадраты цветом!",palette:"Палитра",define:"Определить",top3:"Топ 3 вероятных палитры",softSummerPalette:"Мягкое лето — мягкий и холодный колорит",darkAutumnPalette:"Тёмная осень — тёплый и тёмный колорит",coldSummerPalette:"Холодное лето — холодный и мягкий колорит",lightSpringPalette:"Светлая весна — светлый и тёплый колорит",softAutumnPalette:"Мягкая осень — мягкий и тёплый колорит",brightSpringPalette:"Яркая весна — яркий и тёплый колорит",warmSpringPalette:"Тёплая весна — тёплый и яркий колорит",darkWinterPalette:"Тёмная зима — тёмный и холодный колорит",lightSummerPalette:"Светлое лето — светлый и холодный колорит",warmAutumnPalette:"Тёплая осень — тёплый и мягкий колорит",coldWinterPalette:"Холодная зима — холодный и яркий колорит",brightWinterPalette:"Яркая зима — яркий и холодный колорит",softSummerPaletteShort:"Мягкое лето",darkAutumnPaletteShort:"Тёмная осень",coldSummerPaletteShort:"Холодное лето",lightSpringPaletteShort:"Светлая весна",softAutumnPaletteShort:"Мягкая осень",brightSpringPaletteShort:"Яркая весна",warmSpringPaletteShort:"Тёплая весна",darkWinterPaletteShort:"Тёмная зима",lightSummerPaletteShort:"Светлое лето",warmAutumnPaletteShort:"Тёплая осень",coldWinterPaletteShort:"Холодная зима",brightWinterPaletteShort:"Яркая зима",cold:"Холодный",warm:"Теплый",dark:"Темный",light:"Светлый",mute:"Мягкий",bright:"Яркий",seeMore:"Увидеть больше",welcomeText:"Добро пожаловать в ваш персональный цветовой гид!",welcomeSubText:"Откройте для себя уникальную цветовую гармонию с помощью интеллектуального анализа, интуитивно понятных инструментов и персонализированных визуализаций.",whoIsThisAppFor:"Для кого это приложение?",discoverColorText:"Узнайте, как это приложение поможет вам в вашем путешествии по миру цвета.",individualReadyText:"Для тех, кто готов раскрыть потенциал цвета в своем личном стиле.",fashionLoversText:"Любители моды, стремящиеся к ясности и уверенности в каждом выборе наряда.",designersCravingText:"Стилисты и колористы стремящиеся к цветовым палитрам, которые пробуждают творчество и гармонию.",curiosMindText:"Любознательные умы изучающие научные и эмоциональные аспекты эстетики цвета.",getStarted:"Начните цветовое путешествие",instantFramedPhotos:"Фотографии в рамках",capturePhotoText:"Определите ведущую характеристику цвета: теплота - холод; яркость - мягкость; светлота - темнота. Загружайте фотографию со своего устройства или делайте фото в нужной рамке прямо в приложении. Сохраняйте фотографии в галерею, используя настраиваемые папки и параметры подписи",paletteExplorerText:"Палитры",paletteExplorerSubText:"Раздел включает 12 палитр тоновой системы Sci Art",selectAnyColorsText:"Выберите любой цвет с вашей фотографии.",optionalColorChromaText:"Получите оптимальное соответствие цветов с помощью Chroma.js.",buildPaletteText:"Узнайте свою оптимальную палитру по пяти выбранным оттенкам.",askQuestionAiText:"Задавайте вопросы, получайте рекомендации и изучайте сезонные цветовые решения.",learnPreferColorText:"Узнайте, какие оттенки подходят именно вам и вашим предпочтениям.",afterAllText:"В конце концов с ним можно обсудить любую тему.",yourGallery:"Твоя галерея",organizeGalleryText:"С легкостью систематизируйте, изучайте и переживайте заново свои воспоминания.",allYourPhotoText:"Все ваши сохраненные фотографии в одном месте.",searchGalleryText:"Поиск и фильтрация по типу палитры, маскам или папкам.",storedText:"Надежное хранение данных осуществляется через Firebase",canInstall:"Вы можете установить это приложение на свой телефон или компьютер как",detailInstructions:"Для подробных инструкций перейдите в раздел",FAQ:"FAQ",installPWATitle:"Установка приложения как PWA",howInstallIOSTitle:"Как установить приложение на iOS?",howInstallAndroidTitle:"Как установить приложение на Android?",openAppInBrowserTitle:"Откройте приложение в браузере",pressBtnTitle:"Нажмите на кнопку",selectItem:"Выберите пункт",squareIconTitle:"иконка квадрата со стрелкой вверх",confirmAndClickTitle:"Подтвердите название и нажмите",appWillAppearText:"Теперь иконка приложения появится на главном экране, как обычное приложение.",threeDotsText:"три точки в правом верхнем углу",addToHomeScreenTitle:"Добавить на главный экран",addToHomeScreenIosTitle:"Добавить на экран Домой",addTitle:"Установить",contacts:"Контакты",ideaAndSuggestions:"Идеи и предложения",supportAndAssistance:"Поддержка и помощь",resetPassword:"Сбросить пароль",send:"Отправить",goBack:"Назад",passwordResetEmailSent:"Письмо для сброса пароля отправлено",registrationSuccessful:"Регистрация прошла успешно!",nextStep:"Следующий шаг",characteristicColors:"Характеристики цвета",paletteDeterminant:"Определитель палитры",settings:"Настройки",fullFill:"Полная палитра",showOnlySoft:"Показывать только мягкие",showOnlyBright:"Показывать только яркие",showOnlyCold:"Показывать только холодные",showOnlyWarm:"Показывать только теплые",showOnlyLight:"Показывать только светлые",showOnlyDark:"Показывать только темные",pleaseSelectAtLeastOneCharacteristic:"Выберите хотя бы одну характерестику!",filter:"Фильтр",myPalette:"Моя палитра",numberOfSegments:"Количество сегментов",consultation:"Консультация",close:"Закрыть",revealYourInherentElegance:"Раскройте свою природную красоту",haveYouEverContemplated:"Вы когда-нибудь задумывались,",whyCertainHues:"почему некоторые оттенки заставляют вас сиять, а другие, наоборот, делают незаметной? ",greedy:"Меня зовут Юлия и я знаю, что у каждого из нас есть своя уникальная цветовая палитра, данная природой, которая способна раскрыть нашу естественную красоту и придать уверенности.",myGoal:"Моя цель – помочь вам найти эту палитру с помощью анализа цветотипа внешности!",whatWilGain:"Что вы получите, определив свой цветотип?",recoveredTime:"Сэкономленное время и деньги",youWillCeaseAcquiring:"Вы перестанете покупать вещи, которые потом пылятся в шкафу.",assuredSelection:"Уверенность в выборе",youWillPossessPreciseClarity:"Вы будете точно знать, какие оттенки выбирать в магазинах, при подборе макияжа или окрашивании волос.",cohesiveHarmonious:"Целостный и гармоничный образ",youWillAppearMore:"Вы будете выглядеть более свежо и выразительно. Все ваши вещи будут сочетаться друг с другом.",bidFarewell:"Забудьте о компромиссах и бесконечных экспериментах!",togetherWeWillDiscover:"Вместе мы найдем те цвета, которые будут работать на вас!",connectViaTelegram:"Написать в телеграм",demoLookbook:"Демо цветотип",remainingInquiries:"Остались вопросы? Закажите консультацию!",loginSuccessful:"Вход выполнен успешно!",loginWithGoogle:"Вход через Google",popupClosedByUser:"Попап закрыт пользователем",cancelled:"Отмена",noResults:"По вашему запросу ничего не найдено!",galleryEmpty:"Пространство вашей галереи пока пустует — но оно готово стать холстом для ваших идей.Начните сохранять свои фотографии в галерею, и перед вами откроется инструмент для создания коллажей: соединяйте моменты, играйте с формами, оживляйте воспоминания в новых визуальных нарративах.",maximumSelectedCollage:"В коллаж можно выбрать максимум 6 фотографий!",noFolders:"Папки ещё не созданы!",reCAPTCHAInitializationError:"Ошибка инициализации reCAPTCHA",reCAPTCHAHasExpired:"reCAPTCHA истекла. Пожалуйста, пройдите проверку снова.",linkCopied:"Ссылка скопирована!",copyError:"Ошибка копирования!",colorCopied:"Цвет скопирован!",mainColor:"Основной цвет",save:"Сохранить",successPaletteTemplateCreate:"Шаблон успешно сохранен!",addTemplate:"Добавить шаблон",successUpdatePaletteTemplate:"Шаблон успешно обновлен!",successDeletePaletteTemplate:"Шаблон успешно удален!",template:"Шаблон",myTemplates:"Мои шаблоны",resetTemplate:"Сбросить шаблон",updateTemplate:"Обновить шаблон",analysisByPhoto:"Анализ по фото",saveChanges:"Сохранить изменения",reset:"Сбросить",next:"Далее",selectTopColors:"Пожалуйста, выберите верхние цвета",selectOneColor:"Пожалуйста, выберите хотя бы один цвет!",shapeOfElements:"Форма элементов",transformation:"Трансформация",shadowSettings:"Настройки тени",enableShadow:"Включить тень",intensity:"Интенсивность",yOffset:"Смещение по Y",transparency:"Прозрачность",arrangementElements:"Расположение элементов",columns:"Колонок",rows:"Рядов",autoSelection:"Авто подбор",auto:"Авто",colors:"Цветов",of:"из",grid:"Сетка",sizingSettings:"Настройка размеров",elementSize:"Размер элементов",spaceBetweenElements:"Отступ между элементами",cutPalette:"Вырезать цвета",pickColor:"Выбрать цвет"}},Af=(0,r.hU)({locale:"en",fallbackLocale:"ru",messages:Ff});var Lf=a(4996);Ef.Yv.add(wf.MjD,wf.mRM,wf.SGM,wf.s0Q,wf.iW_,wf.zpE,wf.DW4,wf.M9Z,wf.y_8,wf.N72,wf.U23,wf.hSh,wf.QLR,wf.EZy,wf.yBu,wf.CeG,wf.dmS,wf.S7o,wf.yvG,wf.nx5,wf.vHW,wf.m1c,wf.zLW,wf.GRI,wf.s0Q,wf.yLS,wf.KIu,wf.ao0,wf.CQO,wf.pyI,wf.e68,wf.Tsj,wf.t5Z,wf.dB,wf.BH7,wf._$s,wf.cbP,wf.rwq,wf.jC5,wf.Kh_,wf.dbg,wf.nWR,wf.v02,wf.RUt,wf.pS3,wf.k6j,wf.YSV,wf.INu,wf.fyG,wf.zpE,wf.EvL,wf.wRm,wf.afP,wf.CeG,wf.qK7,wf._eQ,wf.BzA,wf.C97,wf.I46,wf.FK2,wf.pvD,wf.jPR,wf.wIs,wf.XGd,wf.Nfw,wf.GEE,wf.ijD,wf.tKC,wf.npb,wf.w2A,wf.Jt$),Ef.Yv.add(Lf.NFJ,Lf.FjH),(0,Yt.hg)(ta,e=>{ms.commit("authFirebase/setUser",e)}),(0,l.Ef)(M).use(ms).use(Cf).use(Af).component("font-awesome-icon",_u.gc).mount("#app")},6704:function(e,t,a){"use strict";e.exports=a.p+"img/buba-c-8.161d46d6.png"},6793:function(e,t,a){"use strict";e.exports=a.p+"img/buba-c-2.107e1f06.png"},6859:function(e,t,a){"use strict";e.exports=a.p+"img/buba-c-3.a7358301.png"},6885:function(e,t,a){"use strict";e.exports=a.p+"media/ai-dark-en.82b92e14.mp4"},7422:function(e,t,a){"use strict";e.exports=a.p+"img/menu-ios.adc5caea.jpg"},7606:function(e,t,a){"use strict";e.exports=a.p+"media/ai-light-en.10efb2bd.mp4"},7685:function(e,t,a){"use strict";e.exports=a.p+"media/ai-light-en.10efb2bd.mp4"},7693:function(e,t,a){var l={"./ai-dark-en.mp4":6885,"./ai-dark-ru.mp4":6371,"./ai-light-en.mp4":7685,"./ai-light-ru.mp4":1299};function o(e){var t=s(e);return a(t)}function s(e){if(!a.o(l,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return l[e]}o.keys=function(){return Object.keys(l)},o.resolve=s,e.exports=o,o.id=7693},8048:function(e,t,a){"use strict";e.exports=a.p+"media/ai-light-ru.f1803bda.mp4"},8126:function(e,t,a){"use strict";e.exports=a.p+"img/buba-c-1.0749c99e.png"},8185:function(e,t,a){"use strict";e.exports=a.p+"img/confirm-ios-ru.3f62043d.jpg"},8186:function(e,t,a){"use strict";e.exports=a.p+"img/buba-c-2.107e1f06.png"},8308:function(e,t,a){"use strict";e.exports=a.p+"img/rainbow-folder.e49409a1.png"},8524:function(e,t,a){"use strict";e.exports=a.p+"img/buba-c-4.11be29f2.png"},8889:function(e,t,a){"use strict";e.exports=a.p+"img/confirm-ru.dfcbc3a4.jpg"},8902:function(e,t,a){"use strict";e.exports=a.p+"img/buba-2.d9cd22c9.png"},9013:function(e,t,a){"use strict";e.exports=a.p+"img/buba-2.d9cd22c9.png"},9241:function(e,t,a){"use strict";e.exports=a.p+"img/rainbow-bg.1e8096b9.png"},9328:function(e,t,a){"use strict";e.exports=a.p+"media/ai-dark-ru.4bc3df57.mp4"},9354:function(e,t,a){"use strict";e.exports=a.p+"img/buba-c-9.906bbb3d.png"},9367:function(e,t,a){"use strict";e.exports=a.p+"img/buba-3.08bbfb0c.png"},9491:function(e,t,a){"use strict";e.exports=a.p+"img/buba-c-10.ddf5945f.png"},9585:function(e,t,a){var l={"./ai-dark-en.mp4":4678,"./ai-dark-ru.mp4":9328,"./ai-light-en.mp4":7606,"./ai-light-ru.mp4":8048,"./buba-0.png":5972,"./buba-1.png":5965,"./buba-2.png":8902,"./buba-3.png":9367,"./buba-4.png":3536,"./buba-5.png":1561,"./buba-6.png":4594,"./buba-c-0.png":4216,"./buba-c-1.png":8126,"./buba-c-10.png":9491,"./buba-c-11.png":6226,"./buba-c-2.png":8186,"./buba-c-3.png":6859,"./buba-c-4.png":8524,"./buba-c-5.png":9813,"./buba-c-6.png":3902,"./buba-c-7.png":3695,"./buba-c-8.png":6704,"./buba-c-9.png":2425,"./confirm-en.jpg":4405,"./confirm-ios-en.jpg":79,"./confirm-ios-ru.jpg":8185,"./confirm-ru.jpg":8889,"./img-01.png":1628,"./install-en.jpg":5364,"./install-ios-en.jpg":352,"./install-ios-ru.jpg":6602,"./install-ru.jpg":4358,"./logo.png":5842,"./lookbook.pdf":3127,"./menu-android.jpg":3024,"./menu-ios-en.jpg":622,"./menu-ios.jpg":7422,"./rainbow-bg.png":9241,"./rainbow-folder.png":8308,"./rainbow.png":4239,"./rainbow.svg":9663};function o(e){var t=s(e);return a(t)}function s(e){if(!a.o(l,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return l[e]}o.keys=function(){return Object.keys(l)},o.resolve=s,e.exports=o,o.id=9585},9663:function(e,t,a){"use strict";e.exports=a.p+"img/rainbow.defa200a.svg"},9681:function(e,t,a){"use strict";e.exports=a.p+"img/buba-6.259ea03b.png"},9813:function(e,t,a){"use strict";e.exports=a.p+"img/buba-c-5.e2302449.png"}},t={};function a(l){var o=t[l];if(void 0!==o)return o.exports;var s=t[l]={exports:{}};return e[l].call(s.exports,s,s.exports,a),s.exports}a.m=e,function(){var e=[];a.O=function(t,l,o,s){if(!l){var n=1/0;for(u=0;u<e.length;u++){l=e[u][0],o=e[u][1],s=e[u][2];for(var i=!0,r=0;r<l.length;r++)(!1&s||n>=s)&&Object.keys(a.O).every(function(e){return a.O[e](l[r])})?l.splice(r--,1):(i=!1,s<n&&(n=s));if(i){e.splice(u--,1);var c=o();void 0!==c&&(t=c)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[l,o,s]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.p="/RM_Rainbow-Manager/"}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,l){var o,s,n=l[0],i=l[1],r=l[2],c=0;if(n.some(function(t){return 0!==e[t]})){for(o in i)a.o(i,o)&&(a.m[o]=i[o]);if(r)var u=r(a)}for(t&&t(l);c<n.length;c++)s=n[c],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(u)},l=self["webpackChunkrainbow_manager"]=self["webpackChunkrainbow_manager"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=a.O(void 0,[504],function(){return a(6698)});l=a.O(l)})();
//# sourceMappingURL=app.70617fb8.js.map