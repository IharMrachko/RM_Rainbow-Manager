(function(){"use strict";var e={8338:function(e,t,a){var l=a(5130),o=a(6768);function n(e,t,a,l,n,s){const r=(0,o.g2)("app-toaster"),i=(0,o.g2)("app-dialog"),c=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(r),(0,o.bF)(i),(0,o.bF)(c)],64)}var s=a(144),r=a(782),i=a(5931),c=a(4232);const u={class:"toast-container"},d={class:"toast-icon"},p={class:"toast-message"},g=["onClick"];function m(e,t,a,n,s,r){const i=(0,o.g2)("font-awesome-icon");return(0,o.uX)(),(0,o.Wv)(o.Im,{to:"body"},[(0,o.Lk)("div",u,[(0,o.bF)(l.F,{name:"toast",tag:"div"},{default:(0,o.k6)(()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.toasts,t=>((0,o.uX)(),(0,o.CE)("div",{id:"toastTest",key:t.id,class:(0,c.C4)(["toast",t.severity])},[(0,o.Lk)("span",d,[(0,o.bF)(i,{icon:e.iconClass(t.severity)},null,8,["icon"])]),(0,o.Lk)("span",p,(0,c.v_)(e.t(t.message)),1),(0,o.Lk)("div",{class:"toast-progress",style:(0,c.Tr)({animationDuration:t.duration+"ms"})},null,4),(0,o.Lk)("div",{class:"toast-delete",onClick:a=>e.deleteToast(t.id)},[(0,o.bF)(i,{icon:["fas","times-circle"]})],8,g)],2))),128))]),_:1})])])}var v=(0,o.pM)({setup(){const{t:e}=(0,i.s9)(),t=(0,r.Pj)(),a=(0,o.EW)(()=>t.getters["toast/getToasts"]),l=e=>{t.dispatch("toast/deleteToast",{id:e})},n=e=>{switch(e){case"success":return["fas","check-circle"];case"error":return["fas","times-circle"];case"info":return["fas","info-circle"];case"warning":return["fas","exclamation-triangle"];default:return["fas","times-circle"]}};return{toasts:a,iconClass:n,deleteToast:l,t:e}}}),b=a(1241);const f=(0,b.A)(v,[["render",m],["__scopeId","data-v-3a48c8ba"]]);var h=f;const k=["onClick"];function y(e,t,a,n,s,r){return(0,o.uX)(),(0,o.Wv)(o.Im,{to:"body"},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.dialogsSt.dialogs,t=>((0,o.uX)(),(0,o.CE)("div",{key:t.id,class:"dialog-backdrop",onClick:(0,l.D$)(a=>e.close(t.id),["self"])},[((0,o.uX)(),(0,o.Wv)((0,o.$y)(t.component),(0,o.v6)({ref_for:!0},t.props,{onResolve:a=>{t.resolve(a),e.close(t.id)},onReject:a=>{t.reject(a),e.close(t.id)},onClose:a=>e.close(t.id)}),null,16,["onResolve","onReject","onClose"]))],8,k))),128))])}a(4114),a(8111),a(2489);let C=0;const I=(0,s.Kh)({dialogs:[]});function E(e,t={}){return new Promise((a,l)=>{const o=++C;I.dialogs.push({id:o,component:e,props:t,resolve:a,reject:l})})}function w(e){I.dialogs=I.dialogs.filter(t=>t.id!==e)}var L=(0,o.pM)({setup(){const e=I,t=w;return{dialogsSt:e,close:t}}});const _=(0,b.A)(L,[["render",y],["__scopeId","data-v-199a18f4"]]);var M=_,F=(0,o.pM)({components:{AppDialog:M,AppToaster:h},setup(){const e=(0,s.KR)(document.documentElement.clientWidth),t=(0,r.Pj)(),{locale:a}=(0,i.s9)();t.dispatch("theme/initTheme"),t.dispatch("language/initLanguage"),(0,o.wB)(()=>t.getters["language/language"],e=>{a.value=e},{immediate:!0});const l=()=>{e.value=document.documentElement.clientWidth,t.dispatch("mobile/setClientWidth",{clientWidth:e.value})};(0,o.sV)(()=>{t.dispatch("mobile/setClientWidth",{clientWidth:e.value}),window.addEventListener("resize",l)}),(0,o.xo)(()=>{window.removeEventListener("resize",l)})}});const R=(0,b.A)(F,[["render",n]]);var A=R,S=(a(3579),a(1387)),T=a.p+"img/rainbow.defa200a.svg";const x={class:"container"},B={class:"header-section"},K={class:"app-dropdown"};function V(e,t,a,l,n,s){const r=(0,o.g2)("app-toggle"),i=(0,o.g2)("app-option"),u=(0,o.g2)("app-dropdown"),d=(0,o.g2)("app-header"),p=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)("div",x,[(0,o.bF)(d,null,{default:(0,o.k6)(()=>[(0,o.Lk)("section",B,[t[2]||(t[2]=(0,o.Lk)("img",{src:T,alt:"App Logo",width:"32",height:"32"},null,-1)),(0,o.Lk)("section",null,[(0,o.bF)(r,{modelValue:e.isDark,"onUpdate:modelValue":t[0]||(t[0]=t=>e.isDark=t),variant:"theme",onToggled:e.toggled},null,8,["modelValue","onToggled"]),(0,o.Lk)("div",K,[(0,o.bF)(u,{modelValue:e.language,"onUpdate:modelValue":t[1]||(t[1]=t=>e.language=t),label:"name"},{default:(0,o.k6)(()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.languages,e=>((0,o.uX)(),(0,o.Wv)(i,{key:e,value:e},{default:(0,o.k6)(()=>[(0,o.eW)((0,c.v_)(e),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])])])])]),_:1}),(0,o.bF)(p)])}const X=["aria-disabled"],W=["checked","disabled"];function D(e,t,a,n,s,r){return(0,o.uX)(),(0,o.CE)("label",{ref:"switchEl",class:(0,c.C4)([[e.variant,{disabled:e.disabled}],"switch"]),tabindex:"0","aria-disabled":e.disabled,onKeydown:[t[1]||(t[1]=(0,l.jR)((0,l.D$)((...t)=>e.onKeyToggle&&e.onKeyToggle(...t),["prevent"]),["space"])),t[2]||(t[2]=(0,l.jR)((0,l.D$)((...t)=>e.onKeyToggle&&e.onKeyToggle(...t),["prevent"]),["enter"]))]},[(0,o.Lk)("input",{type:"checkbox",checked:e.modelValue,disabled:e.disabled,onChange:t[0]||(t[0]=(...t)=>e.onToggle&&e.onToggle(...t))},null,40,W),t[3]||(t[3]=(0,o.Lk)("span",{class:"slider"},null,-1))],42,X)}function G(e,t){const a=(0,s.KR)(null),l=e=>{const a=e.target;t("update:modelValue",a.checked),t("toggled",a.checked)},n=()=>{e.disabled||(t("update:modelValue",!e.modelValue),t("toggled",!e.modelValue))};return(0,o.sV)(()=>{!e.disabled&&a.value&&a.value.focus()}),{onToggle:l,onKeyToggle:n,switchEl:a}}var P=(0,o.pM)({props:{modelValue:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},variant:{type:String,default:"default"}},emits:["update:modelValue","toggled"],setup(e,t){return G(e,t.emit)}});const U=(0,b.A)(P,[["render",D],["__scopeId","data-v-4d8e97e2"]]);var z=U;const O={class:"header"};function j(e,t){return(0,o.uX)(),(0,o.CE)("header",O,[(0,o.RG)(e.$slots,"default",{},void 0,!0)])}const Q={},$=(0,b.A)(Q,[["render",j],["__scopeId","data-v-bea2ffe6"]]);var N=$;const q=["disabled"];function Y(e,t,a,l,n,s){const r=(0,o.g2)("app-input"),i=(0,o.g2)("app-overlay-panel");return(0,o.uX)(),(0,o.CE)("section",null,[(0,o.Lk)("div",{ref:"targetRef",class:"dropdown-container",onClick:t[2]||(t[2]=(...t)=>e.toggle&&e.toggle(...t))},[(0,o.bF)(r,{modelValue:e.valueRef,"onUpdate:modelValue":t[0]||(t[0]=t=>e.valueRef=t),height:"32px","is-label":!1,readonly:!0,disabled:e.disabled},null,8,["modelValue","disabled"]),(0,o.Lk)("button",{disabled:e.disabled,type:"button",class:"toggle-btn"},"▼",8,q),e.targetRef?((0,o.uX)(),(0,o.Wv)(i,{key:0,visible:e.visible,"onUpdate:visible":t[1]||(t[1]=t=>e.visible=t),target:e.targetRef},{default:(0,o.k6)(()=>[(0,o.RG)(e.$slots,"default",{},void 0,!0)]),_:3},8,["visible","target"])):(0,o.Q3)("",!0)],512)])}const H=["for"],J={ref:"wrapperRef",class:"wrap-input validate-input"},Z=["id","value","type","placeholder","disabled","readonly"],ee={key:0,class:"symbol-input100"};function te(e,t,a,l,n,s){const r=(0,o.g2)("font-awesome-icon"),i=(0,o.g2)("app-input-error-overlay");return(0,o.uX)(),(0,o.CE)("section",null,[e.isLabel?((0,o.uX)(),(0,o.CE)("label",{key:0,class:"label",for:e.type},(0,c.v_)(e.t(e.label)),9,H)):(0,o.Q3)("",!0),(0,o.Lk)("div",J,[(0,o.Lk)("input",{id:e.type,ref:"inputRef",value:e.modelValue,class:(0,c.C4)(["input100",{pr:e.icon}]),type:e.type,placeholder:e.t(e.placeholder),disabled:e.disabled,readonly:e.readonly,style:(0,c.Tr)({height:e.height}),onInput:t[0]||(t[0]=(...t)=>e.handleInput&&e.handleInput(...t)),onBlur:t[1]||(t[1]=(...t)=>e.handleBlur&&e.handleBlur(...t)),onFocus:t[2]||(t[2]=(...t)=>e.showErrorToggle&&e.showErrorToggle(...t))},null,46,Z),t[3]||(t[3]=(0,o.Lk)("span",{class:"focus-input100"},null,-1)),e.icon?((0,o.uX)(),(0,o.CE)("span",ee,[(0,o.bF)(r,{icon:e.icon},null,8,["icon"])])):(0,o.Q3)("",!0)],512),e.wrapperRef?((0,o.uX)(),(0,o.Wv)(i,{key:1,target:e.wrapperRef,message:e.error,visible:e.showError,"z-index":e.zIndexTooltip,onClick:e.showErrorToggle},null,8,["target","message","visible","z-index","onClick"])):(0,o.Q3)("",!0)])}const ae={class:"error-message"};function le(e,t,a,l,n,s){return(0,o.uX)(),(0,o.Wv)(o.Im,{to:"body"},[e.visible?((0,o.uX)(),(0,o.CE)("div",{key:0,ref:"overlayRef",class:"error-overlay",style:(0,c.Tr)(e.overlayStyle),onClick:t[0]||(t[0]=(...t)=>e.onClick&&e.onClick(...t))},[(0,o.Lk)("section",null,[(0,o.Lk)("div",ae,(0,c.v_)("string"===typeof e.message?e.t(e.message):e.t(e.message.key,e.message.values)),1),t[1]||(t[1]=(0,o.Lk)("div",{class:"exclamation-mark"},"!",-1))])],4)):(0,o.Q3)("",!0)])}const oe=7.5,ne=1.5;var se=(0,o.pM)({props:{target:{type:Object,required:!0},message:{type:[String,Object],default:""},visible:{type:Boolean,default:!1},zIndex:{type:Number,default:1010}},emits:["click"],setup(e,{emit:t}){const{t:a}=(0,i.s9)(),l=(0,s.KR)(null),n=(0,s.KR)(0),r=(0,o.EW)(()=>{if(n.value,!e.target)return{};const t=e.target.getBoundingClientRect();return{position:"absolute",top:`${t.top+window.scrollY+oe}px`,left:`${t.left+window.scrollX+Math.round(t.width/3.5)}px`,width:t.width/ne+"px",zIndex:e.zIndex}}),c=()=>{n.value=Date.now()},u=()=>{t("click")};return(0,o.sV)(()=>{window.addEventListener("resize",c),window.addEventListener("scroll",c,!0)}),(0,o.xo)(()=>{window.removeEventListener("resize",c),window.removeEventListener("scroll",c,!0)}),{overlayRef:l,overlayStyle:r,onClick:u,t:a}}});const re=(0,b.A)(se,[["render",le],["__scopeId","data-v-456e7f20"]]);var ie=re,ce=(0,o.pM)({components:{AppInputErrorOverlay:ie},props:{modelValue:{type:String,default:""},error:{type:[String,Boolean],default:""},isLabel:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},placeholder:{type:String,default:""},type:{type:String,default:"text"},label:{type:String,default:"text"},icon:{type:[Array,String],default:""},zIndexTooltip:{type:Number,default:1010},height:{type:String,default:"50px"},isFocused:{type:Boolean,default:!1}},emits:["update:modelValue","blur","change","focus"],setup(e,{emit:t}){const a=(0,s.KR)(""),{t:l}=(0,i.s9)(),n=(0,s.KR)(!1),r=(0,s.KR)(!1),c=(0,s.KR)(null),u=(0,s.KR)(null),d=()=>{t("focus"),r.value=!0,c.value?.focus(),m()},p=()=>{t("blur"),r.value=!1,m()},g=e=>{t("update:modelValue",e.target.value),r.value=!0,m()},m=()=>{n.value=!r.value&&Boolean(e.error)};return(0,o.sV)(()=>{e.isFocused&&c.value?.focus()}),(0,o.wB)(()=>e.error,()=>{m()},{immediate:!0}),{value:a,showError:n,showErrorToggle:d,inputRef:c,wrapperRef:u,handleInput:g,handleBlur:p,t:l}}});const ue=(0,b.A)(ce,[["render",te],["__scopeId","data-v-02d0ea02"]]);var de=ue;function pe(e,t,a,l,n,s){return(0,o.uX)(),(0,o.Wv)(o.Im,{to:"body"},[e.visible?((0,o.uX)(),(0,o.CE)("div",{key:0,ref:"overlayRef",class:"overlay",style:(0,c.Tr)(e.overlayStyle)},[(0,o.RG)(e.$slots,"default",{},void 0,!0)],4)):(0,o.Q3)("",!0)])}const ge=3;function me(e,t){switch(t){case"left":return e.left;case"right":return e.right;case"center":return e.left+e.width/2}}function ve(e,t){switch(t){case"top":return e.top;case"bottom":return e.bottom;case"center":return e.top+e.height/2}}function be(e,t,a,l){const o=me(t,e),n=o-a>=0,s=o+a<=l,r=o-a/2>=0&&o+a/2<=l;return"left"===e?n?"left":r?"center":"right":"right"===e?s?"right":r?"center":"left":"center"}function fe(e,t,a,l){const o=ve(t,e),n=o-a>=0,s=o+a<=l,r=o-a/2>=0&&o+a/2<=l;return"top"===e?n?"top":r?"center":"bottom":"bottom"===e?s?"bottom":r?"center":"top":r?"center":n?"top":"bottom"}function he(e,t){let a;return a=null!==t?"number"===typeof t?`${t}px`:String(t):`${Math.round(e.width)}px`,a}function ke(e,t,a,l,o){const n=document.documentElement.clientWidth,s=document.documentElement.clientHeight;return{x:be(l,e,t,n),y:fe(o,e,a,s)}}var ye=(0,o.pM)({props:{target:{type:Object,required:!0},visible:{type:Boolean,default:!0},zIndex:{type:Number,default:1010},position:{type:Object,default:()=>({x:"center",y:"bottom"})},width:{type:[Number,String],default:null}},emits:["update:visible"],setup(e,{emit:t}){const a=(0,s.KR)(null),l=(0,s.KR)(0),n=(0,o.EW)(()=>{if(l.value,!e.target)return{};const t=e.target.getBoundingClientRect(),o=a.value,n=window.scrollX,s=window.scrollY,r=o?.offsetWidth??0,i=o?.offsetHeight??0,{x:c,y:u}=ke(t,r,i,e.position.x,e.position.y),d=u,p=c;let g=t.top+s,m=t.left+n,v=0,b=0;switch(d){case"top":g=t.top+s-i;break;case"bottom":g=t.top+s+t.height+ge;break;case"center":g=t.top+s+t.height/2,b=-50;break}switch(p){case"left":m=t.left+n-r;break;case"right":m=t.left+n+t.width;break;case"center":m=t.left+t.width/2,v=-50;break}const f=[];return v&&f.push(`translateX(${v}%)`),b&&f.push(`translateY(${b}%)`),{position:"absolute",top:`${Math.round(g)}px`,left:`${Math.round(m)}px`,transform:f.length?f.join(" "):void 0,zIndex:e.zIndex,width:he(t,e.width)}}),r=()=>{l.value=Date.now()},i=l=>{const o=a.value,n=e.target,s=l.target;o&&!o.contains(s)&&n&&!n.contains(s)&&t("update:visible",!1)};return(0,o.sV)(()=>{window.addEventListener("resize",r),window.addEventListener("scroll",r,!0),document.addEventListener("click",i),(0,o.dY)(r)}),(0,o.xo)(()=>{window.removeEventListener("resize",r),window.removeEventListener("scroll",r,!0),document.removeEventListener("click",i)}),{overlayStyle:n,overlayRef:a}}});const Ce=(0,b.A)(ye,[["render",pe],["__scopeId","data-v-15d627cc"]]);var Ie=Ce,Ee=(0,o.pM)({components:{AppOverlayPanel:Ie,AppInput:de},props:{modelValue:{type:[String,Number,Object],default:null},label:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const a=(0,o.EW)(()=>e.modelValue),l=(0,s.KR)(null),n=(0,s.KR)(null),r=(0,s.KR)(!1),i=()=>{r.value=!r.value},c=a=>{if("string"===typeof a&&(l.value=a),"object"===typeof a&&null!==a){const t=a;l.value=t[e.label]}t("update:modelValue",a),r.value=!1};return(0,o.sV)(()=>{if("string"===typeof e.modelValue&&(l.value=e.modelValue),"object"===typeof e.modelValue&&null!==e.modelValue){const t=e.modelValue;l.value=t[e.label]}}),(0,o.Gt)("select",c),(0,o.Gt)("selected",a),{targetRef:n,visible:r,toggle:i,valueRef:l}}});const we=(0,b.A)(Ee,[["render",Y],["__scopeId","data-v-e58e891a"]]);var Le=we;function _e(e,t,a,l,n,s){return(0,o.uX)(),(0,o.CE)("div",{class:(0,c.C4)(["dropdown-option",{"is-selected":e.isSelected}]),onClick:t[0]||(t[0]=(...t)=>e.onClick&&e.onClick(...t))},[(0,o.RG)(e.$slots,"default",{},void 0,!0)],2)}var Me=(0,o.pM)({props:{value:{type:[String,Number,Object],default:null}},setup(e){const t=(0,o.WQ)("select",()=>{}),a=(0,o.WQ)("selected"),l=()=>{t&&t(e.value)},n=(0,o.EW)(()=>{if(!a)return;const t=a.value;if(t&&"object"===typeof t&&e.value&&"object"===typeof e.value){const a=t,l=e.value;return a.id===l.id}return t===e.value});return{onClick:l,isSelected:n}}});const Fe=(0,b.A)(Me,[["render",_e],["__scopeId","data-v-32a64d45"]]);var Re=Fe,Ae=(0,o.pM)({components:{AppOption:Re,AppDropdown:Le,AppHeader:N,AppToggle:z},setup(){const e=(0,r.Pj)(),t=(0,s.KR)(null),a=(0,s.KR)(!0),l=(0,s.KR)(["en","ru"]),n=(0,s.KR)(e.getters["language/language"]),i=(0,s.KR)(e.getters["theme/isDark"]),c=t=>{e.dispatch("theme/setTheme",t)};return(0,o.wB)(n,t=>{e.dispatch("language/setLanguage",{language:t})}),{toggled:c,isDark:i,containerRef:t,isVisible:a,language:n,languages:l}}});const Se=(0,b.A)(Ae,[["render",V]]);var Te=Se,xe=a.p+"img/img-01.65cd3f0f.png";const Be={class:"container"},Ke={class:"wrap-login"},Ve={ref:"imageRef",src:xe,alt:""},Xe={class:"login-form"},We={class:"title"},De={class:"login-inputs"},Ge={class:"text-center"},Pe={class:"txt1"};function Ue(e,t,a,l,n,s){const r=(0,o.g2)("app-input"),i=(0,o.g2)("Field"),u=(0,o.g2)("app-button"),d=(0,o.g2)("VForm"),p=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("section",Be,[(0,o.Lk)("div",Ke,[(0,o.Lk)("div",{class:"login-pic",onMousemove:t[0]||(t[0]=(...t)=>e.handleMouseMove&&e.handleMouseMove(...t)),onMouseleave:t[1]||(t[1]=(...t)=>e.resetTransform&&e.resetTransform(...t))},[(0,o.Lk)("img",Ve,null,512)],32),(0,o.Lk)("div",Xe,[(0,o.Lk)("h1",We,(0,c.v_)(e.t("login")),1),(0,o.bF)(d,{"validation-schema":e.formGroup,onSubmit:e.onSubmit},{default:(0,o.k6)(()=>[(0,o.Lk)("section",De,[(0,o.bF)(i,{name:"email"},{default:(0,o.k6)(({field:a,meta:l,errorMessage:n})=>[(0,o.bF)(r,(0,o.v6)(a,{modelValue:e.email,"onUpdate:modelValue":t[2]||(t[2]=t=>e.email=t),placeholder:"example@gmail.com",label:"email",icon:["fas","envelope"],"z-index-tooltip":1020,error:l.touched?n:"",type:"email"}),null,16,["modelValue","error"])]),_:1}),(0,o.bF)(i,{name:"password"},{default:(0,o.k6)(({field:a,meta:l,errorMessage:n})=>[(0,o.bF)(r,(0,o.v6)(a,{modelValue:e.password,"onUpdate:modelValue":t[3]||(t[3]=t=>e.password=t),placeholder:"password",label:"password",type:"password",icon:["fas","lock"],error:l.touched?n:""}),null,16,["modelValue","error"])]),_:1})]),(0,o.bF)(u,{loading:e.loading,type:"submit",title:"login"},null,8,["loading"])]),_:1},8,["validation-schema","onSubmit"]),(0,o.Lk)("section",null,[(0,o.Lk)("div",Ge,[(0,o.Lk)("span",Pe,(0,c.v_)(e.t("forgot")),1),(0,o.bF)(p,{class:"txt2",to:{name:"forgot"}},{default:(0,o.k6)(()=>[(0,o.eW)((0,c.v_)(e.t("userName"))+" / "+(0,c.v_)(e.t("password"))+"? ",1)]),_:1})])])])])])}const ze={class:"container-btn"},Oe=["disabled"],je={key:0,class:"btn-icon"},Qe={key:1,class:"btn-title"},$e={key:2,class:"loader"};function Ne(e,t,a,l,n,s){const r=(0,o.g2)("font-awesome-icon");return(0,o.uX)(),(0,o.CE)("div",ze,[(0,o.Lk)("button",{disabled:e.disabled||e.loading,class:(0,c.C4)(e.classes)},[e.icon?((0,o.uX)(),(0,o.CE)("span",je,[(0,o.bF)(r,{size:"lg",icon:e.icon},null,8,["icon"])])):(0,o.Q3)("",!0),e.title&&!e.loading?((0,o.uX)(),(0,o.CE)("span",Qe,(0,c.v_)(e.t(e.title)),1)):e.loading?((0,o.uX)(),(0,o.CE)("span",$e)):(0,o.Q3)("",!0)],10,Oe)])}var qe=(0,o.pM)({props:{disabled:{type:Boolean,default:!1},title:{type:String,default:""},loading:{type:Boolean,default:!1},severity:{type:String,default:"success"},raised:{type:Boolean,default:!1},icon:{type:[Array,String],default:""}},setup(e){const{t:t}=(0,i.s9)(),a=(0,o.EW)(()=>["btn",`${e.severity}`,{raised:e.raised}]);return{t:t,classes:a}}});const Ye=(0,b.A)(qe,[["render",Ne],["__scopeId","data-v-2730a159"]]);var He=Ye,Je=a(9041),Ze=a(482),et=(0,o.pM)({components:{Field:Ze.D0,VForm:Ze.lV,AppInput:de,AppButton:He},setup(){const e=(0,S.rd)(),t=(0,r.Pj)(),{t:a}=(0,i.s9)(),l=(0,s.KR)(null),n=(0,s.KR)(""),c=(0,s.KR)(""),u=(0,o.EW)(()=>t.getters["authFirebase/isLoading"]),d=Je.Ik({email:Je.Yj().required("validation.required").email("validation.required"),password:Je.Yj().required("validation.required").min(6,{key:"validation.min",values:{count:6}})}),p=async a=>{try{await t.dispatch("authFirebase/login",a),await e.push("/main")}catch(l){console.error(l)}},g=e=>{const t=l.value;if(!t)return;const a=t.getBoundingClientRect(),o=e.clientX-a.left,n=e.clientY-a.top,s=a.width/2,r=a.height/2,i=(o-s)/s*10,c=-(n-r)/r*10;t.style.transform=`perspective(300px) rotateX(${c}deg) rotateY(${i}deg)`},m=()=>{l.value&&(l.value.style.transform="perspective(300px) rotateX(0deg) rotateY(0deg)")};return{formGroup:d,onSubmit:p,email:n,password:c,loading:u,imageRef:l,handleMouseMove:g,resetTransform:m,t:a}}});const tt=(0,b.A)(et,[["render",Ue],["__scopeId","data-v-1446709b"]]);var at=tt;function lt(e,t){return(0,o.uX)(),(0,o.CE)("div",null,"Forgot")}const ot={},nt=(0,b.A)(ot,[["render",lt]]);var st=nt;const rt={class:"container"},it={class:"header-section"},ct={class:"app-dropdown"},ut={class:"sidebar-item"},dt={class:"icon"},pt={key:0,class:"title"},gt={class:"sidebar-item"},mt={class:"icon"},vt={key:0,class:"title"},bt={class:"icon"},ft={key:0,class:"title"},ht=["onClick"],kt={class:"main"};function yt(e,t,a,l,n,s){const r=(0,o.g2)("app-toggle"),i=(0,o.g2)("app-option"),u=(0,o.g2)("app-dropdown"),d=(0,o.g2)("app-burger-menu"),p=(0,o.g2)("app-header"),g=(0,o.g2)("font-awesome-icon"),m=(0,o.g2)("router-link"),v=(0,o.g2)("app-sidebar"),b=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)("div",rt,[(0,o.bF)(p,null,{default:(0,o.k6)(()=>[(0,o.Lk)("section",it,[t[3]||(t[3]=(0,o.Lk)("img",{src:T,alt:"App Logo",width:"32",height:"32"},null,-1)),(0,o.Lk)("section",null,[(0,o.bF)(r,{modelValue:e.isDark,"onUpdate:modelValue":t[0]||(t[0]=t=>e.isDark=t),variant:"theme",onToggled:e.toggled},null,8,["modelValue","onToggled"]),(0,o.Lk)("div",ct,[(0,o.bF)(u,{modelValue:e.language,"onUpdate:modelValue":t[1]||(t[1]=t=>e.language=t),label:"name"},{default:(0,o.k6)(()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.languages,e=>((0,o.uX)(),(0,o.Wv)(i,{key:e,value:e},{default:(0,o.k6)(()=>[(0,o.eW)((0,c.v_)(e),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),e.isMobile?((0,o.uX)(),(0,o.Wv)(d,{key:0})):(0,o.Q3)("",!0)])])]),_:1}),(0,o.Lk)("section",null,[(0,o.bF)(v,null,{main:(0,o.k6)(({isShort:t})=>[(0,o.bF)(m,{to:"/main/color","active-class":"active-link"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",ut,[(0,o.Lk)("div",dt,[(0,o.bF)(g,{size:"xl",icon:["fas","rainbow"]})]),t?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",pt,(0,c.v_)(e.t("colorType")),1))])]),_:2},1024),(0,o.bF)(m,{to:"/main/gallery","active-class":"active-link"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",gt,[(0,o.Lk)("div",mt,[(0,o.bF)(g,{size:"xl",icon:["fas","images"]})]),t?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",vt,(0,c.v_)(e.t("gallery")),1))])]),_:2},1024)]),additional:(0,o.k6)(({isShort:a,toggle:l})=>[(0,o.Lk)("div",{class:"sidebar-item logout",onClick:t[2]||(t[2]=(...t)=>e.logout&&e.logout(...t))},[(0,o.Lk)("div",bt,[(0,o.bF)(g,{size:"xl",icon:["fas","right-from-bracket"]})]),a?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",ft,(0,c.v_)(e.t("logout")),1))]),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",{key:0,class:"sidebar-item",onClick:l},[(0,o.bF)(g,{size:"xl",icon:a?["fas","arrow-left"]:["fas","arrow-right"]},null,8,["icon"])],8,ht))]),_:1}),(0,o.Lk)("main",kt,[(0,o.bF)(b)])])])}const Ct={class:"additional-section"};function It(e,t,a,l,n,s){return!e.isMobile||e.isMobile&&e.isBurgerMenuOpen?((0,o.uX)(),(0,o.CE)("aside",{key:0,class:(0,c.C4)(["sidebar-container",{"mobile-view":e.isMobile}]),style:(0,c.Tr)({width:e.isShort?"60px":"220px"})},[(0,o.Lk)("section",{class:"main-section",onClick:t[0]||(t[0]=(...t)=>e.setBurgerMenu&&e.setBurgerMenu(...t))},[(0,o.RG)(e.$slots,"main",{isShort:e.isShort},void 0,!0)]),(0,o.Lk)("section",Ct,[(0,o.RG)(e.$slots,"additional",{isShort:e.isShort,toggle:e.toggle},void 0,!0)])],6)):(0,o.Q3)("",!0)}var Et=(0,o.pM)({setup(){const e=(0,r.Pj)(),t=(0,s.KR)(!0),a=(0,o.EW)(()=>"mobile"===e.getters["mobile/breakPoint"]),l=(0,o.EW)(()=>e.getters["burgerMenu/isOpen"]),n=()=>{t.value=!t.value},i=()=>{a.value&&e.dispatch("burgerMenu/setBurger",{isOpen:!1})};return(0,o.wB)(()=>e.getters["mobile/breakPoint"],e=>{t.value="mobile"!==e},{immediate:!0}),{isMobile:a,isShort:t,toggle:n,isBurgerMenuOpen:l,setBurgerMenu:i}}});const wt=(0,b.A)(Et,[["render",It],["__scopeId","data-v-87931dba"]]);var Lt=wt;function _t(e,t,a,l,n,s){return(0,o.uX)(),(0,o.CE)("div",{"data-burger-test-id":"",class:(0,c.C4)(["burger",{open:e.isOpen}]),onClick:t[0]||(t[0]=(...t)=>e.toggle&&e.toggle(...t))},[...t[1]||(t[1]=[(0,o.Lk)("span",null,null,-1),(0,o.Lk)("span",null,null,-1),(0,o.Lk)("span",null,null,-1)])],2)}var Mt=(0,o.pM)({setup(){const e=(0,r.Pj)(),t=(0,o.EW)(()=>e.getters["burgerMenu/isOpen"]),a=()=>{e.dispatch("burgerMenu/setBurger",{isOpen:!t.value})};return{isOpen:t,toggle:a}}});const Ft=(0,b.A)(Mt,[["render",_t],["__scopeId","data-v-13390ba1"]]);var Rt=Ft,At=(0,o.pM)({components:{AppBurgerMenu:Rt,AppSidebar:Lt,AppOption:Re,AppDropdown:Le,AppHeader:N,AppToggle:z},setup(){const{t:e}=(0,i.s9)(),t=(0,r.Pj)(),a=(0,S.rd)(),l=(0,s.KR)(null),n=(0,s.KR)(!0),c=(0,s.KR)(["en","ru"]),u=(0,s.KR)(t.getters["language/language"]),d=(0,s.KR)(t.getters["theme/isDark"]),p=(0,o.EW)(()=>"mobile"===t.getters["mobile/breakPoint"]),g=e=>{t.dispatch("theme/setTheme",e)};(0,o.wB)(u,e=>{t.dispatch("language/setLanguage",{language:e})});const m=async()=>{await t.dispatch("authFirebase/logout"),await t.dispatch("burgerMenu/setBurger",{isOpen:!1}),await a.push("/login")};return{toggled:g,logout:m,t:e,isDark:d,containerRef:l,isVisible:n,language:u,languages:c,isMobile:p}}});const St=(0,b.A)(At,[["render",yt],["__scopeId","data-v-8e97011c"]]);var Tt=St;const xt={class:"color-container"};function Bt(e,t,a,l,n,s){const r=(0,o.g2)("AppLoader"),i=(0,o.g2)("app-color-mask"),c=(0,o.g2)("app-tab"),u=(0,o.g2)("app-collage"),d=(0,o.g2)("app-tabs");return(0,o.uX)(),(0,o.CE)("div",xt,[e.isLoading?((0,o.uX)(),(0,o.Wv)(r,{key:0})):(0,o.Q3)("",!0),(0,o.bF)(d,null,{default:(0,o.k6)(()=>[(0,o.bF)(c,{title:"mask"},{default:(0,o.k6)(()=>[(0,o.bF)(i,{onIsLoading:t[0]||(t[0]=t=>e.isLoading=t)})]),_:1}),(0,o.bF)(c,{title:"collage"},{default:(0,o.k6)(()=>[(0,o.bF)(u,{onIsLoading:t[1]||(t[1]=t=>e.isLoading=t)})]),_:1})]),_:1})])}const Kt={class:"tabs"},Vt={class:"tab-headers"},Xt=["onClick"],Wt={class:"tab-content"};function Dt(e,t,a,l,n,s){return(0,o.uX)(),(0,o.CE)("div",Kt,[(0,o.Lk)("nav",Vt,[(0,o.Lk)("ul",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.tabs,t=>((0,o.uX)(),(0,o.CE)("li",{key:t.index,class:(0,c.C4)({active:e.activeIndex===t.index,disabled:t.disabled}),onClick:a=>e.setActive(t.index)},[(0,o.Lk)("a",null,(0,c.v_)(e.t(t.title)),1)],10,Xt))),128))])]),(0,o.Lk)("div",Wt,[(0,o.RG)(e.$slots,"default",{},void 0,!0)])])}a(116);var Gt=(0,o.pM)({props:{modelValue:{type:Number,default:2}},emits:["update:modelValue","change"],setup(e,{emit:t}){const a=(0,s.KR)(e.modelValue),{t:l}=(0,i.s9)(),n=(0,s.Kh)([]),r=(e,t)=>{const a=n.length;return n.push({title:e,index:a,disabled:t}),a},c=e=>{const l=n[e];l&&!l.disabled&&(a.value=e,t("update:modelValue",e),t("change",e))};return(0,o.Gt)("registerTab",r),(0,o.Gt)("activeIndex",a),(0,o.wB)(()=>e.modelValue,e=>{const l=n[e];if(l&&!l.disabled)a.value=e;else{const e=n.find(e=>!e.disabled);e&&(a.value=e.index,t("update:modelValue",e.index))}}),(0,o.wB)(n,()=>{const e=n[a.value];if(!e||e.disabled){const e=n.find(e=>!e.disabled);e&&(a.value=e.index,t("update:modelValue",e.index))}},{immediate:!0}),{tabs:n,activeIndex:a,setActive:c,t:l}}});const Pt=(0,b.A)(Gt,[["render",Dt],["__scopeId","data-v-31b0f54d"]]);var Ut=Pt;function zt(e,t,a,n,s,r){return(0,o.bo)(((0,o.uX)(),(0,o.CE)("div",null,[(0,o.RG)(e.$slots,"default",{},void 0,!0)],512)),[[l.aG,e.isActive]])}var Ot=(0,o.pM)({props:{title:{type:String,required:!0},disabled:{type:Boolean,default:!1}},setup:function(e,{slots:t}){const a=(0,o.WQ)("registerTab"),l=(0,o.WQ)("activeIndex"),n=(0,s.KR)(-1);(0,o.sV)(()=>{a&&(n.value=a(e.title,e.disabled))});const r=(0,o.EW)(()=>l?.value===n.value);return{isActive:r,slots:t}}});const jt=(0,b.A)(Ot,[["render",zt],["__scopeId","data-v-7d72f4d0"]]);var Qt=jt;const $t={class:"collage-wrapper"},Nt={class:"collage-container"},qt={ref:"canvas"},Yt={class:"actions"},Ht={class:"buttons"},Jt={key:0,class:"btn"},Zt={key:4,class:"checkbox"},ea={key:5,class:"checkbox"};function ta(e,t,a,n,s,r){const i=(0,o.g2)("app-button"),u=(0,o.g2)("app-file-uploader"),d=(0,o.g2)("font-awesome-icon"),p=(0,o.g2)("AppCheckbox"),g=(0,o.g2)("app-popover-item"),m=(0,o.g2)("app-popover-wrapper"),v=(0,o.g2)("app-popover");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",$t,[(0,o.Lk)("div",Nt,[(0,o.Lk)("canvas",qt,null,512),(0,o.Lk)("div",Yt,[(0,o.bF)(i,{severity:"secondary",raised:"",icon:["fas","undo"],onClick:e.resetImage},null,8,["onClick"]),(0,o.bF)(i,{severity:"secondary",raised:"",icon:["fas","plus"],onClick:e.zoomPlus},null,8,["onClick"]),(0,o.bF)(i,{severity:"secondary",raised:"",icon:["fas","minus"],onClick:e.zoomMinus},null,8,["onClick"]),(0,o.bF)(i,{severity:"secondary",raised:"",icon:["fas","save"],onClick:t[0]||(t[0]=t=>e.saveImage("collage"))})])]),(0,o.Lk)("section",Ht,[e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",Jt,[(0,o.bF)(u,{"is-show-sign":!1,onSelect:e.onFileSelected},null,8,["onSelect"])])),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(i,{key:1,severity:"warning",title:"saveToGallery",loading:e.isSaveToGallery,onClick:e.saveToGallery},null,8,["loading","onClick"])),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(i,{key:2,severity:"info",title:"addSign",onClick:e.openImageModal},null,8,["onClick"])),e.isMobile?((0,o.uX)(),(0,o.Wv)(d,{key:3,icon:["fas","ellipsis-h"],size:"lg",onClick:(0,l.D$)(e.openPopover,["stop"])},null,8,["onClick"])):(0,o.Q3)("",!0),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",Zt,[(0,o.bF)(p,{modelValue:e.sharedWithMask,"onUpdate:modelValue":t[1]||(t[1]=t=>e.sharedWithMask=t),label:"shareImageWithMask"},null,8,["modelValue"])])),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",ea,[(0,o.bF)(p,{modelValue:e.rememberChoose,"onUpdate:modelValue":t[2]||(t[2]=t=>e.rememberChoose=t),label:"rememberChoose"},null,8,["modelValue"])]))])]),(0,o.bF)(v,{visible:e.visiblePopover,"onUpdate:visible":t[5]||(t[5]=t=>e.visiblePopover=t)},{default:(0,o.k6)(()=>[(0,o.bF)(m,null,{default:(0,o.k6)(()=>[(0,o.bF)(g,{onClick:e.triggerUpload},{default:(0,o.k6)(()=>[(0,o.bF)(d,{size:"xl",icon:["fas","file-upload"]}),(0,o.Lk)("span",null,(0,c.v_)(e.t("upload")),1),(0,o.bF)(u,{ref:"uploader",style:{display:"none"},onSelect:e.onFileSelected},null,8,["onSelect"])]),_:1},8,["onClick"]),(0,o.bF)(g,{onClick:e.saveToGallery},{default:(0,o.k6)(()=>[(0,o.bF)(d,{size:"xl",icon:["fas","images"]}),(0,o.Lk)("span",null,(0,c.v_)(e.t("saveToGallery")),1)]),_:1},8,["onClick"]),(0,o.bF)(g,null,{default:(0,o.k6)(()=>[(0,o.bF)(d,{size:"xl",icon:["fas","fa-pencil-square"]}),(0,o.Lk)("span",null,(0,c.v_)(e.t("addSign")),1)]),_:1})]),_:1}),(0,o.bF)(m,null,{default:(0,o.k6)(()=>[(0,o.bF)(g,null,{default:(0,o.k6)(()=>[(0,o.bF)(p,{modelValue:e.sharedWithMask,"onUpdate:modelValue":t[3]||(t[3]=t=>e.sharedWithMask=t)},null,8,["modelValue"]),(0,o.Lk)("span",null,(0,c.v_)(e.t("shareImageWithMask")),1)]),_:1}),(0,o.bF)(g,null,{default:(0,o.k6)(()=>[(0,o.bF)(p,{modelValue:e.rememberChoose,"onUpdate:modelValue":t[4]||(t[4]=t=>e.rememberChoose=t)},null,8,["modelValue"]),(0,o.Lk)("span",null,(0,c.v_)(e.t("rememberChoose")),1)]),_:1})]),_:1})]),_:1},8,["visible"])],64)}const aa=[{id:1,type:"cold",segments:[{color:"#979DAF"},{color:"#C21E56"},{color:"#F3ED7C"},{color:"#155DA4"},{color:"#008684"},{color:"#E5ADD5"},{color:"#D0417E"},{color:"#E7B8D3"},{color:"#FFFFFF"},{color:"#34373B"},{color:"#BA397B"}]},{id:2,type:"warm",segments:[{color:"#E1BD88"},{color:"#DB3844"},{color:"#BC2A3A"},{color:"#E09D66"},{color:"#FAC668"},{color:"#CCD97A"},{color:"#91B54D"},{color:"#D66467"},{color:"#FEA188"},{color:"#CC9C7D"},{color:"#F2EDD8"}]},{id:3,type:"dark",segments:[{color:"#413433"},{color:"#BC243C"},{color:"#373E4B"},{color:"#79857A"},{color:"#987576"},{color:"#483A49"},{color:"#FFFFFF"},{color:"#594440"},{color:"#DEC6AC"},{color:"#707375"},{color:"#777791"}]},{id:4,type:"light",segments:[{color:"#CBB7A2"},{color:"#E63E62"},{color:"#FDE182"},{color:"#657BB8"},{color:"#42BDCB"},{color:"#7DCFB6"},{color:"#E87191"},{color:"#F8CBC7"},{color:"#FABCB1"},{color:"#F4EAE0"},{color:"#F9F9F9"}]},{id:5,type:"soft",segments:[{color:"#53677A"},{color:"#856088"},{color:"#4E9093"},{color:"#814A47"},{color:"#A55972"},{color:"#6B5D74"},{color:"#DCA59E"},{color:"#F4EAE0"},{color:"#F0D3C9"},{color:"#6C5740"},{color:"#6A6855"}]},{id:6,type:"unforgettable",segments:[{color:"#433D42"},{color:"#E5003C"},{color:"#FBE337"},{color:"#4E468B"},{color:"#199D5C"},{color:"#008AC2"},{color:"#43BCD8"},{color:"#DE7AA4"},{color:"#F87B90"},{color:"#F9F9F9"},{color:"#D5DDD5"}]}];var la=a(1924),oa=a(6400),na=a(4388),sa=a(2832),ra=a(1933);const ia={apiKey:"AIzaSyACkcP8ThJg9f_JsBoiy0DErBhC9mg7gtg",authDomain:"rainbow-manager-2c361.firebaseapp.com",projectId:"rainbow-manager-2c361",storageBucket:"rainbow-manager-2c361.firebasestorage.app",messagingSenderId:"561480772779",appId:"1:561480772779:web:3b51c3721116c916811bee"},ca=(0,oa.Wp)(ia),ua=(0,na.xI)(ca),da=(0,sa.aU)(ca),pa=(0,la.c7)(ca);(0,ra.lS)(ca);function ga(e,t,a,l){const o=(0,s.KR)(1),n=()=>e.value?e.value.toDataURL("image/png"):null,r=(t="avatar.png")=>{if(!e.value)return;const a=e.value.toDataURL("image/png"),l=document.createElement("a");l.href=a,l.download=t,l.click()},i=async(t="mask.png")=>{if(e.value)return new Promise((a,l)=>{e.value.toBlob(async e=>{if(!e)return l(new Error("Не удалось получить Blob из canvas"));try{const l=(0,la.KR)(pa,t);await(0,la.D)(l,e);const o=await(0,la.qk)(l);a(o)}catch(o){l(o)}},"image/png")})},c=e=>new Promise((t,a)=>{const l=new Image;l.crossOrigin="anonymous",l.onload=()=>t(l),l.onerror=()=>a(new Error(`Ошибка загрузки: ${e}`)),l.src=e}),u=()=>{l?.value&&a&&a("update:imageUrl",l.value),o.value=1,t()},d=()=>{o.value++,t()},p=()=>{1!==o.value&&(o.value--,t())};return{saveImage:r,loadImage:c,resetImage:u,zoomPlus:d,zoomMinus:p,zoom:o,saveToStorage:i,getCanvasSrc:n}}const ma={class:"popover-item"};function va(e,t){return(0,o.uX)(),(0,o.CE)("div",ma,[(0,o.RG)(e.$slots,"default",{},void 0,!0)])}const ba={},fa=(0,b.A)(ba,[["render",va],["__scopeId","data-v-903d1a32"]]);var ha=fa;const ka={class:"popover-wrapper"};function ya(e,t){return(0,o.uX)(),(0,o.CE)("section",ka,[(0,o.RG)(e.$slots,"default",{},void 0,!0)])}const Ca={},Ia=(0,b.A)(Ca,[["render",ya],["__scopeId","data-v-11bdd0bc"]]);var Ea=Ia;const wa={key:0,class:"popover-container"},La={ref:"popoverContentRef",class:"popover-content"};function _a(e,t,a,l,n,s){return(0,o.uX)(),(0,o.Wv)(o.Im,{to:"body"},[e.visible?((0,o.uX)(),(0,o.CE)("div",wa,[(0,o.Lk)("div",La,[(0,o.Lk)("section",{class:"popover-toggle-container",onClick:t[0]||(t[0]=(...t)=>e.toggle&&e.toggle(...t))},[...t[1]||(t[1]=[(0,o.Lk)("div",{class:"popover-toggle"},null,-1)])]),(0,o.RG)(e.$slots,"default",{},void 0,!0)],512)])):(0,o.Q3)("",!0)])}var Ma=(0,o.pM)({props:{visible:{type:Boolean,default:!1}},emits:["update:visible"],setup(e,{emit:t}){const a=(0,s.KR)(null),l=e=>{const l=a.value,o=e.target;l&&!l.contains(o)&&t("update:visible",!1)},n=()=>{t("update:visible",!1)};return(0,o.sV)(()=>{document.addEventListener("click",l)}),(0,o.xo)(()=>{document.removeEventListener("click",l)}),{popoverContentRef:a,toggle:n}}});const Fa=(0,b.A)(Ma,[["render",_a],["__scopeId","data-v-0258f386"]]);var Ra=Fa;const Aa={class:"file-uploader"},Sa={key:0,class:"upload-btn-title"},Ta={key:0,class:"file-name"};function xa(e,t,a,l,n,s){const r=(0,o.g2)("font-awesome-icon");return(0,o.uX)(),(0,o.CE)("div",Aa,[(0,o.Lk)("input",{ref:"fileInput",type:"file",accept:"image/*",class:"file-input",onChange:t[0]||(t[0]=(...t)=>e.onFileChange&&e.onFileChange(...t))},null,544),(0,o.Lk)("button",{type:"button",class:"upload-btn",onClick:t[1]||(t[1]=(...t)=>e.triggerInput&&e.triggerInput(...t))},[(0,o.bF)(r,{size:"lg",icon:["fas","file-upload"]}),e.isTitle?((0,o.uX)(),(0,o.CE)("span",Sa,(0,c.v_)(e.t("upload")),1)):(0,o.Q3)("",!0)]),e.fileName&&e.isShowSign?((0,o.uX)(),(0,o.CE)("div",Ta,(0,c.v_)(e.fileName),1)):(0,o.Q3)("",!0)])}var Ba=(0,o.pM)({name:"FileUploader",props:{isTitle:{type:Boolean,default:!0},isShowSign:{type:Boolean,default:!0}},emits:["select"],setup(e,{emit:t}){const{t:a}=(0,i.s9)(),l=(0,s.KR)(null),o=(0,s.KR)("");function n(){l.value?.click()}function r(e){const a=e.target,l=a.files?.[0];l&&(o.value=l.name,t("select",l))}return{fileInput:l,fileName:o,triggerInput:n,onFileChange:r,t:a}}});const Ka=(0,b.A)(Ba,[["render",xa],["__scopeId","data-v-5b634e60"]]);var Va=Ka;const Xa=["for"],Wa=["aria-checked","aria-disabled","aria-readonly"],Da={key:0,class:"rc__label"},Ga=["id","checked","disabled","readonly"];function Pa(e,t,a,l,n,s){return(0,o.uX)(),(0,o.CE)("label",{class:(0,c.C4)(["rc",{"rc--checked":e.modelValue,"rc--indeterminate":e.indeterminate,"rc--disabled":e.disabled,"rc--error":e.error}]),style:(0,c.Tr)(e.styles),for:e.id||void 0},[(0,o.Lk)("span",{ref:"controlEl",class:"rc__control",role:"checkbox","aria-checked":e.ariaChecked,"aria-disabled":e.disabled?"true":"false","aria-readonly":e.readonly?"true":"false",tabindex:"0",onKeydown:t[0]||(t[0]=(...t)=>e.onKeydown&&e.onKeydown(...t)),onFocus:t[1]||(t[1]=t=>e.$emit("focus")),onBlur:t[2]||(t[2]=t=>e.$emit("blur"))},[...t[4]||(t[4]=[(0,o.Lk)("span",{class:"rc__ring"},null,-1),(0,o.Lk)("span",{class:"rc__fill"},null,-1),(0,o.Lk)("span",{class:"rc__mark"},null,-1)])],40,Wa),e.label?((0,o.uX)(),(0,o.CE)("span",Da,(0,c.v_)(e.t(e.label)),1)):(0,o.Q3)("",!0),e.id?((0,o.uX)(),(0,o.CE)("input",{key:1,id:e.id,type:"checkbox",class:"rc__native",checked:e.modelValue,disabled:e.disabled,readonly:e.readonly,onChange:t[3]||(t[3]=(...t)=>e.toggle&&e.toggle(...t))},null,40,Ga)):(0,o.Q3)("",!0)],14,Xa)}var Ua=a(4009),za=a.n(Ua),Oa=(0,o.pM)({props:{modelValue:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},label:{type:String,default:""},size:{type:Number,default:24},error:{type:Boolean,default:!1},id:{type:String,default:""}},emits:["update:modelValue","change","focus","blur"],setup(e,{emit:t}){const{t:a}=(0,i.s9)(),{modelValue:l,disabled:n,readonly:r,indeterminate:c,size:u}=(0,s.QW)(e),d=(0,s.KR)(null);let p=null;const g=(0,o.EW)(()=>c.value?"mixed":l.value?"true":"false"),m=()=>{if(n.value||r.value)return;const e=!l.value;t("update:modelValue",e),t("change",e)},v=e=>{" "!==e.key&&"Enter"!==e.key||(e.preventDefault(),m())},b=(0,o.EW)(()=>({"--rc-size":`${u.value}px`}));return(0,o.sV)(()=>{d.value&&(p=new(za())(d.value),p.on("tap",m))}),(0,o.xo)(()=>{p?.destroy()}),{toggle:m,onKeydown:v,ariaChecked:g,styles:b,controlEl:d,t:a}}});const ja=(0,b.A)(Oa,[["render",Pa],["__scopeId","data-v-668c0b02"]]);var Qa=ja;const $a=e=>new Promise((t,a)=>{const l=new FileReader;l.onload=e=>t(e.target?.result),l.onerror=a,l.readAsDataURL(e)}),Na={ref:"modalRef",class:"modal-content neon"},qa=["src"],Ya={class:"info-section"},Ha={class:"info-section-wrapper"},Ja={class:"badge-wrapper"},Za={key:0,class:"badge"},el={key:1,class:"badge"},tl={class:"info"},al={class:"actions"},ll={class:"btn"};function ol(e,t,a,l,n,s){const r=(0,o.g2)("app-input"),i=(0,o.g2)("app-button");return(0,o.uX)(),(0,o.CE)("div",Na,[(0,o.Lk)("img",{src:e.url,alt:""},null,8,qa),(0,o.Lk)("section",Ya,[(0,o.Lk)("div",Ha,[(0,o.Lk)("div",Ja,[e.coloristicType?((0,o.uX)(),(0,o.CE)("span",Za,(0,c.v_)(e.coloristicType),1)):(0,o.Q3)("",!0),e.maskType?((0,o.uX)(),(0,o.CE)("span",el,(0,c.v_)(e.maskType),1)):(0,o.Q3)("",!0)]),(0,o.Lk)("div",tl,[(0,o.bF)(r,{modelValue:e.signIn,"onUpdate:modelValue":t[0]||(t[0]=t=>e.signIn=t),"is-focused":!0,icon:["fas","fa-pencil"],"is-label":!1},null,8,["modelValue"])]),(0,o.Lk)("div",al,[(0,o.Lk)("div",ll,[(0,o.bF)(i,{loading:e.isSaveToGallery,severity:"warning",title:"saveToGallery",onClick:e.saveToGallery},null,8,["loading","onClick"])])])])]),(0,o.Lk)("button",{class:"close",onClick:t[1]||(t[1]=(...t)=>e.close&&e.close(...t))},"✖")],512)}var nl=(0,o.pM)({components:{AppInput:de,AppButton:He},props:{url:Je.Yj,coloristicType:{type:String,default:""},maskType:{type:String,default:""},canvas:HTMLCanvasElement,currentUserId:Je.Yj},emits:["resolve","reject","close"],setup(e,{emit:t}){const a=(0,r.Pj)(),l=(0,s.KR)(""),o=(0,s.KR)(!1),n=()=>{t("close")},i=async()=>{if(e.canvas){o.value=!0;try{await a.dispatch("gallery/saveImageToGallery",{canvas:e.canvas,title:l.value,coloristicType:e.coloristicType,maskType:e.maskType,userId:e.currentUserId}),t("close")}finally{o.value=!1}}};return{close:n,signIn:l,saveToGallery:i,isSaveToGallery:o}}});const sl=(0,b.A)(nl,[["render",ol],["__scopeId","data-v-59bba408"]]);var rl=sl;const il=410,cl=330,ul=489,dl=860,pl=30,gl=20;var ml=(0,o.pM)({components:{AppCheckbox:Qa,AppFileUploader:Va,AppPopover:Ra,AppPopoverWrapper:Ea,AppPopoverItem:ha,AppButton:He},emits:["update:imageUrl","isLoading"],setup(e,{emit:t}){const{t:a}=(0,i.s9)(),l=(0,s.KR)(!1),n=(0,r.Pj)(),c=(0,s.KR)(null),u=(0,s.KR)(null),d=(0,s.KR)(dl),p=(0,s.KR)(ul),g=(0,s.KR)(1),m=(0,s.KR)(null),v=(0,o.EW)(()=>"mobile"===n.getters["mobile/breakPoint"]),b=(0,o.EW)(()=>n.getters["authFirebase/currentUser"]),f=(0,s.KR)(null),h=(0,s.KR)(),k=(0,s.KR)(!1),y=(0,s.KR)(n.getters["imageColor/shareImgMask"]),C=(0,s.KR)(n.getters["imageColor/rememberImgCollage"]);let I=!1;const w=async e=>{I=!1,f.value=await $a(e),await n.dispatch("imageColor/uploadImgCollage",{file:e}),await L()},L=async()=>{if(!c.value)return;const e=c.value.getContext("2d"),t=window.devicePixelRatio||1;c.value.width=d.value*t,c.value.height=p.value*t,c.value.style.width=d.value+"px",c.value.style.height=p.value+"px",e.setTransform(1,0,0,1,0,0),e.scale(t,t),e.clearRect(0,0,d.value,p.value),f.value&&!I&&(u.value=await F(f.value),I=!0);const a=d.value===cl,l=a?2:3,o=a?3:2,n=10,s=8,r=a?1.2*g.value:g.value,i=n*(l-1),m=(d.value-i)/l;let v=m/2*r-pl;v<1&&(v=1);const b=s*(o-1),h=(p.value-b)/o;let k=0;for(let c=0;c<o;c++)for(let t=0;t<l;t++){const a=t*(m+n)+m/2,l=c*(h+s)+h/2,o=aa[k%aa.length];x(e,u.value,a,l,v,o.segments),k++}},{getCanvasSrc:_,saveImage:M,loadImage:F,resetImage:R,zoomPlus:A,zoomMinus:S,zoom:T}=ga(c,L,t,m),x=(e,t,a,l,o,n)=>{const s=d.value===cl?gl:pl;if(t){e.save(),e.beginPath(),e.arc(a,l,o,0,2*Math.PI),e.closePath(),e.clip();const n=Math.min(t.width,t.height),r=(t.width-n)/2,i=(t.height-n)/2,c=(2*o-2*s)*T.value;e.drawImage(t,r,i,n,n,a-c/2,l-c/2,c,c),e.restore()}const r=n.length,i=2*Math.PI/r;e.lineWidth=s;for(let c=0;c<r;c++){const t=c*i-Math.PI/2,r=(c+1)*i-Math.PI/2;e.beginPath(),e.strokeStyle=n[c].color,e.arc(a,l,o-s/2,t,r),e.stroke()}};(0,o.wB)(()=>n.getters["mobile/clientWidth"],e=>{e<600&&(d.value=cl,p.value=il),e>1024&&(d.value=dl,p.value=ul),L()},{immediate:!0});const B=()=>{l.value=!0},K=async()=>{if(I){k.value=!0,l.value=!1,v.value&&t("isLoading",!0);try{await n.dispatch("gallery/saveImageToGallery",{canvas:c.value,title:"",coloristicType:"collage",maskType:"",userId:b.value?.uid})}finally{k.value=!1,v.value&&t("isLoading",!1)}}else await n.dispatch("toast/addToast",{message:"Upload image",severity:"warning"})};(0,o.wB)(()=>y.value,e=>{n.dispatch("imageColor/setShareImgMask",{share:e})}),(0,o.wB)(()=>C.value,e=>{n.dispatch("imageColor/setRememberImgCollage",{remember:e})}),(0,o.wB)(()=>n.getters["imageColor/imgMask"],e=>{n.getters["imageColor/shareImgCollage"]&&w(e)}),(0,o.sV)(()=>{if(L(),n.getters["imageColor/rememberImgCollage"]){const e=n.getters["imageColor/imgCollage"];e&&w(e)}});const V=()=>{h.value?.$el.querySelector("input[type=file]")?.click()},X=async()=>{const e=_();await E(rl,{url:e,coloristicType:"mask",currentUserId:b.value?.uid,canvas:c.value})};return{canvas:c,saveImage:M,resetImage:R,zoomPlus:A,zoomMinus:S,isMobile:v,openPopover:B,visiblePopover:l,t:a,isSaveToGallery:k,saveToGallery:K,sharedWithMask:y,rememberChoose:C,onFileSelected:w,triggerUpload:V,uploader:h,openImageModal:X}}});const vl=(0,b.A)(ml,[["render",ta],["__scopeId","data-v-baf8f7e4"]]);var bl=vl;const fl={class:"color-wrapper"},hl={class:"selected"},kl={class:"editor"},yl={class:"buttons"},Cl={key:0,class:"btn"},Il={key:1,class:"btn"},El={key:2,class:"btn"},wl={key:3,class:"checkbox"},Ll={key:4,class:"checkbox"};function _l(e,t,a,n,s,r){const i=(0,o.g2)("app-color-card"),u=(0,o.g2)("app-editor-canvas"),d=(0,o.g2)("app-file-uploader"),p=(0,o.g2)("app-button"),g=(0,o.g2)("AppCheckbox"),m=(0,o.g2)("font-awesome-icon"),v=(0,o.g2)("app-popover-item"),b=(0,o.g2)("app-popover-wrapper"),f=(0,o.g2)("app-popover");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",fl,[(0,o.Lk)("section",hl,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.cards,t=>((0,o.uX)(),(0,o.Wv)(i,{key:t.id,card:t,"is-selected":e.selectedCard?.id===t?.id,onSelected:e.selected},null,8,["card","is-selected","onSelected"]))),128))]),(0,o.Lk)("section",kl,[(0,o.bF)(u,{ref:"editorCanvasRef","image-url":e.imageUrl,"onUpdate:imageUrl":t[0]||(t[0]=t=>e.imageUrl=t),segments:e.frameColors},null,8,["image-url","segments"])]),(0,o.Lk)("section",yl,[e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",Cl,[(0,o.bF)(d,{"is-show-sign":!1,onSelect:e.onFileSelected},null,8,["onSelect"])])),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",Il,[(0,o.bF)(p,{severity:"warning",title:"saveToGallery",loading:e.isSaveToGallery,onClick:e.saveToGallery},null,8,["loading","onClick"])])),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",El,[(0,o.bF)(p,{severity:"info",title:"addSign",onClick:e.openImageModal},null,8,["onClick"])])),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",wl,[(0,o.bF)(g,{modelValue:e.sharedWithCollage,"onUpdate:modelValue":t[1]||(t[1]=t=>e.sharedWithCollage=t),label:"shareImageWithCollage"},null,8,["modelValue"])])),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",Ll,[(0,o.bF)(g,{modelValue:e.rememberChoose,"onUpdate:modelValue":t[2]||(t[2]=t=>e.rememberChoose=t),label:"rememberChoose"},null,8,["modelValue"])])),e.isMobile?((0,o.uX)(),(0,o.Wv)(m,{key:5,icon:["fas","ellipsis-h"],size:"lg",onClick:(0,l.D$)(e.openPopover,["stop"])},null,8,["onClick"])):(0,o.Q3)("",!0)])]),(0,o.bF)(f,{visible:e.visiblePopover,"onUpdate:visible":t[5]||(t[5]=t=>e.visiblePopover=t)},{default:(0,o.k6)(()=>[(0,o.bF)(b,null,{default:(0,o.k6)(()=>[(0,o.bF)(v,{onClick:e.triggerUpload},{default:(0,o.k6)(()=>[(0,o.bF)(m,{size:"xl",icon:["fas","file-upload"]}),(0,o.Lk)("span",null,(0,c.v_)(e.t("upload")),1),(0,o.bF)(d,{ref:"uploader",style:{display:"none"},onSelect:e.onFileSelected},null,8,["onSelect"])]),_:1},8,["onClick"]),(0,o.bF)(v,{onClick:e.saveToGallery},{default:(0,o.k6)(()=>[(0,o.bF)(m,{size:"xl",icon:["fas","images"]}),(0,o.Lk)("span",null,(0,c.v_)(e.t("saveToGallery")),1)]),_:1},8,["onClick"]),(0,o.bF)(v,{onClick:e.openImageModal},{default:(0,o.k6)(()=>[(0,o.bF)(m,{size:"xl",icon:["fas","fa-pencil-square"]}),(0,o.Lk)("span",null,(0,c.v_)(e.t("addSign")),1)]),_:1},8,["onClick"])]),_:1}),(0,o.bF)(b,null,{default:(0,o.k6)(()=>[(0,o.bF)(v,null,{default:(0,o.k6)(()=>[(0,o.bF)(g,{modelValue:e.sharedWithCollage,"onUpdate:modelValue":t[3]||(t[3]=t=>e.sharedWithCollage=t)},null,8,["modelValue"]),(0,o.Lk)("span",null,(0,c.v_)(e.t("shareImageWithCollage")),1)]),_:1}),(0,o.bF)(v,null,{default:(0,o.k6)(()=>[(0,o.bF)(g,{modelValue:e.rememberChoose,"onUpdate:modelValue":t[4]||(t[4]=t=>e.rememberChoose=t)},null,8,["modelValue"]),(0,o.Lk)("span",null,(0,c.v_)(e.t("rememberChoose")),1)]),_:1})]),_:1})]),_:1},8,["visible"])],64)}const Ml={class:"card-number"},Fl={class:"segments"};function Rl(e,t,a,l,n,s){return(0,o.uX)(),(0,o.CE)("div",{class:(0,c.C4)(["card",{cardSelected:e.isSelected}]),onClick:t[0]||(t[0]=(...t)=>e.selected&&e.selected(...t))},[(0,o.Lk)("div",Ml,(0,c.v_)(e.card.id),1),(0,o.Lk)("div",Fl,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.card.segments,e=>((0,o.uX)(),(0,o.CE)("div",{key:e,class:"segment",style:(0,c.Tr)({backgroundColor:e.color})},null,4))),128))])],2)}var Al=(0,o.pM)({props:{card:{type:Object,required:!0},isSelected:{type:Boolean,default:!1}},emits:["selected"],setup(e,{emit:t}){const a=()=>{t("selected",e.card)};return{selected:a}}});const Sl=(0,b.A)(Al,[["render",Rl],["__scopeId","data-v-1b18a9a8"]]);var Tl=Sl;const xl=["width","height"],Bl={class:"actions"};function Kl(e,t,a,l,n,s){const r=(0,o.g2)("app-button");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",null,[(0,o.Lk)("canvas",{ref:"canvasRef",width:e.sizeRef,height:e.sizeRef,onMousedown:t[0]||(t[0]=(...t)=>e.startSelection&&e.startSelection(...t)),onMousemove:t[1]||(t[1]=(...t)=>e.moveSelection&&e.moveSelection(...t)),onMouseup:t[2]||(t[2]=(...t)=>e.endSelection&&e.endSelection(...t))},null,40,xl)]),(0,o.Lk)("div",Bl,[(0,o.bF)(r,{severity:"secondary",raised:"",icon:["fas","undo"],onClick:e.resetImage},null,8,["onClick"]),(0,o.bF)(r,{severity:"secondary",raised:"",icon:["fas","plus"],onClick:e.zoomPlus},null,8,["onClick"]),(0,o.bF)(r,{severity:"secondary",raised:"",icon:["fas","minus"],onClick:e.zoomMinus},null,8,["onClick"]),(0,o.bF)(r,{severity:"secondary",raised:"",icon:["fas","save"],onClick:e.saveImage},null,8,["onClick"])])],64)}a(7588);var Vl=(0,o.pM)({name:"AppEditorCanvas",components:{AppButton:He},props:{segments:{type:Array,required:!0},imageUrl:{type:[String,null],default:null}},emits:["update:imageUrl"],setup(e,{emit:t}){const a=(0,r.Pj)(),l=(0,s.KR)(null),n=(0,s.KR)(null),i=(0,s.KR)(null),c=(0,s.KR)(90),u=(0,s.KR)(480),d=(0,s.KR)(0),p=(0,s.KR)(null),g=(0,s.KR)(0),m=(0,s.KR)(0);let v=!1,b=0,f=0,h=0,k=0,y=!1;const C=async()=>{if(!l.value)return;const t=l.value.getContext("2d");t.clearRect(0,0,u.value,u.value),e.imageUrl&&!y&&(n.value=await w(e.imageUrl),y=!0),K(t),V(t)},{getCanvasSrc:I,saveImage:E,loadImage:w,resetImage:L,zoomPlus:_,zoomMinus:M,zoom:F}=ga(l,C,t,i),R=()=>l.value,A=()=>I(),S=e=>{if(!l.value)return;v=!0;const t=l.value.getBoundingClientRect();b=e.clientX-t.left,f=e.clientY-t.top,h=b,k=f,B()},T=e=>{if(!v||!l.value)return;const t=l.value.getBoundingClientRect();h=e.clientX-t.left,k=e.clientY-t.top,B()},x=()=>{if(!l.value)return;v=!1,B();const e=Math.min(b,h),a=Math.min(f,k),o=Math.abs(h-b),n=Math.abs(k-f);if(o<2||n<2)return;const s=document.createElement("canvas");s.width=o,s.height=n;const r=s.getContext("2d");r.drawImage(l.value,e,a,o,n,0,0,o,n);const i=s.toDataURL("image/png");t("update:imageUrl",i)},B=()=>{if(!l.value)return;const e=l.value.getContext("2d");e.clearRect(0,0,u.value,u.value),K(e),V(e),v&&(e.strokeStyle="red",e.lineWidth=2,e.strokeRect(b,f,h-b,k-f))},K=e=>{const t=u.value/2,a=c.value,l=n.value;if(!l)return;e.save(),e.beginPath(),e.arc(t,t,t-a,0,2*Math.PI),e.closePath(),e.clip(),e.translate(t+(g.value??0),t+(m.value??0)),e.rotate(d.value*Math.PI/180);const o=u.value-2*a,s=Math.min(l.width,l.height),r=o*F.value;e.drawImage(l,(l.width-s)/2,(l.height-s)/2,s,s,-r/2,-r/2,r,r),e.restore()},V=t=>{const a=u.value/2,l=c.value,o=2*Math.PI/e.segments.length,n=p.value??-Math.PI/2;t.lineWidth=l,e.segments.forEach((e,s)=>{t.beginPath(),t.strokeStyle=e.color;const r=s*o+n,i=(s+1)*o+n;t.arc(a,a,a-l/2,r,i),t.stroke()})};return(0,o.sV)(C),(0,o.wB)(()=>e.imageUrl,e=>{e&&!i.value&&(i.value=e),e&&i.value&&(y=!1,F.value=1,i.value=e),C()}),(0,o.wB)(()=>a.getters["mobile/clientWidth"],e=>e<600?(c.value=40,u.value=280,void(0,o.dY)(()=>C())):e<1024?(c.value=70,u.value=400,void(0,o.dY)(()=>C())):e>1024?(c.value=90,u.value=480,void(0,o.dY)(()=>C())):void 0,{immediate:!0}),(0,o.wB)(()=>e.segments,()=>{(0,o.dY)(()=>C())}),{canvasRef:l,startSelection:S,moveSelection:T,endSelection:x,resetImage:L,saveImage:E,zoomPlus:_,zoomMinus:M,sizeRef:u,getCanvasValue:R,getImageSrc:A}}});const Xl=(0,b.A)(Vl,[["render",Kl],["__scopeId","data-v-28e9ac9e"]]);var Wl=Xl,Dl=(0,o.pM)({components:{AppCheckbox:Qa,AppPopoverItem:ha,AppPopoverWrapper:Ea,AppPopover:Ra,AppButton:He,AppEditorCanvas:Wl,AppColorCard:Tl,AppFileUploader:Va},emits:["fileOnLoad","isLoading"],setup(e,{emit:t}){const a=(0,s.KR)(null),{t:l}=(0,i.s9)(),n=(0,s.KR)(),c=(0,r.Pj)(),u=(0,s.KR)(!1),d=aa,p=(0,s.KR)(null),g=(0,s.KR)(),m=(0,s.KR)(null),v=(0,s.KR)(!1),b=(0,s.KR)(c.getters["imageColor/shareImgCollage"]),f=(0,s.KR)(c.getters["imageColor/rememberImgMask"]),h=(0,o.EW)(()=>c.getters["authFirebase/currentUser"]),k=(0,o.EW)(()=>"mobile"===c.getters["mobile/breakPoint"]);(0,o.KC)(()=>{const[e]=d;p.value=e,g.value=e.segments}),(0,o.sV)(()=>{if(c.getters["imageColor/rememberImgMask"]){const e=c.getters["imageColor/imgMask"];e&&y(e)}});const y=async e=>{m.value=await $a(e),await c.dispatch("imageColor/uploadImgMask",{file:e})},C=async()=>{if(a.value?.getCanvasValue()){v.value=!0,u.value=!1,k.value&&t("isLoading",!0);try{await c.dispatch("gallery/saveImageToGallery",{canvas:a.value?.getCanvasValue(),title:"",coloristicType:"mask",maskType:p.value?.type,userId:h.value?.uid})}finally{v.value=!1,k.value&&t("isLoading",!1)}}},I=e=>{p.value=e,g.value=e.segments},w=()=>{u.value=!0},L=()=>{n.value?.$el.querySelector("input[type=file]")?.click()},_=async()=>{const e=a.value?.getImageSrc();await E(rl,{url:e,coloristicType:"mask",maskType:p.value?.type,currentUserId:h.value?.uid,canvas:a.value?.getCanvasValue()})};return(0,o.wB)(()=>b.value,e=>{c.dispatch("imageColor/setShareImgCollage",{share:e})}),(0,o.wB)(()=>f.value,e=>{c.dispatch("imageColor/setRememberImgMask",{remember:e})}),(0,o.wB)(()=>c.getters["imageColor/imgCollage"],e=>{c.getters["imageColor/shareImgMask"]&&y(e)}),{frameColors:g,imageUrl:m,onFileSelected:y,cards:d,selected:I,selectedCard:p,visiblePopover:u,isMobile:k,openPopover:w,triggerUpload:L,uploader:n,t:l,saveToGallery:C,isSaveToGallery:v,editorCanvasRef:a,sharedWithCollage:b,rememberChoose:f,openImageModal:_}}});const Gl=(0,b.A)(Dl,[["render",_l],["__scopeId","data-v-25955420"]]);var Pl=Gl;const Ul={class:"loader-container"};function zl(e,t){return(0,o.uX)(),(0,o.CE)("div",Ul,[...t[0]||(t[0]=[(0,o.Lk)("div",{class:"loader"},null,-1)])])}const Ol={},jl=(0,b.A)(Ol,[["render",zl],["__scopeId","data-v-30e38327"]]);var Ql=jl,$l=(0,o.pM)({components:{AppLoader:Ql,AppColorMask:Pl,AppCollage:bl,AppTab:Qt,AppTabs:Ut},setup(){const e=(0,s.KR)(null),t=(0,s.KR)(!1),a=t=>{e.value=t};return{imageUrl:e,fileOnLoad:a,isLoading:t}}});const Nl=(0,b.A)($l,[["render",Bt],["__scopeId","data-v-6e86720c"]]);var ql=Nl;const Yl={namespaced:!0,state:()=>({toasts:[],counter:0}),mutations:{ADD_TOAST(e,t){const a=e.counter++;e.toasts.push({id:a,...t}),setTimeout(()=>{const t=e.toasts.findIndex(e=>e.id===a);-1!==t&&e.toasts.splice(t,1)},t.duration)},DELETE_TOAST(e,t){const a=e.toasts.findIndex(e=>e.id===t);-1!==a&&e.toasts.splice(a,1)}},actions:{addToast({commit:e},t){e("ADD_TOAST",{message:t.message,severity:t.severity||"info",duration:t.duration||4e3})},deleteToast({commit:e},t){e("DELETE_TOAST",t.id)}},getters:{getToasts(e){return e.toasts}}},Hl={namespaced:!0,state:()=>({theme:"light",isDark:!1}),mutations:{INIT_THEME(e){let t=localStorage.getItem("theme");t&&(e.theme=t,e.isDark="dark"===t,document.documentElement.classList.toggle("dark",e.isDark))},SET_THEME(e,t){e.theme=t?"dark":"light",e.isDark=t,document.documentElement.classList.toggle("dark",t),localStorage.setItem("theme",e.theme)}},actions:{initTheme({commit:e}){e("INIT_THEME")},setTheme({commit:e},t){e("SET_THEME",t)}},getters:{isDark(e){return e.isDark}}},Jl={namespaced:!0,state:()=>({language:"en"}),mutations:{INIT_LANGUAGE(e){let t=localStorage.getItem("language");t&&(e.language=t)},SET_LANGUAGE(e,t){e.language=t.language,localStorage.setItem("language",t.language)}},actions:{initLanguage({commit:e}){e("INIT_LANGUAGE")},setLanguage({commit:e},t){e("SET_LANGUAGE",t)}},getters:{language(e){return e.language}}},Zl={"auth/invalid-credential":"incorrectLoginPassword","auth/user-not-found":"userNotFound"},eo={namespaced:!0,state:()=>({user:null,loading:!1}),getters:{isAuthenticated:e=>{const t=localStorage.getItem("user"),a=t?JSON.parse(t):null;return!!e.user||!!a},currentUser:e=>e.user,isLoading:e=>e.loading,getUserId:()=>{const e=localStorage.getItem("user");return e?JSON.parse(e).uid:null}},mutations:{setUser(e,t){e.user=t,localStorage.setItem("user",JSON.stringify(t))},setLoading(e,t){e.loading=t}},actions:{async login({commit:e,dispatch:t},{email:a,password:l}){e("setLoading",!0);try{const t=await(0,na.x9)(ua,a,l);e("setUser",t.user)}catch(o){throw t("toast/addToast",{message:Zl[o.code],severity:"error",duration:3e3},{root:!0}),e("setLoading",!1),o}finally{e("setLoading",!1)}},async logout({commit:e}){await(0,na.CI)(ua),e("setUser",null)}}},to={namespaced:!0,state:()=>({clientWidth:0,breakPoint:"desktop"}),mutations:{SET_CLIENT_WIDTH(e,t){e.clientWidth=t.clientWidth,t.clientWidth<600&&(e.breakPoint="mobile"),t.clientWidth>600&&t.clientWidth<1024&&(e.breakPoint="tablet"),t.clientWidth>1024&&t.clientWidth<1440&&(e.breakPoint="desktop"),t.clientWidth>1440&&(e.breakPoint="fullScreen")}},actions:{setClientWidth({commit:e},t){e("SET_CLIENT_WIDTH",t)}},getters:{clientWidth(e){return e.clientWidth},breakPoint(e){return e.breakPoint}}},ao={namespaced:!0,state:()=>({isOpen:!1}),mutations:{SET_BURGER(e,t){e.isOpen=t.isOpen}},actions:{setBurger({commit:e},t){e("SET_BURGER",t)}},getters:{isOpen(e){return e.isOpen}}},lo={namespaced:!0,state:()=>({rememberImgMask:!0,rememberImgCollage:!0,shareImgMask:!0,shareImgCollage:!0,imgMask:null,imgCollage:null}),mutations:{UPLOAD_IMG_MASK(e,t){e.imgMask=t.file},UPLOAD_IMG_COLLAGE(e,t){e.imgCollage=t.file},SET_REMEMBER_IMG_MASK(e,t){e.rememberImgMask=t.remember},SET_REMEMBER_IMG_COLLAGE(e,t){e.rememberImgCollage=t.remember},SET_SHARE_IMG_COLLAGE(e,t){e.shareImgCollage=t.share},SET_SHARE_IMG_MASK(e,t){e.shareImgMask=t.share}},actions:{uploadImgMask({commit:e},t){e("UPLOAD_IMG_MASK",t)},uploadImgCollage({commit:e},t){e("UPLOAD_IMG_COLLAGE",t)},setRememberImgCollage({commit:e},t){e("SET_REMEMBER_IMG_COLLAGE",t)},setRememberImgMask({commit:e},t){e("SET_REMEMBER_IMG_MASK",t)},setShareImgCollage({commit:e},t){e("SET_SHARE_IMG_COLLAGE",t)},setShareImgMask({commit:e},t){e("SET_SHARE_IMG_MASK",t)}},getters:{rememberImgMask(e){return e.rememberImgMask},rememberImgCollage(e){return e.rememberImgCollage},shareImgMask(e){return e.shareImgMask},shareImgCollage(e){return e.shareImgCollage},imgMask(e){return e.imgMask},imgCollage(e){return e.imgCollage}}},oo={namespaced:!0,actions:{async saveImageToGallery({dispatch:e},{canvas:t,path:a=`avatar/${Date.now()}.png`,title:l="",coloristicType:o,maskType:n,userId:s,folder:r=""}){return new Promise((i,c)=>{t.toBlob(async t=>{if(!t)return c(new Error("Не удалось получить Blob из canvas"));try{const c=(0,la.KR)(pa,a);await(0,la.D)(c,t);const u=await(0,la.qk)(c);await(0,sa.gS)((0,sa.rJ)(da,"gallery","NoUcXcCCYhRoogXFHJfV","items"),{userId:s,url:u,title:l,coloristicType:o,maskType:n,folder:r,createdAt:new Date}),await e("toast/addToast",{message:"successImage",severity:"success"},{root:!0}),i(u)}catch(u){await e("toast/addToast",{message:"errorImage",severity:"error"},{root:!0}),c(u)}},"image/png")})}}};var no=(0,r.y$)({state:{},getters:{},mutations:{},actions:{},modules:{toast:Yl,theme:Hl,language:Jl,authFirebase:eo,mobile:to,burgerMenu:ao,imageColor:lo,gallery:oo},plugins:[(0,r.h)()]});const so={class:"gallery-container"},ro={class:"gallery-wrapper"},io={class:"gallery-helper"},co={class:"search"},uo={class:"images"};function po(e,t,a,l,n,s){const r=(0,o.g2)("AppLoader"),i=(0,o.g2)("app-input"),u=(0,o.g2)("app-button"),d=(0,o.g2)("app-image-card"),p=(0,o.g2)("app-image-modal");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",so,[e.isLoading?((0,o.uX)(),(0,o.Wv)(r,{key:0})):(0,o.Q3)("",!0),(0,o.Lk)("div",ro,[(0,o.Lk)("section",io,[(0,o.Lk)("div",co,[(0,o.bF)(i,{placeholder:"Search",icon:["fas","search"],"is-label":!1})]),(0,o.Lk)("div",null,[(0,o.bF)(u,{severity:"secondary",raised:"",icon:["fas","filter"]})])]),(0,o.Lk)("section",uo,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.images,(t,a)=>((0,o.uX)(),(0,o.Wv)(d,{key:t.id||a,src:t.src,onClick:t=>e.openModal(a)},{default:(0,o.k6)(()=>[(0,o.eW)(" Фото "+(0,c.v_)(a+1),1)]),_:2},1032,["src","onClick"]))),128)),null!==e.currentIndex?((0,o.uX)(),(0,o.Wv)(p,{key:0,images:e.images,"start-index":e.currentIndex,onClose:e.closeModal},null,8,["images","start-index","onClose"])):(0,o.Q3)("",!0)])])]),t[0]||(t[0]=(0,o.Lk)("footer",{class:"footer"},"Загружено: 100",-1))],64)}a(1701);const go=["src","alt"],mo={key:1,class:"fallback"},vo={class:"overlay"};function bo(e,t,a,l,n,s){return(0,o.uX)(),(0,o.CE)("div",{class:(0,c.C4)(["image-card",{rounded:e.rounded}]),style:(0,c.Tr)({width:e.width+"px",height:e.height+"px"})},[e.error?((0,o.uX)(),(0,o.CE)("div",mo,[(0,o.RG)(e.$slots,"fallback",{},()=>[t[2]||(t[2]=(0,o.eW)("⚠️ Ошибка загрузки",-1))],!0)])):((0,o.uX)(),(0,o.CE)("img",{key:0,src:e.src,alt:e.alt,style:(0,c.Tr)({objectFit:e.fit}),loading:"lazy",class:(0,c.C4)({"fade-in":e.loaded}),onError:t[0]||(t[0]=(...t)=>e.onError&&e.onError(...t)),onLoad:t[1]||(t[1]=(...t)=>e.onLoad&&e.onLoad(...t))},null,46,go)),(0,o.Lk)("div",vo,[(0,o.RG)(e.$slots,"default",{},void 0,!0)])],6)}var fo=(0,o.pM)({props:{src:{type:String,required:!0},alt:{type:String,default:""},fit:{type:String,default:"cover"},rounded:{type:Boolean,default:!0}},setup(){const e=(0,s.KR)(!1),t=(0,s.KR)(!1);function a(){e.value=!0}function l(){t.value=!0}return{error:e,loaded:t,onError:a,onLoad:l}}});const ho=(0,b.A)(fo,[["render",bo],["__scopeId","data-v-35ec0575"]]);var ko=ho;const yo={ref:"modalRef",class:"modal-content"},Co=["src"],Io={class:"info-section"},Eo={class:"info-section-wrapper"},wo={class:"info"},Lo={class:"badge"},_o={class:"badge"},Mo={class:"actions"},Fo={class:"btn"},Ro={class:"btn"};function Ao(e,t,a,n,s,r){const i=(0,o.g2)("app-button");return(0,o.uX)(),(0,o.CE)("div",{class:"modal-backdrop",onClick:t[3]||(t[3]=(0,l.D$)((...t)=>e.close&&e.close(...t),["self"]))},[(0,o.Lk)("div",yo,[(0,o.Lk)("img",{src:e.images[e.index].src,alt:""},null,8,Co),(0,o.Lk)("section",Io,[(0,o.Lk)("div",Eo,[(0,o.Lk)("div",wo,[(0,o.Lk)("h3",null,(0,c.v_)(e.images[e.index].title),1),(0,o.Lk)("span",Lo,(0,c.v_)(e.images[e.index].maskType),1),(0,o.Lk)("span",_o,(0,c.v_)(e.images[e.index].coloristicType),1)]),(0,o.Lk)("div",Mo,[(0,o.Lk)("div",Fo,[(0,o.bF)(i,{title:"Edit"})]),(0,o.Lk)("div",Ro,[(0,o.bF)(i,{severity:"error",title:"Delete"})])])])]),(0,o.Lk)("button",{class:"close",onClick:t[0]||(t[0]=(...t)=>e.close&&e.close(...t))},"✖"),(0,o.Lk)("button",{class:"prev",onClick:t[1]||(t[1]=(...t)=>e.prev&&e.prev(...t))},"⟨"),(0,o.Lk)("button",{class:"next",onClick:t[2]||(t[2]=(...t)=>e.next&&e.next(...t))},"⟩")],512)])}var So=(0,o.pM)({components:{AppButton:He},props:{images:{type:Array,required:!0},startIndex:{type:Number,required:!0}},emits:["close"],setup(e,{emit:t}){const a=(0,s.KR)(e.startIndex),l=(0,s.KR)(null);let n=null;function r(){a.value=(a.value+1)%e.images.length}function i(){a.value=(a.value-1+e.images.length)%e.images.length}function c(){t("close")}return(0,o.wB)(()=>e.startIndex,e=>{a.value=e}),(0,o.sV)(()=>{l.value&&(n=new(za())(l.value),n.on("swipeleft",r),n.on("swiperight",i))}),(0,o.hi)(()=>{n?.destroy()}),{index:a,next:r,prev:i,close:c,modalRef:l}}});const To=(0,b.A)(So,[["render",Ao],["__scopeId","data-v-77b5f2e0"]]);var xo=To,Bo=(0,o.pM)({components:{AppLoader:Ql,AppButton:He,AppInput:de,AppImageModal:xo,AppImageCard:ko},setup(){const e=(0,r.Pj)(),t=(0,s.KR)([]),a=(0,sa.aU)(),l=(0,s.KR)(null),n=(0,s.KR)(!1);async function i(e,t={}){const{coloristicType:l,title:o,pageSize:n=20,lastDoc:s}=t,r=(0,sa.rJ)(a,"gallery","NoUcXcCCYhRoogXFHJfV","items"),i=[(0,sa._M)("userId","==",e)];l&&i.push((0,sa._M)("coloristicType","==",l)),o?(i.push((0,sa.My)("title")),i.push((0,sa.EO)(o)),i.push((0,sa.FD)(o+""))):i.push((0,sa.My)("createdAt","desc")),s&&i.push((0,sa.HM)(s)),i.push((0,sa.AB)(n));const c=(0,sa.P)(r,...i),u=await(0,sa.GG)(c),d=u.docs.map(e=>({id:e.id,...e.data()}));return{items:d,lastDoc:u.docs.length>0?u.docs[u.docs.length-1]:null}}function c(e){l.value=e}function u(){l.value=null}return(0,o.sV)(async()=>{n.value=!0;const a=e.getters["authFirebase/getUserId"];if(a){const{items:e}=await i(a);t.value=e.map(e=>({src:e.url,title:e.title,coloristicType:e.coloristicType,maskType:e.maskType})),n.value=!1}}),{images:t,currentIndex:l,openModal:c,closeModal:u,isLoading:n}}});const Ko=(0,b.A)(Bo,[["render",po],["__scopeId","data-v-dc1c9c74"]]);var Vo=Ko;const Xo=[{path:"/",name:"auth",component:Te,redirect:"/login",children:[{path:"login",name:"login",component:at},{path:"forgot",name:"forgot",component:st}]},{path:"/main",name:"main",component:Tt,redirect:"/main/color",meta:{requiresAuth:!0},children:[{path:"color",name:"color",component:ql,meta:{requiresAuth:!0}},{path:"gallery",name:"gallery",component:Vo,meta:{requiresAuth:!0}}]}],Wo=(0,S.aE)({history:(0,S.Bt)("/RM_Rainbow-Manager/"),routes:Xo});Wo.beforeEach((e,t,a)=>{const l=no.getters["authFirebase/isAuthenticated"];e.matched.some(e=>e.meta.requiresAuth)?l?a():a({name:"login"}):"login"===e.name&&l?a({name:"color"}):a()});var Do=Wo,Go=a(8950),Po=a(2353),Uo=a(292);const zo={en:{login:"Login",email:"Email",password:"Password",forgot:"Forgot",userName:"Username",incorrectLoginPassword:"Incorrect login or password",userNotFound:"User not found",validation:{required:"This field is required",email:"Invalid email address",min:"Minimum {count} characters"},colorType:"Color type",gallery:"Gallery",upload:"Upload",mask:"Mask",collage:"Collage",logout:"Logout",saveToGallery:"Save to Gallery",addSign:"Add Sign",shareImageWithCollage:"Share image with collage",shareImageWithMask:"Share image with mask",rememberChoose:"Remember choose",successImage:"Image uploaded",errorImage:"Error image uploaded"},ru:{login:"Вход",email:"Почта",password:"Пароль",forgot:"Забыли",userName:"Имя пользователя",incorrectLoginPassword:"Неверный логин или пароль",userNotFound:"Пользователь не найден",validation:{required:"Поле обязательно",email:"Некорректный email",min:"Минимум {count} символов"},colorType:"Колористика",gallery:"Галерея",upload:"Загрузить",mask:"Маска",collage:"Коллаж",logout:"Выйти",saveToGallery:"Сохранить в галерею",addSign:"Добавить подпись",shareImageWithCollage:"Показывать в коллаже",shareImageWithMask:"Показывать в маске",rememberChoose:"Запомнить",successImage:"Изображение загружено",errorImage:"Ошибка при загрузке изображения"}},Oo=(0,i.hU)({locale:"en",fallbackLocale:"ru",messages:zo});Go.Yv.add(Po.MjD,Po.mRM,Po.SGM,Po.s0Q,Po.iW_,Po.zpE,Po.DW4,Po.M9Z,Po.y_8,Po.N72,Po.U23,Po.hSh,Po.QLR,Po.EZy,Po.yBu,Po.CeG,Po.dmS,Po.S7o,Po.yvG,Po.nx5,Po.vHW,Po.m1c,Po.zLW),(0,na.hg)(ua,e=>{no.commit("authFirebase/setUser",e)}),(0,l.Ef)(A).use(no).use(Do).use(Oo).component("font-awesome-icon",Uo.gc).mount("#app")}},t={};function a(l){var o=t[l];if(void 0!==o)return o.exports;var n=t[l]={exports:{}};return e[l].call(n.exports,n,n.exports,a),n.exports}a.m=e,function(){var e=[];a.O=function(t,l,o,n){if(!l){var s=1/0;for(u=0;u<e.length;u++){l=e[u][0],o=e[u][1],n=e[u][2];for(var r=!0,i=0;i<l.length;i++)(!1&n||s>=n)&&Object.keys(a.O).every(function(e){return a.O[e](l[i])})?l.splice(i--,1):(r=!1,n<s&&(s=n));if(r){e.splice(u--,1);var c=o();void 0!==c&&(t=c)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[l,o,n]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.p="/RM_Rainbow-Manager/"}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,l){var o,n,s=l[0],r=l[1],i=l[2],c=0;if(s.some(function(t){return 0!==e[t]})){for(o in r)a.o(r,o)&&(a.m[o]=r[o]);if(i)var u=i(a)}for(t&&t(l);c<s.length;c++)n=s[c],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(u)},l=self["webpackChunkvue_exeample"]=self["webpackChunkvue_exeample"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=a.O(void 0,[504],function(){return a(8338)});l=a.O(l)})();
//# sourceMappingURL=app.d5c85311.js.map