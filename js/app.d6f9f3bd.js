(function(){"use strict";var e={2823:function(e,a,t){e.exports=t.p+"img/rainbow-folder.e49409a1.png"},7465:function(e,a,t){var l=t(5130),o=t(6768);function s(e,a,t,l,s,r){const n=(0,o.g2)("app-toaster"),i=(0,o.g2)("app-dialog"),c=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(n),(0,o.bF)(i),(0,o.bF)(c)],64)}var r=t(144),n=t(782),i=t(5931),c=t(4232);const d={class:"toast-container"},u={class:"toast-icon"},p={class:"toast-message"},g=["onClick"];function m(e,a,t,s,r,n){const i=(0,o.g2)("font-awesome-icon");return(0,o.uX)(),(0,o.Wv)(o.Im,{to:"body"},[(0,o.Lk)("div",d,[(0,o.bF)(l.F,{name:"toast",tag:"div"},{default:(0,o.k6)(()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.toasts,a=>((0,o.uX)(),(0,o.CE)("div",{id:"toastTest",key:a.id,class:(0,c.C4)(["toast",a.severity])},[(0,o.Lk)("span",u,[(0,o.bF)(i,{icon:e.iconClass(a.severity)},null,8,["icon"])]),(0,o.Lk)("span",p,(0,c.v_)(e.t(a.message)),1),(0,o.Lk)("div",{class:"toast-progress",style:(0,c.Tr)({animationDuration:a.duration+"ms"})},null,4),(0,o.Lk)("div",{class:"toast-delete",onClick:t=>e.deleteToast(a.id)},[(0,o.bF)(i,{icon:["fas","times-circle"]})],8,g)],2))),128))]),_:1})])])}var v=(0,o.pM)({setup(){const{t:e}=(0,i.s9)(),a=(0,n.Pj)(),t=(0,o.EW)(()=>a.getters["toast/getToasts"]),l=e=>{a.dispatch("toast/deleteToast",{id:e})},s=e=>{switch(e){case"success":return["fas","check-circle"];case"error":return["fas","times-circle"];case"info":return["fas","info-circle"];case"warning":return["fas","exclamation-triangle"];default:return["fas","times-circle"]}};return{toasts:t,iconClass:s,deleteToast:l,t:e}}}),f=t(1241);const y=(0,f.A)(v,[["render",m],["__scopeId","data-v-3a48c8ba"]]);var b=y;const k=["onClick"];function h(e,a,t,s,r,n){return(0,o.uX)(),(0,o.Wv)(o.Im,{to:"body"},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.dialogsSt.dialogs,a=>((0,o.uX)(),(0,o.CE)("div",{key:a.id,class:(0,c.C4)(["dialog-backdrop",{"dialog-backdrop-transparent":a.options?.transparent}]),onClick:(0,l.D$)(t=>e.close(a.id),["self"])},[((0,o.uX)(),(0,o.Wv)((0,o.$y)(a.component),(0,o.v6)({ref_for:!0},a.props,{onResolve:t=>{a.resolve(t),e.close(a.id)},onReject:t=>{a.reject(t),e.close(a.id)},onClose:t=>e.close(a.id)}),null,16,["onResolve","onReject","onClose"]))],10,k))),128))])}t(4114),t(8111),t(2489);let C=0;const I=(0,r.Kh)({dialogs:[]});function E(e,a={},t){return new Promise((l,o)=>{const s=++C;I.dialogs.push({id:s,component:e,props:a,resolve:l,reject:o,options:t})})}function L(e){I.dialogs=I.dialogs.filter(a=>a.id!==e)}var F=(0,o.pM)({setup(){const e=I,a=L;return{dialogsSt:e,close:a}}});const w=(0,f.A)(F,[["render",h],["__scopeId","data-v-c2b2f8e4"]]);var _=w,T=(0,o.pM)({components:{AppDialog:_,AppToaster:b},setup(){const e=(0,r.KR)(document.documentElement.clientWidth),a=(0,n.Pj)(),{locale:t}=(0,i.s9)();a.dispatch("theme/initTheme"),a.dispatch("language/initLanguage"),(0,o.wB)(()=>a.getters["language/language"],e=>{t.value=e},{immediate:!0});const l=()=>{e.value=document.documentElement.clientWidth,a.dispatch("mobile/setClientWidth",{clientWidth:e.value})};(0,o.sV)(()=>{a.dispatch("mobile/setClientWidth",{clientWidth:e.value}),window.addEventListener("resize",l)}),(0,o.xo)(()=>{window.removeEventListener("resize",l)})}});const M=(0,f.A)(T,[["render",s]]);var R=M,A=(t(3579),t(1387)),S=t.p+"img/rainbow.defa200a.svg";const B={class:"container"},V={class:"header-section"},X={class:"app-dropdown"};function D(e,a,t,l,s,r){const n=(0,o.g2)("app-toggle"),i=(0,o.g2)("app-option"),d=(0,o.g2)("app-dropdown"),u=(0,o.g2)("app-header"),p=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)("div",B,[(0,o.bF)(u,null,{default:(0,o.k6)(()=>[(0,o.Lk)("section",V,[a[2]||(a[2]=(0,o.Lk)("img",{src:S,alt:"App Logo",width:"32",height:"32"},null,-1)),(0,o.Lk)("section",null,[(0,o.bF)(n,{modelValue:e.isDark,"onUpdate:modelValue":a[0]||(a[0]=a=>e.isDark=a),variant:"theme",onToggled:e.toggled},null,8,["modelValue","onToggled"]),(0,o.Lk)("div",X,[(0,o.bF)(d,{modelValue:e.language,"onUpdate:modelValue":a[1]||(a[1]=a=>e.language=a),label:"name"},{default:(0,o.k6)(()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.languages,e=>((0,o.uX)(),(0,o.Wv)(i,{key:e,value:e},{default:(0,o.k6)(()=>[(0,o.eW)((0,c.v_)(e),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])])])])]),_:1}),(0,o.bF)(p)])}const K=["aria-disabled"],x=["checked","disabled"];function W(e,a,t,s,r,n){return(0,o.uX)(),(0,o.CE)("label",{ref:"switchEl",class:(0,c.C4)([[e.variant,{disabled:e.disabled}],"switch"]),tabindex:"0","aria-disabled":e.disabled,onKeydown:[a[1]||(a[1]=(0,l.jR)((0,l.D$)((...a)=>e.onKeyToggle&&e.onKeyToggle(...a),["prevent"]),["space"])),a[2]||(a[2]=(0,l.jR)((0,l.D$)((...a)=>e.onKeyToggle&&e.onKeyToggle(...a),["prevent"]),["enter"]))]},[(0,o.Lk)("input",{type:"checkbox",checked:e.modelValue,disabled:e.disabled,onChange:a[0]||(a[0]=(...a)=>e.onToggle&&e.onToggle(...a))},null,40,x),a[3]||(a[3]=(0,o.Lk)("span",{class:"slider"},null,-1))],42,K)}function G(e,a){const t=(0,r.KR)(null),l=e=>{const t=e.target;a("update:modelValue",t.checked),a("toggled",t.checked)},s=()=>{e.disabled||(a("update:modelValue",!e.modelValue),a("toggled",!e.modelValue))};return(0,o.sV)(()=>{!e.disabled&&t.value&&t.value.focus()}),{onToggle:l,onKeyToggle:s,switchEl:t}}var U=(0,o.pM)({props:{modelValue:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},variant:{type:String,default:"default"}},emits:["update:modelValue","toggled"],setup(e,a){return G(e,a.emit)}});const P=(0,f.A)(U,[["render",W],["__scopeId","data-v-4d8e97e2"]]);var O=P;const z={class:"header"};function Q(e,a){return(0,o.uX)(),(0,o.CE)("header",z,[(0,o.RG)(e.$slots,"default",{},void 0,!0)])}const j={},N=(0,f.A)(j,[["render",Q],["__scopeId","data-v-bea2ffe6"]]);var $=N;const H=["disabled"],q={key:0,class:"search"};function Y(e,a,t,l,s,r){const n=(0,o.g2)("app-input"),i=(0,o.g2)("app-overlay-panel");return(0,o.uX)(),(0,o.CE)("section",null,[(0,o.Lk)("div",{ref:"targetRef",class:"dropdown-container",onClick:a[3]||(a[3]=(...a)=>e.toggle&&e.toggle(...a))},[(0,o.bF)(n,{modelValue:e.valueRef,"onUpdate:modelValue":a[0]||(a[0]=a=>e.valueRef=a),height:e.height,"is-label":e.isTitle,readonly:!0,disabled:e.disabled,label:e.title},null,8,["modelValue","height","is-label","disabled","label"]),(0,o.Lk)("button",{disabled:e.disabled,type:"button",class:(0,c.C4)(["toggle-btn",{withTitle:e.isTitle}])}," ▼ ",10,H),e.targetRef?((0,o.uX)(),(0,o.Wv)(i,{key:0,visible:e.visible,"onUpdate:visible":a[2]||(a[2]=a=>e.visible=a),target:e.targetRef},{default:(0,o.k6)(()=>[e.isSearch?((0,o.uX)(),(0,o.CE)("div",q,[(0,o.bF)(n,{modelValue:e.searchValue,"onUpdate:modelValue":a[1]||(a[1]=a=>e.searchValue=a),placeholder:"search",icon:["fas","search"],"is-label":!1},null,8,["modelValue"])])):(0,o.Q3)("",!0),(0,o.RG)(e.$slots,"default",{},void 0,!0)]),_:3},8,["visible","target"])):(0,o.Q3)("",!0)],512)])}const J=["for"],Z={ref:"wrapperRef",class:"wrap-input validate-input"},ee=["id","value","type","placeholder","disabled","readonly"],ae={key:0,class:"symbol-input100"};function te(e,a,t,l,s,r){const n=(0,o.g2)("font-awesome-icon"),i=(0,o.g2)("app-input-error-overlay");return(0,o.uX)(),(0,o.CE)("section",null,[e.isLabel?((0,o.uX)(),(0,o.CE)("label",{key:0,class:"label",for:e.type},(0,c.v_)(e.t(e.label)),9,J)):(0,o.Q3)("",!0),(0,o.Lk)("div",Z,[(0,o.Lk)("input",{id:e.type,ref:"inputRef",value:e.modelValue,class:(0,c.C4)(["input100",{pr:e.icon}]),type:e.type,placeholder:e.t(e.placeholder),disabled:e.disabled,readonly:e.readonly,style:(0,c.Tr)({height:e.height}),onInput:a[0]||(a[0]=(...a)=>e.handleInput&&e.handleInput(...a)),onBlur:a[1]||(a[1]=(...a)=>e.handleBlur&&e.handleBlur(...a)),onFocus:a[2]||(a[2]=(...a)=>e.showErrorToggle&&e.showErrorToggle(...a))},null,46,ee),a[3]||(a[3]=(0,o.Lk)("span",{class:"focus-input100"},null,-1)),e.icon?((0,o.uX)(),(0,o.CE)("span",ae,[(0,o.bF)(n,{icon:e.icon},null,8,["icon"])])):(0,o.Q3)("",!0)],512),e.wrapperRef?((0,o.uX)(),(0,o.Wv)(i,{key:1,target:e.wrapperRef,message:e.error,visible:e.showError,"z-index":e.zIndexTooltip,onClick:e.showErrorToggle},null,8,["target","message","visible","z-index","onClick"])):(0,o.Q3)("",!0)])}const le={class:"error-message"};function oe(e,a,t,l,s,r){return(0,o.uX)(),(0,o.Wv)(o.Im,{to:"body"},[e.visible?((0,o.uX)(),(0,o.CE)("div",{key:0,ref:"overlayRef",class:"error-overlay",style:(0,c.Tr)(e.overlayStyle),onClick:a[0]||(a[0]=(...a)=>e.onClick&&e.onClick(...a))},[(0,o.Lk)("section",null,[(0,o.Lk)("div",le,(0,c.v_)("string"===typeof e.message?e.t(e.message):e.t(e.message.key,e.message.values)),1),a[1]||(a[1]=(0,o.Lk)("div",{class:"exclamation-mark"},"!",-1))])],4)):(0,o.Q3)("",!0)])}const se=7.5,re=1.5;var ne=(0,o.pM)({props:{target:{type:Object,required:!0},message:{type:[String,Object],default:""},visible:{type:Boolean,default:!1},zIndex:{type:Number,default:1010}},emits:["click"],setup(e,{emit:a}){const{t:t}=(0,i.s9)(),l=(0,r.KR)(null),s=(0,r.KR)(0),n=(0,o.EW)(()=>{if(s.value,!e.target)return{};const a=e.target.getBoundingClientRect();return{position:"absolute",top:`${a.top+window.scrollY+se}px`,left:`${a.left+window.scrollX+Math.round(a.width/3.5)}px`,width:a.width/re+"px",zIndex:e.zIndex}}),c=()=>{s.value=Date.now()},d=()=>{a("click")};return(0,o.sV)(()=>{window.addEventListener("resize",c),window.addEventListener("scroll",c,!0)}),(0,o.xo)(()=>{window.removeEventListener("resize",c),window.removeEventListener("scroll",c,!0)}),{overlayRef:l,overlayStyle:n,onClick:d,t:t}}});const ie=(0,f.A)(ne,[["render",oe],["__scopeId","data-v-456e7f20"]]);var ce=ie,de=(0,o.pM)({components:{AppInputErrorOverlay:ce},props:{modelValue:{type:String,default:""},error:{type:[String,Boolean],default:""},isLabel:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},placeholder:{type:String,default:""},type:{type:String,default:"text"},label:{type:String,default:"text"},icon:{type:[Array,String],default:""},zIndexTooltip:{type:Number,default:1010},height:{type:String,default:"50px"},isFocused:{type:Boolean,default:!1}},emits:["update:modelValue","blur","change","focus"],setup(e,{emit:a}){const t=(0,r.KR)(""),{t:l}=(0,i.s9)(),s=(0,r.KR)(!1),n=(0,r.KR)(!1),c=(0,r.KR)(null),d=(0,r.KR)(null),u=()=>{a("focus"),n.value=!0,c.value?.focus(),m()},p=()=>{a("blur"),n.value=!1,m()},g=e=>{a("update:modelValue",e.target.value),n.value=!0,m()},m=()=>{s.value=!n.value&&Boolean(e.error)};return(0,o.sV)(()=>{e.isFocused&&c.value?.focus()}),(0,o.wB)(()=>e.error,()=>{m()},{immediate:!0}),{value:t,showError:s,showErrorToggle:u,inputRef:c,wrapperRef:d,handleInput:g,handleBlur:p,t:l}}});const ue=(0,f.A)(de,[["render",te],["__scopeId","data-v-24554283"]]);var pe=ue;function ge(e,a,t,l,s,r){return(0,o.uX)(),(0,o.Wv)(o.Im,{to:"body"},[e.visible?((0,o.uX)(),(0,o.CE)("div",{key:0,ref:"overlayRef",class:"overlay",style:(0,c.Tr)(e.overlayStyle)},[(0,o.RG)(e.$slots,"default",{},void 0,!0)],4)):(0,o.Q3)("",!0)])}const me=3;function ve(e,a){switch(a){case"left":return e.left;case"right":return e.right;case"center":return e.left+e.width/2}}function fe(e,a){switch(a){case"top":return e.top;case"bottom":return e.bottom;case"center":return e.top+e.height/2}}function ye(e,a,t,l){const o=ve(a,e),s=o-t>=0,r=o+t<=l,n=o-t/2>=0&&o+t/2<=l;return"left"===e?s?"left":n?"center":"right":"right"===e?r?"right":n?"center":"left":"center"}function be(e,a,t,l){const o=fe(a,e),s=o-t>=0,r=o+t<=l,n=o-t/2>=0&&o+t/2<=l;return"top"===e?s?"top":n?"center":"bottom":"bottom"===e?r?"bottom":n?"center":"top":n?"center":s?"top":"bottom"}function ke(e,a){let t;return t=null!==a?"number"===typeof a?`${a}px`:String(a):`${Math.round(e.width)}px`,t}function he(e,a,t,l,o){const s=document.documentElement.clientWidth,r=document.documentElement.clientHeight;return{x:ye(l,e,a,s),y:be(o,e,t,r)}}var Ce=(0,o.pM)({props:{target:{type:Object,required:!0},visible:{type:Boolean,default:!0},zIndex:{type:Number,default:1010},position:{type:Object,default:()=>({x:"center",y:"bottom"})},width:{type:[Number,String],default:null}},emits:["update:visible"],setup(e,{emit:a}){const t=(0,r.KR)(null),l=(0,r.KR)(0),s=(0,o.EW)(()=>{if(l.value,!e.target)return{};const a=e.target.getBoundingClientRect(),o=t.value,s=window.scrollX,r=window.scrollY,n=o?.offsetWidth??0,i=o?.offsetHeight??0,{x:c,y:d}=he(a,n,i,e.position.x,e.position.y),u=d,p=c;let g=a.top+r,m=a.left+s,v=0,f=0;switch(u){case"top":g=a.top+r-i;break;case"bottom":g=a.top+r+a.height+me;break;case"center":g=a.top+r+a.height/2,f=-50;break}switch(p){case"left":m=a.left+s-n;break;case"right":m=a.left+s+a.width;break;case"center":m=a.left+a.width/2,v=-50;break}const y=[];return v&&y.push(`translateX(${v}%)`),f&&y.push(`translateY(${f}%)`),{position:"fixed",top:`${Math.round(g)}px`,left:`${Math.round(m)}px`,transform:y.length?y.join(" "):void 0,zIndex:e.zIndex,width:ke(a,e.width)}}),n=()=>{l.value=Date.now()},i=l=>{const o=t.value,s=e.target,r=l.target;o&&!o.contains(r)&&s&&!s.contains(r)&&a("update:visible",!1)};return(0,o.sV)(()=>{window.addEventListener("resize",n),window.addEventListener("scroll",n,!0),document.addEventListener("click",i),(0,o.dY)(n)}),(0,o.xo)(()=>{window.removeEventListener("resize",n),window.removeEventListener("scroll",n,!0),document.removeEventListener("click",i)}),{overlayStyle:s,overlayRef:t}}});const Ie=(0,f.A)(Ce,[["render",ge],["__scopeId","data-v-512dbea3"]]);var Ee=Ie,Le=(0,o.pM)({components:{AppOverlayPanel:Ee,AppInput:pe},props:{modelValue:{type:[String,Number,Object],default:null},label:{type:String,default:""},disabled:{type:Boolean,default:!1},height:{type:String,default:"32px"},isSearch:{type:Boolean,default:!1},isTitle:{type:Boolean,default:!1},title:{type:String,default:""}},emits:["update:modelValue","search"],setup(e,{emit:a}){const t=(0,o.EW)(()=>e.modelValue),l=(0,r.KR)(null),s=(0,r.KR)(null),n=(0,r.KR)(!1),i=(0,r.KR)(""),c=()=>{n.value=!n.value},d=t=>{if("string"===typeof t&&(l.value=t),"object"===typeof t&&null!==t){const a=t;l.value=a[e.label]}a("update:modelValue",t),n.value=!1};return(0,o.sV)(()=>{if("string"===typeof e.modelValue&&(l.value=e.modelValue),"object"===typeof e.modelValue&&null!==e.modelValue){const a=e.modelValue;l.value=a[e.label]}}),(0,o.Gt)("select",d),(0,o.Gt)("selected",t),(0,o.wB)(i,e=>{a("search",e)}),(0,o.wB)(()=>e.modelValue,a=>{l.value="string"===typeof a?a:"object"===typeof a&&null!==a?a[e.label]:null},{immediate:!0}),{targetRef:s,visible:n,toggle:c,valueRef:l,searchValue:i}}});const Fe=(0,f.A)(Le,[["render",Y],["__scopeId","data-v-1d4abc9e"]]);var we=Fe;function _e(e,a,t,l,s,r){return(0,o.uX)(),(0,o.CE)("div",{class:(0,c.C4)(["dropdown-option",{"is-selected":e.isSelected}]),onClick:a[0]||(a[0]=(...a)=>e.onClick&&e.onClick(...a))},[(0,o.RG)(e.$slots,"default",{},void 0,!0)],2)}var Te=(0,o.pM)({props:{value:{type:[String,Number,Object],default:null}},setup(e){const a=(0,o.WQ)("select",()=>{}),t=(0,o.WQ)("selected"),l=()=>{a&&a(e.value)},s=(0,o.EW)(()=>{if(!t)return;const a=t.value;if(a&&"object"===typeof a&&e.value&&"object"===typeof e.value){const t=a,l=e.value;return t.id===l.id}return a===e.value});return{onClick:l,isSelected:s}}});const Me=(0,f.A)(Te,[["render",_e],["__scopeId","data-v-32a64d45"]]);var Re=Me,Ae=(0,o.pM)({components:{AppOption:Re,AppDropdown:we,AppHeader:$,AppToggle:O},setup(){const e=(0,n.Pj)(),a=(0,r.KR)(null),t=(0,r.KR)(!0),l=(0,r.KR)(["en","ru"]),s=(0,r.KR)(e.getters["language/language"]),i=(0,r.KR)(e.getters["theme/isDark"]),c=a=>{e.dispatch("theme/setTheme",a)};return(0,o.wB)(s,a=>{e.dispatch("language/setLanguage",{language:a})}),{toggled:c,isDark:i,containerRef:a,isVisible:t,language:s,languages:l}}});const Se=(0,f.A)(Ae,[["render",D]]);var Be=Se,Ve=t.p+"img/img-01.65cd3f0f.png";const Xe={class:"container"},De={class:"wrap-login"},Ke={ref:"imageRef",src:Ve,alt:""},xe={class:"login-form"},We={class:"title"},Ge={class:"login-inputs"},Ue={class:"text-center"},Pe={class:"txt1"};function Oe(e,a,t,l,s,r){const n=(0,o.g2)("app-input"),i=(0,o.g2)("Field"),d=(0,o.g2)("app-button"),u=(0,o.g2)("VForm"),p=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("section",Xe,[(0,o.Lk)("div",De,[(0,o.Lk)("div",{class:"login-pic",onMousemove:a[0]||(a[0]=(...a)=>e.handleMouseMove&&e.handleMouseMove(...a)),onMouseleave:a[1]||(a[1]=(...a)=>e.resetTransform&&e.resetTransform(...a))},[(0,o.Lk)("img",Ke,null,512)],32),(0,o.Lk)("div",xe,[(0,o.Lk)("h1",We,(0,c.v_)(e.t("login")),1),(0,o.bF)(u,{"validation-schema":e.formGroup,onSubmit:e.onSubmit},{default:(0,o.k6)(()=>[(0,o.Lk)("section",Ge,[(0,o.bF)(i,{name:"email"},{default:(0,o.k6)(({field:t,meta:l,errorMessage:s})=>[(0,o.bF)(n,(0,o.v6)(t,{modelValue:e.email,"onUpdate:modelValue":a[2]||(a[2]=a=>e.email=a),placeholder:"example@gmail.com",label:"email",icon:["fas","envelope"],"z-index-tooltip":1020,error:l.touched?s:"",type:"email"}),null,16,["modelValue","error"])]),_:1}),(0,o.bF)(i,{name:"password"},{default:(0,o.k6)(({field:t,meta:l,errorMessage:s})=>[(0,o.bF)(n,(0,o.v6)(t,{modelValue:e.password,"onUpdate:modelValue":a[3]||(a[3]=a=>e.password=a),placeholder:"password",label:"password",type:"password",icon:["fas","lock"],error:l.touched?s:""}),null,16,["modelValue","error"])]),_:1})]),(0,o.bF)(d,{loading:e.loading,type:"submit",title:"login"},null,8,["loading"])]),_:1},8,["validation-schema","onSubmit"]),(0,o.Lk)("section",null,[(0,o.Lk)("div",Ue,[(0,o.Lk)("span",Pe,(0,c.v_)(e.t("forgot")),1),(0,o.bF)(p,{class:"txt2",to:{name:"forgot"}},{default:(0,o.k6)(()=>[(0,o.eW)((0,c.v_)(e.t("userName"))+" / "+(0,c.v_)(e.t("password"))+"? ",1)]),_:1})])])])])])}const ze={class:"container-btn"},Qe=["disabled"],je={key:0,class:"btn-icon"},Ne={key:1,class:"btn-title"},$e={key:2,class:"loader"};function He(e,a,t,l,s,r){const n=(0,o.g2)("font-awesome-icon");return(0,o.uX)(),(0,o.CE)("div",ze,[(0,o.Lk)("button",{disabled:e.disabled||e.loading,class:(0,c.C4)(e.classes)},[e.icon?((0,o.uX)(),(0,o.CE)("span",je,[(0,o.bF)(n,{size:"lg",icon:e.icon},null,8,["icon"])])):(0,o.Q3)("",!0),e.title&&!e.loading?((0,o.uX)(),(0,o.CE)("span",Ne,(0,c.v_)(e.t(e.title)),1)):e.loading?((0,o.uX)(),(0,o.CE)("span",$e)):(0,o.Q3)("",!0)],10,Qe)])}var qe=(0,o.pM)({props:{disabled:{type:Boolean,default:!1},title:{type:String,default:""},loading:{type:Boolean,default:!1},severity:{type:String,default:"success"},raised:{type:Boolean,default:!1},icon:{type:[Array,String],default:""}},setup(e){const{t:a}=(0,i.s9)(),t=(0,o.EW)(()=>["btn",`${e.severity}`,{raised:e.raised}]);return{t:a,classes:t}}});const Ye=(0,f.A)(qe,[["render",He],["__scopeId","data-v-2730a159"]]);var Je=Ye,Ze=t(9041),ea=t(482),aa=(0,o.pM)({components:{Field:ea.D0,VForm:ea.lV,AppInput:pe,AppButton:Je},setup(){const e=(0,A.rd)(),a=(0,n.Pj)(),{t:t}=(0,i.s9)(),l=(0,r.KR)(null),s=(0,r.KR)(""),c=(0,r.KR)(""),d=(0,o.EW)(()=>a.getters["authFirebase/isLoading"]),u=Ze.Ik({email:Ze.Yj().required("validation.required").email("validation.required"),password:Ze.Yj().required("validation.required").min(6,{key:"validation.min",values:{count:6}})}),p=async t=>{try{await a.dispatch("authFirebase/login",t),await e.push("/main")}catch(l){console.error(l)}},g=e=>{const a=l.value;if(!a)return;const t=a.getBoundingClientRect(),o=e.clientX-t.left,s=e.clientY-t.top,r=t.width/2,n=t.height/2,i=(o-r)/r*10,c=-(s-n)/n*10;a.style.transform=`perspective(300px) rotateX(${c}deg) rotateY(${i}deg)`},m=()=>{l.value&&(l.value.style.transform="perspective(300px) rotateX(0deg) rotateY(0deg)")};return{formGroup:u,onSubmit:p,email:s,password:c,loading:d,imageRef:l,handleMouseMove:g,resetTransform:m,t:t}}});const ta=(0,f.A)(aa,[["render",Oe],["__scopeId","data-v-1446709b"]]);var la=ta;function oa(e,a){return(0,o.uX)(),(0,o.CE)("div",null,"Forgot")}const sa={},ra=(0,f.A)(sa,[["render",oa]]);var na=ra;const ia={class:"container"},ca={class:"header-section"},da={class:"app-dropdown"},ua={class:"sidebar-item"},pa={class:"icon"},ga={key:0,class:"title"},ma={class:"sidebar-item"},va={class:"icon"},fa={key:0,class:"title"},ya={class:"icon"},ba={key:0,class:"title"},ka=["onClick"],ha={class:"main"};function Ca(e,a,t,l,s,r){const n=(0,o.g2)("app-toggle"),i=(0,o.g2)("app-option"),d=(0,o.g2)("app-dropdown"),u=(0,o.g2)("app-burger-menu"),p=(0,o.g2)("app-header"),g=(0,o.g2)("font-awesome-icon"),m=(0,o.g2)("router-link"),v=(0,o.g2)("app-sidebar"),f=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)("div",ia,[(0,o.bF)(p,null,{default:(0,o.k6)(()=>[(0,o.Lk)("section",ca,[a[3]||(a[3]=(0,o.Lk)("img",{src:S,alt:"App Logo",width:"32",height:"32"},null,-1)),(0,o.Lk)("section",null,[(0,o.bF)(n,{modelValue:e.isDark,"onUpdate:modelValue":a[0]||(a[0]=a=>e.isDark=a),variant:"theme",onToggled:e.toggled},null,8,["modelValue","onToggled"]),(0,o.Lk)("div",da,[(0,o.bF)(d,{modelValue:e.language,"onUpdate:modelValue":a[1]||(a[1]=a=>e.language=a),label:"name"},{default:(0,o.k6)(()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.languages,e=>((0,o.uX)(),(0,o.Wv)(i,{key:e,value:e},{default:(0,o.k6)(()=>[(0,o.eW)((0,c.v_)(e),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),e.isMobile?((0,o.uX)(),(0,o.Wv)(u,{key:0})):(0,o.Q3)("",!0)])])]),_:1}),(0,o.Lk)("section",null,[(0,o.bF)(v,null,{main:(0,o.k6)(({isShort:a})=>[(0,o.bF)(m,{to:"/main/color","active-class":"active-link"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",ua,[(0,o.Lk)("div",pa,[(0,o.bF)(g,{size:"xl",icon:["fas","rainbow"]})]),a?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",ga,(0,c.v_)(e.t("colorType")),1))])]),_:2},1024),(0,o.bF)(m,{to:"/main/gallery","active-class":"active-link"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",ma,[(0,o.Lk)("div",va,[(0,o.bF)(g,{size:"xl",icon:["fas","images"]})]),a?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",fa,(0,c.v_)(e.t("gallery")),1))])]),_:2},1024)]),additional:(0,o.k6)(({isShort:t,toggle:l})=>[(0,o.Lk)("div",{class:"sidebar-item logout",onClick:a[2]||(a[2]=(...a)=>e.logout&&e.logout(...a))},[(0,o.Lk)("div",ya,[(0,o.bF)(g,{size:"xl",icon:["fas","right-from-bracket"]})]),t?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",ba,(0,c.v_)(e.t("logout")),1))]),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",{key:0,class:"sidebar-item",onClick:l},[(0,o.bF)(g,{size:"xl",icon:t?["fas","arrow-left"]:["fas","arrow-right"]},null,8,["icon"])],8,ka))]),_:1}),(0,o.Lk)("main",ha,[(0,o.bF)(f)])])])}const Ia={class:"additional-section"};function Ea(e,a,t,l,s,r){return!e.isMobile||e.isMobile&&e.isBurgerMenuOpen?((0,o.uX)(),(0,o.CE)("aside",{key:0,class:(0,c.C4)(["sidebar-container",{"mobile-view":e.isMobile}]),style:(0,c.Tr)({width:e.isShort?"60px":"220px"})},[(0,o.Lk)("section",{class:"main-section",onClick:a[0]||(a[0]=(...a)=>e.setBurgerMenu&&e.setBurgerMenu(...a))},[(0,o.RG)(e.$slots,"main",{isShort:e.isShort},void 0,!0)]),(0,o.Lk)("section",Ia,[(0,o.RG)(e.$slots,"additional",{isShort:e.isShort,toggle:e.toggle},void 0,!0)])],6)):(0,o.Q3)("",!0)}var La=(0,o.pM)({setup(){const e=(0,n.Pj)(),a=(0,r.KR)(!0),t=(0,o.EW)(()=>"mobile"===e.getters["mobile/breakPoint"]),l=(0,o.EW)(()=>e.getters["burgerMenu/isOpen"]),s=()=>{a.value=!a.value},i=()=>{t.value&&e.dispatch("burgerMenu/setBurger",{isOpen:!1})};return(0,o.wB)(()=>e.getters["mobile/breakPoint"],e=>{a.value="mobile"!==e},{immediate:!0}),{isMobile:t,isShort:a,toggle:s,isBurgerMenuOpen:l,setBurgerMenu:i}}});const Fa=(0,f.A)(La,[["render",Ea],["__scopeId","data-v-87931dba"]]);var wa=Fa;function _a(e,a,t,l,s,r){return(0,o.uX)(),(0,o.CE)("div",{"data-burger-test-id":"",class:(0,c.C4)(["burger",{open:e.isOpen}]),onClick:a[0]||(a[0]=(...a)=>e.toggle&&e.toggle(...a))},[...a[1]||(a[1]=[(0,o.Lk)("span",null,null,-1),(0,o.Lk)("span",null,null,-1),(0,o.Lk)("span",null,null,-1)])],2)}var Ta=(0,o.pM)({setup(){const e=(0,n.Pj)(),a=(0,o.EW)(()=>e.getters["burgerMenu/isOpen"]),t=()=>{e.dispatch("burgerMenu/setBurger",{isOpen:!a.value})};return{isOpen:a,toggle:t}}});const Ma=(0,f.A)(Ta,[["render",_a],["__scopeId","data-v-13390ba1"]]);var Ra=Ma,Aa=(0,o.pM)({components:{AppBurgerMenu:Ra,AppSidebar:wa,AppOption:Re,AppDropdown:we,AppHeader:$,AppToggle:O},setup(){const{t:e}=(0,i.s9)(),a=(0,n.Pj)(),t=(0,A.rd)(),l=(0,r.KR)(null),s=(0,r.KR)(!0),c=(0,r.KR)(["en","ru"]),d=(0,r.KR)(a.getters["language/language"]),u=(0,r.KR)(a.getters["theme/isDark"]),p=(0,o.EW)(()=>"mobile"===a.getters["mobile/breakPoint"]),g=e=>{a.dispatch("theme/setTheme",e)};(0,o.wB)(d,e=>{a.dispatch("language/setLanguage",{language:e})});const m=async()=>{await a.dispatch("authFirebase/logout"),await a.dispatch("burgerMenu/setBurger",{isOpen:!1}),await t.push("/login")};return{toggled:g,logout:m,t:e,isDark:u,containerRef:l,isVisible:s,language:d,languages:c,isMobile:p}}});const Sa=(0,f.A)(Aa,[["render",Ca],["__scopeId","data-v-8e97011c"]]);var Ba=Sa;const Va={class:"color-container"};function Xa(e,a,t,l,s,r){const n=(0,o.g2)("AppLoader"),i=(0,o.g2)("app-color-mask"),c=(0,o.g2)("app-tab"),d=(0,o.g2)("app-collage"),u=(0,o.g2)("app-tabs");return(0,o.uX)(),(0,o.CE)("div",Va,[e.isLoading?((0,o.uX)(),(0,o.Wv)(n,{key:0})):(0,o.Q3)("",!0),(0,o.bF)(u,null,{default:(0,o.k6)(()=>[(0,o.bF)(c,{title:"mask"},{default:(0,o.k6)(()=>[(0,o.bF)(i,{onIsLoading:a[0]||(a[0]=a=>e.isLoading=a)})]),_:1}),(0,o.bF)(c,{title:"collage"},{default:(0,o.k6)(()=>[(0,o.bF)(d,{onIsLoading:a[1]||(a[1]=a=>e.isLoading=a)})]),_:1})]),_:1})])}const Da={class:"tabs"},Ka={class:"tab-headers"},xa=["onClick"],Wa={class:"tab-content"};function Ga(e,a,t,l,s,r){return(0,o.uX)(),(0,o.CE)("div",Da,[(0,o.Lk)("nav",Ka,[(0,o.Lk)("ul",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.tabs,a=>((0,o.uX)(),(0,o.CE)("li",{key:a.index,class:(0,c.C4)({active:e.activeIndex===a.index,disabled:a.disabled}),onClick:t=>e.setActive(a.index)},[(0,o.Lk)("a",null,(0,c.v_)(e.t(a.title)),1)],10,xa))),128))])]),(0,o.Lk)("div",Wa,[(0,o.RG)(e.$slots,"default",{},void 0,!0)])])}t(116);var Ua=(0,o.pM)({props:{modelValue:{type:Number,default:2}},emits:["update:modelValue","change"],setup(e,{emit:a}){const t=(0,r.KR)(e.modelValue),{t:l}=(0,i.s9)(),s=(0,r.Kh)([]),n=(e,a)=>{const t=s.length;return s.push({title:e,index:t,disabled:a}),t},c=e=>{const l=s[e];l&&!l.disabled&&(t.value=e,a("update:modelValue",e),a("change",e))};return(0,o.Gt)("registerTab",n),(0,o.Gt)("activeIndex",t),(0,o.wB)(()=>e.modelValue,e=>{const l=s[e];if(l&&!l.disabled)t.value=e;else{const e=s.find(e=>!e.disabled);e&&(t.value=e.index,a("update:modelValue",e.index))}}),(0,o.wB)(s,()=>{const e=s[t.value];if(!e||e.disabled){const e=s.find(e=>!e.disabled);e&&(t.value=e.index,a("update:modelValue",e.index))}},{immediate:!0}),{tabs:s,activeIndex:t,setActive:c,t:l}}});const Pa=(0,f.A)(Ua,[["render",Ga],["__scopeId","data-v-31b0f54d"]]);var Oa=Pa;function za(e,a,t,s,r,n){return(0,o.bo)(((0,o.uX)(),(0,o.CE)("div",null,[(0,o.RG)(e.$slots,"default",{},void 0,!0)],512)),[[l.aG,e.isActive]])}var Qa=(0,o.pM)({props:{title:{type:String,required:!0},disabled:{type:Boolean,default:!1}},setup:function(e,{slots:a}){const t=(0,o.WQ)("registerTab"),l=(0,o.WQ)("activeIndex"),s=(0,r.KR)(-1);(0,o.sV)(()=>{t&&(s.value=t(e.title,e.disabled))});const n=(0,o.EW)(()=>l?.value===s.value);return{isActive:n,slots:a}}});const ja=(0,f.A)(Qa,[["render",za],["__scopeId","data-v-7d72f4d0"]]);var Na=ja;const $a={class:"collage-wrapper"},Ha={class:"collage-container"},qa={ref:"canvas"},Ya={class:"actions"},Ja={class:"buttons"},Za={key:0,class:"btn"},et={key:4,class:"checkbox"},at={key:5,class:"checkbox"};function tt(e,a,t,s,r,n){const i=(0,o.g2)("app-button"),d=(0,o.g2)("app-file-uploader"),u=(0,o.g2)("font-awesome-icon"),p=(0,o.g2)("AppCheckbox"),g=(0,o.g2)("app-popover-item"),m=(0,o.g2)("app-popover-wrapper"),v=(0,o.g2)("app-popover");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",$a,[(0,o.Lk)("div",Ha,[(0,o.Lk)("canvas",qa,null,512),(0,o.Lk)("div",Ya,[(0,o.bF)(i,{severity:"secondary",raised:"",icon:["fas","undo"],onClick:e.resetImage},null,8,["onClick"]),(0,o.bF)(i,{severity:"secondary",raised:"",icon:["fas","plus"],onClick:e.zoomPlus},null,8,["onClick"]),(0,o.bF)(i,{severity:"secondary",raised:"",icon:["fas","minus"],onClick:e.zoomMinus},null,8,["onClick"]),(0,o.bF)(i,{severity:"secondary",raised:"",icon:["fas","save"],onClick:a[0]||(a[0]=a=>e.saveImage("collage"))})])]),(0,o.Lk)("section",Ja,[e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",Za,[(0,o.bF)(d,{"is-show-sign":!1,onSelect:e.onFileSelected},null,8,["onSelect"])])),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(i,{key:1,severity:"warning",title:"saveToGallery",loading:e.isSaveToGallery,onClick:e.saveToGallery},null,8,["loading","onClick"])),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(i,{key:2,severity:"info",title:"addSign",onClick:e.openImageModal},null,8,["onClick"])),e.isMobile?((0,o.uX)(),(0,o.Wv)(u,{key:3,icon:["fas","ellipsis-h"],size:"lg",onClick:(0,l.D$)(e.openPopover,["stop"])},null,8,["onClick"])):(0,o.Q3)("",!0),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",et,[(0,o.bF)(p,{modelValue:e.sharedWithMask,"onUpdate:modelValue":a[1]||(a[1]=a=>e.sharedWithMask=a),label:"shareImageWithMask"},null,8,["modelValue"])])),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",at,[(0,o.bF)(p,{modelValue:e.rememberChoose,"onUpdate:modelValue":a[2]||(a[2]=a=>e.rememberChoose=a),label:"rememberChoose"},null,8,["modelValue"])]))])]),(0,o.bF)(v,{visible:e.visiblePopover,"onUpdate:visible":a[5]||(a[5]=a=>e.visiblePopover=a)},{default:(0,o.k6)(()=>[(0,o.bF)(m,null,{default:(0,o.k6)(()=>[(0,o.bF)(g,{onClick:e.triggerUpload},{default:(0,o.k6)(()=>[(0,o.bF)(u,{size:"xl",icon:["fas","file-upload"]}),(0,o.Lk)("span",null,(0,c.v_)(e.t("upload")),1),(0,o.bF)(d,{ref:"uploader",style:{display:"none"},onSelect:e.onFileSelected},null,8,["onSelect"])]),_:1},8,["onClick"]),(0,o.bF)(g,{onClick:e.saveToGallery},{default:(0,o.k6)(()=>[(0,o.bF)(u,{size:"xl",icon:["fas","images"]}),(0,o.Lk)("span",null,(0,c.v_)(e.t("saveToGallery")),1)]),_:1},8,["onClick"]),(0,o.bF)(g,{onClick:e.openImageModal},{default:(0,o.k6)(()=>[(0,o.bF)(u,{size:"xl",icon:["fas","fa-pencil-square"]}),(0,o.Lk)("span",null,(0,c.v_)(e.t("addSign")),1)]),_:1},8,["onClick"])]),_:1}),(0,o.bF)(m,null,{default:(0,o.k6)(()=>[(0,o.bF)(g,null,{default:(0,o.k6)(()=>[(0,o.bF)(p,{modelValue:e.sharedWithMask,"onUpdate:modelValue":a[3]||(a[3]=a=>e.sharedWithMask=a)},null,8,["modelValue"]),(0,o.Lk)("span",null,(0,c.v_)(e.t("shareImageWithMask")),1)]),_:1}),(0,o.bF)(g,null,{default:(0,o.k6)(()=>[(0,o.bF)(p,{modelValue:e.rememberChoose,"onUpdate:modelValue":a[4]||(a[4]=a=>e.rememberChoose=a)},null,8,["modelValue"]),(0,o.Lk)("span",null,(0,c.v_)(e.t("rememberChoose")),1)]),_:1})]),_:1})]),_:1},8,["visible"])],64)}const lt=[{id:1,type:"cold",segments:[{color:"#979DAF"},{color:"#C21E56"},{color:"#F3ED7C"},{color:"#155DA4"},{color:"#008684"},{color:"#E5ADD5"},{color:"#D0417E"},{color:"#E7B8D3"},{color:"#FFFFFF"},{color:"#34373B"},{color:"#BA397B"}]},{id:2,type:"warm",segments:[{color:"#E1BD88"},{color:"#DB3844"},{color:"#BC2A3A"},{color:"#E09D66"},{color:"#FAC668"},{color:"#CCD97A"},{color:"#91B54D"},{color:"#D66467"},{color:"#FEA188"},{color:"#CC9C7D"},{color:"#F2EDD8"}]},{id:3,type:"dark",segments:[{color:"#413433"},{color:"#BC243C"},{color:"#373E4B"},{color:"#79857A"},{color:"#987576"},{color:"#483A49"},{color:"#FFFFFF"},{color:"#594440"},{color:"#DEC6AC"},{color:"#707375"},{color:"#777791"}]},{id:4,type:"light",segments:[{color:"#CBB7A2"},{color:"#E63E62"},{color:"#FDE182"},{color:"#657BB8"},{color:"#42BDCB"},{color:"#7DCFB6"},{color:"#E87191"},{color:"#F8CBC7"},{color:"#FABCB1"},{color:"#F4EAE0"},{color:"#F9F9F9"}]},{id:5,type:"soft",segments:[{color:"#53677A"},{color:"#856088"},{color:"#4E9093"},{color:"#814A47"},{color:"#A55972"},{color:"#6B5D74"},{color:"#DCA59E"},{color:"#F4EAE0"},{color:"#F0D3C9"},{color:"#6C5740"},{color:"#6A6855"}]},{id:6,type:"unforgettable",segments:[{color:"#433D42"},{color:"#E5003C"},{color:"#FBE337"},{color:"#4E468B"},{color:"#199D5C"},{color:"#008AC2"},{color:"#43BCD8"},{color:"#DE7AA4"},{color:"#F87B90"},{color:"#F9F9F9"},{color:"#D5DDD5"}]}];var ot=t(1924),st=t(6400),rt=t(4388),nt=t(2832),it=t(1933);const ct={apiKey:"AIzaSyACkcP8ThJg9f_JsBoiy0DErBhC9mg7gtg",authDomain:"rainbow-manager-2c361.firebaseapp.com",projectId:"rainbow-manager-2c361",storageBucket:"rainbow-manager-2c361.firebasestorage.app",messagingSenderId:"561480772779",appId:"1:561480772779:web:3b51c3721116c916811bee"},dt=(0,st.Wp)(ct),ut=(0,rt.xI)(dt),pt=(0,nt.aU)(dt),gt=(0,ot.c7)(dt);(0,it.lS)(dt);function mt(e,a,t,l){const o=(0,r.KR)(1),s=()=>e.value?e.value.toDataURL("image/png"):null,n=(a="avatar.png")=>{if(!e.value)return;const t=e.value.toDataURL("image/png"),l=document.createElement("a");l.href=t,l.download=a,l.click()},i=async(a="mask.png")=>{if(e.value)return new Promise((t,l)=>{e.value.toBlob(async e=>{if(!e)return l(new Error("Не удалось получить Blob из canvas"));try{const l=(0,ot.KR)(gt,a);await(0,ot.D)(l,e);const o=await(0,ot.qk)(l);t(o)}catch(o){l(o)}},"image/png")})},c=e=>new Promise((a,t)=>{const l=new Image;l.crossOrigin="anonymous",l.onload=()=>a(l),l.onerror=()=>t(new Error(`Ошибка загрузки: ${e}`)),l.src=e}),d=()=>{l?.value&&t&&t("update:imageUrl",l.value),o.value=1,a()},u=()=>{o.value++,a()},p=()=>{1!==o.value&&(o.value--,a())};return{saveImage:n,loadImage:c,resetImage:d,zoomPlus:u,zoomMinus:p,zoom:o,saveToStorage:i,getCanvasSrc:s}}const vt={class:"popover-item"};function ft(e,a){return(0,o.uX)(),(0,o.CE)("div",vt,[(0,o.RG)(e.$slots,"default",{},void 0,!0)])}const yt={},bt=(0,f.A)(yt,[["render",ft],["__scopeId","data-v-903d1a32"]]);var kt=bt;const ht={class:"popover-wrapper"};function Ct(e,a){return(0,o.uX)(),(0,o.CE)("section",ht,[(0,o.RG)(e.$slots,"default",{},void 0,!0)])}const It={},Et=(0,f.A)(It,[["render",Ct],["__scopeId","data-v-11bdd0bc"]]);var Lt=Et;const Ft={key:0,class:"popover-container"},wt={ref:"popoverContentRef",class:"popover-content"};function _t(e,a,t,l,s,r){return(0,o.uX)(),(0,o.Wv)(o.Im,{to:"body"},[e.visible?((0,o.uX)(),(0,o.CE)("div",Ft,[(0,o.Lk)("div",wt,[(0,o.Lk)("section",{class:"popover-toggle-container",onClick:a[0]||(a[0]=(...a)=>e.toggle&&e.toggle(...a))},[...a[1]||(a[1]=[(0,o.Lk)("div",{class:"popover-toggle"},null,-1)])]),(0,o.RG)(e.$slots,"default",{},void 0,!0)],512)])):(0,o.Q3)("",!0)])}var Tt=(0,o.pM)({props:{visible:{type:Boolean,default:!1}},emits:["update:visible"],setup(e,{emit:a}){const t=(0,r.KR)(null),l=e=>{const l=t.value,o=e.target;l&&!l.contains(o)&&a("update:visible",!1)},s=()=>{a("update:visible",!1)};return(0,o.sV)(()=>{document.addEventListener("click",l)}),(0,o.xo)(()=>{document.removeEventListener("click",l)}),{popoverContentRef:t,toggle:s}}});const Mt=(0,f.A)(Tt,[["render",_t],["__scopeId","data-v-0258f386"]]);var Rt=Mt;const At={class:"file-uploader"},St={key:0,class:"upload-btn-title"},Bt={key:0,class:"file-name"};function Vt(e,a,t,l,s,r){const n=(0,o.g2)("font-awesome-icon");return(0,o.uX)(),(0,o.CE)("div",At,[(0,o.Lk)("input",{ref:"fileInput",type:"file",accept:"image/*",class:"file-input",onChange:a[0]||(a[0]=(...a)=>e.onFileChange&&e.onFileChange(...a))},null,544),(0,o.Lk)("button",{type:"button",class:"upload-btn",onClick:a[1]||(a[1]=(...a)=>e.triggerInput&&e.triggerInput(...a))},[(0,o.bF)(n,{size:"lg",icon:["fas","file-upload"]}),e.isTitle?((0,o.uX)(),(0,o.CE)("span",St,(0,c.v_)(e.t("upload")),1)):(0,o.Q3)("",!0)]),e.fileName&&e.isShowSign?((0,o.uX)(),(0,o.CE)("div",Bt,(0,c.v_)(e.fileName),1)):(0,o.Q3)("",!0)])}var Xt=(0,o.pM)({name:"FileUploader",props:{isTitle:{type:Boolean,default:!0},isShowSign:{type:Boolean,default:!0}},emits:["select"],setup(e,{emit:a}){const{t:t}=(0,i.s9)(),l=(0,r.KR)(null),o=(0,r.KR)("");function s(){l.value?.click()}function n(e){const t=e.target,l=t.files?.[0];l&&(o.value=l.name,a("select",l))}return{fileInput:l,fileName:o,triggerInput:s,onFileChange:n,t:t}}});const Dt=(0,f.A)(Xt,[["render",Vt],["__scopeId","data-v-5b634e60"]]);var Kt=Dt;const xt=["for"],Wt=["aria-checked","aria-disabled","aria-readonly"],Gt={key:0,class:"rc__label"},Ut=["id","checked","disabled","readonly"];function Pt(e,a,t,l,s,r){return(0,o.uX)(),(0,o.CE)("label",{class:(0,c.C4)(["rc",{"rc--checked":e.modelValue,"rc--indeterminate":e.indeterminate,"rc--disabled":e.disabled,"rc--error":e.error}]),style:(0,c.Tr)(e.styles),for:e.id||void 0},[(0,o.Lk)("span",{ref:"controlEl",class:"rc__control",role:"checkbox","aria-checked":e.ariaChecked,"aria-disabled":e.disabled?"true":"false","aria-readonly":e.readonly?"true":"false",tabindex:"0",onKeydown:a[0]||(a[0]=(...a)=>e.onKeydown&&e.onKeydown(...a)),onFocus:a[1]||(a[1]=a=>e.$emit("focus")),onBlur:a[2]||(a[2]=a=>e.$emit("blur"))},[...a[4]||(a[4]=[(0,o.Lk)("span",{class:"rc__ring"},null,-1),(0,o.Lk)("span",{class:"rc__fill"},null,-1),(0,o.Lk)("span",{class:"rc__mark"},null,-1)])],40,Wt),e.label?((0,o.uX)(),(0,o.CE)("span",Gt,(0,c.v_)(e.t(e.label)),1)):(0,o.Q3)("",!0),e.id?((0,o.uX)(),(0,o.CE)("input",{key:1,id:e.id,type:"checkbox",class:"rc__native",checked:e.modelValue,disabled:e.disabled,readonly:e.readonly,onChange:a[3]||(a[3]=(...a)=>e.toggle&&e.toggle(...a))},null,40,Ut)):(0,o.Q3)("",!0)],14,xt)}var Ot=t(4009),zt=t.n(Ot),Qt=(0,o.pM)({props:{modelValue:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},label:{type:String,default:""},size:{type:Number,default:24},error:{type:Boolean,default:!1},id:{type:String,default:""}},emits:["update:modelValue","change","focus","blur"],setup(e,{emit:a}){const{t:t}=(0,i.s9)(),{modelValue:l,disabled:s,readonly:n,indeterminate:c,size:d}=(0,r.QW)(e),u=(0,r.KR)(null);let p=null;const g=(0,o.EW)(()=>c.value?"mixed":l.value?"true":"false"),m=()=>{if(s.value||n.value)return;const e=!l.value;a("update:modelValue",e),a("change",e)},v=e=>{" "!==e.key&&"Enter"!==e.key||(e.preventDefault(),m())},f=(0,o.EW)(()=>({"--rc-size":`${d.value}px`}));return(0,o.sV)(()=>{u.value&&(p=new(zt())(u.value),p.on("tap",m))}),(0,o.xo)(()=>{p?.destroy()}),{toggle:m,onKeydown:v,ariaChecked:g,styles:f,controlEl:u,t:t}}});const jt=(0,f.A)(Qt,[["render",Pt],["__scopeId","data-v-668c0b02"]]);var Nt=jt;const $t=e=>new Promise((a,t)=>{const l=new FileReader;l.onload=e=>a(e.target?.result),l.onerror=t,l.readAsDataURL(e)}),Ht={ref:"modalRef",class:"modal-content neon"},qt=["src"],Yt={class:"info-section"},Jt={class:"info-section-wrapper"},Zt={class:"badge-wrapper"},el={key:0,class:"badge darkBadge"},al={key:1,class:"badge darkBadge"},tl={key:2,class:"badge darkBadge"},ll={class:"actions"},ol={class:"btn"},sl={class:"btn"};function rl(e,a,t,l,s,r){const n=(0,o.g2)("app-modal-header"),i=(0,o.g2)("app-input"),d=(0,o.g2)("app-button");return(0,o.uX)(),(0,o.CE)("div",Ht,[(0,o.bF)(n,{onClose:e.close},null,8,["onClose"]),(0,o.Lk)("img",{src:e.url,alt:""},null,8,qt),(0,o.Lk)("section",Yt,[(0,o.Lk)("div",Jt,[(0,o.Lk)("div",Zt,[e.folder?((0,o.uX)(),(0,o.CE)("span",el,(0,c.v_)(e.folder?.name),1)):(0,o.Q3)("",!0),e.coloristicType?((0,o.uX)(),(0,o.CE)("span",al,(0,c.v_)(e.coloristicType),1)):(0,o.Q3)("",!0),e.maskType?((0,o.uX)(),(0,o.CE)("span",tl,(0,c.v_)(e.maskType),1)):(0,o.Q3)("",!0)]),(0,o.bF)(i,{modelValue:e.signIn,"onUpdate:modelValue":a[0]||(a[0]=a=>e.signIn=a),icon:["fas","fa-pencil"],"is-label":!1},null,8,["modelValue"]),(0,o.Lk)("div",ll,[(0,o.Lk)("div",ol,[(0,o.bF)(d,{severity:"info",title:"addFolder",onClick:e.openFolderModal},null,8,["onClick"])]),(0,o.Lk)("div",sl,[(0,o.bF)(d,{loading:e.isSaveToGallery,severity:"warning",title:"saveToGallery",onClick:e.saveToGallery},null,8,["loading","onClick"])])])])])],512)}const nl={class:"modal-header-section"};function il(e,a,t,l,s,r){const n=(0,o.g2)("font-awesome-icon");return(0,o.uX)(),(0,o.CE)("section",nl,[e.isMobile?((0,o.uX)(),(0,o.Wv)(n,{key:0,size:"lg",icon:["fas","arrow-left"],onClick:e.close},null,8,["onClick"])):(0,o.Q3)("",!0),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",{key:1,class:"close",onClick:a[0]||(a[0]=(...a)=>e.close&&e.close(...a))},[(0,o.bF)(n,{size:"lg",icon:["fas","fa-times"]})]))])}var cl=(0,o.pM)({emits:["close"],setup(e,{emit:a}){const t=(0,n.Pj)(),l=(0,o.EW)(()=>"mobile"===t.getters["mobile/breakPoint"]),s=()=>{a("close")};return{isMobile:l,close:s}}});const dl=(0,f.A)(cl,[["render",il],["__scopeId","data-v-4e2994b3"]]);var ul=dl;const pl={ref:"modalRef",class:"modal-content"},gl={class:"folder-section"},ml={class:"folder-section-create"},vl={class:"search"},fl={class:"folder-section-folders"},yl={class:"folder-section-actions"};function bl(e,a,t,l,s,r){const n=(0,o.g2)("app-modal-header"),i=(0,o.g2)("app-loader"),c=(0,o.g2)("app-input"),d=(0,o.g2)("app-button"),u=(0,o.g2)("app-folder-card");return(0,o.uX)(),(0,o.CE)("div",pl,[(0,o.bF)(n,{onClose:e.close},null,8,["onClose"]),(0,o.Lk)("section",gl,[e.isLoading?((0,o.uX)(),(0,o.Wv)(i,{key:0})):(0,o.Q3)("",!0),(0,o.Lk)("div",ml,[(0,o.Lk)("div",vl,[(0,o.bF)(c,{modelValue:e.search,"onUpdate:modelValue":a[0]||(a[0]=a=>e.search=a),placeholder:"search",icon:["fas","search"],"is-label":!1},null,8,["modelValue"])]),(0,o.bF)(d,{icon:["fas","plus"],severity:"info",onClick:e.openCreateFolderModal},null,8,["onClick"])]),(0,o.Lk)("div",fl,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.folders,a=>((0,o.uX)(),(0,o.Wv)(u,{key:a.id,folder:a,"is-selected":e.selectedFolder?.id===a?.id,onSelected:e.selected},null,8,["folder","is-selected","onSelected"]))),128))]),(0,o.Lk)("div",yl,[(0,o.Lk)("div",{class:"btn",onClick:a[1]||(a[1]=(...a)=>e.choose&&e.choose(...a))},[(0,o.bF)(d,{disabled:!e.selectedFolder,title:"choose",severity:"warning"},null,8,["disabled"])])])])],512)}const kl={class:"folder-wrapper"},hl=["src"],Cl={class:"title"},Il={class:"overlay-folder"};function El(e,a,l,s,r,n){const i=(0,o.g2)("font-awesome-icon"),d=(0,o.g2)("app-overlay-panel");return(0,o.uX)(),(0,o.CE)("section",kl,[(0,o.Lk)("div",{ref:"targetRef",class:"icon",onClick:a[0]||(a[0]=(...a)=>e.toggleCardOverlayPanel&&e.toggleCardOverlayPanel(...a))},[(0,o.bF)(i,{size:"sm",icon:["fas","ellipsis-v"]})],512),(0,o.Lk)("div",{class:(0,c.C4)(["folder-card",{cardSelected:e.isSelected}]),onClick:a[5]||(a[5]=(...a)=>e.selected&&e.selected(...a))},[(0,o.Lk)("img",{loading:"lazy",class:(0,c.C4)({"fade-in":e.onLoad}),src:t(2823),alt:"Rainbow Folder",onLoad:a[1]||(a[1]=(...a)=>e.onLoad&&e.onLoad(...a))},null,42,hl),(0,o.Lk)("div",Cl,[(0,o.Lk)("span",null,(0,c.v_)(e.folder.name),1)]),e.targetRef?((0,o.uX)(),(0,o.Wv)(d,{key:0,visible:e.visible,"onUpdate:visible":a[4]||(a[4]=a=>e.visible=a),width:150,target:e.targetRef,position:{x:"right",y:"center"}},{default:(0,o.k6)(()=>[(0,o.Lk)("div",Il,[(0,o.Lk)("div",{class:"overlay-folder-item",onClick:a[2]||(a[2]=(...a)=>e.openCreateFolderModal&&e.openCreateFolderModal(...a))},[(0,o.bF)(i,{size:"sm",icon:["fas","fa-pencil"]}),(0,o.Lk)("span",null,(0,c.v_)(e.t("edit")),1)]),(0,o.Lk)("div",{class:"overlay-folder-item",onClick:a[3]||(a[3]=(...a)=>e.deleteFolder&&e.deleteFolder(...a))},[(0,o.bF)(i,{size:"sm",icon:["fas","fa-trash"]}),(0,o.Lk)("span",null,(0,c.v_)(e.t("delete")),1)])])]),_:1},8,["visible","target"])):(0,o.Q3)("",!0)],2)])}const Ll={ref:"modalRef",class:"modal-content neon"},Fl={class:"header"},wl={class:"input"},_l={class:"actions"},Tl={class:"btn"};function Ml(e,a,t,l,s,r){const n=(0,o.g2)("app-input"),i=(0,o.g2)("app-button");return(0,o.uX)(),(0,o.CE)("div",Ll,[(0,o.Lk)("header",Fl,[(0,o.Lk)("span",null,(0,c.v_)(e.t("newFolder")),1)]),(0,o.Lk)("div",wl,[(0,o.bF)(n,{modelValue:e.folderName,"onUpdate:modelValue":a[0]||(a[0]=a=>e.folderName=a),"is-focused":!0,"is-label":!1,placeholder:"nameFolder"},null,8,["modelValue"])]),(0,o.Lk)("div",_l,[(0,o.Lk)("div",{class:"btn",onClick:a[1]||(a[1]=(...a)=>e.close&&e.close(...a))},[(0,o.bF)(i,{title:"cancel",severity:"error",onClick:e.close},null,8,["onClick"])]),(0,o.Lk)("div",Tl,[(0,o.bF)(i,{disabled:!e.folderName,title:"ok",severity:"info",onClick:e.setName},null,8,["disabled","onClick"])])])],512)}var Rl=(0,o.pM)({components:{AppButton:Je,AppInput:pe},props:{name:{type:String,default:""}},emits:["resolve","reject","close"],setup(e,{emit:a}){const{t:t}=(0,i.s9)(),l=(0,r.KR)(e.name),o=()=>{a("close")},s=()=>{a("resolve",l.value)};return{folderName:l,close:o,setName:s,t:t}}});const Al=(0,f.A)(Rl,[["render",Ml],["__scopeId","data-v-c6676388"]]);var Sl=Al;const Bl={ref:"modalRef",class:"modal-content neon"},Vl={class:"header"},Xl={class:"text"},Dl={class:"actions"};function Kl(e,a,t,l,s,r){const n=(0,o.g2)("app-button");return(0,o.uX)(),(0,o.CE)("div",Bl,[(0,o.Lk)("header",Vl,[(0,o.Lk)("span",null,(0,c.v_)(e.title),1)]),(0,o.Lk)("div",Xl,[(0,o.Lk)("span",null,(0,c.v_)(e.text),1)]),(0,o.Lk)("div",Dl,[(0,o.Lk)("div",{class:"btn",onClick:a[0]||(a[0]=(...a)=>e.close&&e.close(...a))},[(0,o.bF)(n,{title:"cancel",severity:"error"})]),(0,o.Lk)("div",{class:"btn",onClick:a[1]||(a[1]=(...a)=>e.ok&&e.ok(...a))},[(0,o.bF)(n,{title:"ok",severity:"info"})])])],512)}var xl=(0,o.pM)({components:{AppButton:Je},props:{text:{type:String,default:""},title:{type:String,default:""}},emits:["resolve","reject","close"],setup(e,{emit:a}){const t=()=>{a("close")},l=()=>{a("resolve",!0)};return{close:t,ok:l}}});const Wl=(0,f.A)(xl,[["render",Kl],["__scopeId","data-v-2374b0f8"]]);var Gl=Wl,Ul=(0,o.pM)({components:{AppOverlayPanel:Ee},props:{isSelected:{type:Boolean,default:!1},folder:{type:Object,required:!0}},emits:["selected"],setup(e,{emit:a}){const{t:t}=(0,i.s9)(),l=(0,n.Pj)(),o=(0,r.KR)(null),s=(0,r.KR)(!1),c=(0,r.KR)(!1),d=()=>{c.value=!0},u=()=>{a("selected",e.folder)},p=()=>{s.value=!s.value},g=async()=>{p(),await E(Gl,{text:t("dywDelete"),title:t("delete")}).then(a=>{a&&l.dispatch("folder/deleteFolder",e.folder.id)})},m=async()=>{p(),await E(Sl,{name:e.folder.name}).then(a=>{l.dispatch("folder/updateFolder",{id:e.folder.id,name:a})})};return{targetRef:o,toggleCardOverlayPanel:p,visible:s,selected:u,deleteFolder:g,openCreateFolderModal:m,onLoad:d,t:t}}});const Pl=(0,f.A)(Ul,[["render",El],["__scopeId","data-v-fe7e2e90"]]);var Ol=Pl;function zl(e,a,t,l,s,r){return(0,o.uX)(),(0,o.CE)("div",{class:(0,c.C4)(["loader-container",{transparent:e.transparent}])},[...a[0]||(a[0]=[(0,o.Lk)("div",{class:"loader"},null,-1)])],2)}var Ql=(0,o.pM)({props:{transparent:{type:Boolean,default:!1}}});const jl=(0,f.A)(Ql,[["render",zl],["__scopeId","data-v-485c514e"]]);var Nl=jl,$l=(0,o.pM)({components:{AppLoader:Nl,AppFolderCard:Ol,AppInput:pe,AppButton:Je,AppModalHeader:ul},props:{folder:{type:Object,default:null}},emits:["resolve","reject","close"],setup(e,{emit:a}){const t=(0,n.Pj)(),l=(0,o.EW)(()=>t.getters["folder/getFilterFolders"]),s=(0,r.KR)(e.folder),i=(0,o.EW)(()=>t.getters["authFirebase/getUserId"]),c=(0,o.EW)(()=>t.getters["folder/isLoading"]),d=(0,r.KR)(""),u=e=>{s.value=e},p=()=>{a("close")};(0,o.sV)(()=>{t.dispatch("folder/getFolders",i.value)});const g=async()=>{await E(Sl,{}).then(e=>{t.dispatch("folder/saveFolder",{userId:i.value,name:e})})},m=()=>{a("resolve",s.value)};return(0,o.wB)(d,e=>{t.dispatch("folder/filterFolder",e)}),{close:p,folders:l,selected:u,selectedFolder:s,openCreateFolderModal:g,isLoading:c,choose:m,search:d}}});const Hl=(0,f.A)($l,[["render",bl],["__scopeId","data-v-73ffbe56"]]);var ql=Hl,Yl=(0,o.pM)({components:{AppModalHeader:ul,AppInput:pe,AppButton:Je},props:{url:Ze.Yj,coloristicType:{type:String,default:""},maskType:{type:String,default:""},canvas:HTMLCanvasElement,currentUserId:Ze.Yj,imageUrl:Ze.Yj},emits:["resolve","reject","close"],setup(e,{emit:a}){const t=(0,n.Pj)(),l=(0,r.KR)(""),o=(0,r.KR)(!1),s=(0,r.KR)(null),i=()=>{a("close")},c=async()=>{if(e.imageUrl){o.value=!0;try{await t.dispatch("gallery/saveImageToGallery",{canvas:e.canvas,title:l.value,coloristicType:e.coloristicType,maskType:e.maskType,userId:e.currentUserId,folderId:s.value?.id?s.value?.id:""}),a("close")}finally{o.value=!1}}else await t.dispatch("toast/addToast",{message:"Upload image",severity:"warning"})},d=async()=>{await E(ql,{},{transparent:!0}).then(e=>{s.value=e})};return{close:i,signIn:l,saveToGallery:c,isSaveToGallery:o,openFolderModal:d,folder:s}}});const Jl=(0,f.A)(Yl,[["render",rl],["__scopeId","data-v-3e37a9da"]]);var Zl=Jl;const eo=410,ao=330,to=489,lo=860,oo=30,so=20;var ro=(0,o.pM)({components:{AppCheckbox:Nt,AppFileUploader:Kt,AppPopover:Rt,AppPopoverWrapper:Lt,AppPopoverItem:kt,AppButton:Je},emits:["update:imageUrl","isLoading"],setup(e,{emit:a}){const{t:t}=(0,i.s9)(),l=(0,r.KR)(!1),s=(0,n.Pj)(),c=(0,r.KR)(null),d=(0,r.KR)(null),u=(0,r.KR)(lo),p=(0,r.KR)(to),g=(0,r.KR)(1),m=(0,r.KR)(null),v=(0,o.EW)(()=>"mobile"===s.getters["mobile/breakPoint"]),f=(0,o.EW)(()=>s.getters["authFirebase/currentUser"]),y=(0,r.KR)(null),b=(0,r.KR)(),k=(0,r.KR)(!1),h=(0,r.KR)(s.getters["imageColor/shareImgMask"]),C=(0,r.KR)(s.getters["imageColor/rememberImgCollage"]);let I=!1;const L=async e=>{I=!1,y.value=await $t(e),await s.dispatch("imageColor/uploadImgCollage",{file:e}),await F()},F=async()=>{if(!c.value)return;const e=c.value.getContext("2d"),a=window.devicePixelRatio||1;c.value.width=u.value*a,c.value.height=p.value*a,c.value.style.width=u.value+"px",c.value.style.height=p.value+"px",e.setTransform(1,0,0,1,0,0),e.scale(a,a),e.clearRect(0,0,u.value,p.value),y.value&&!I&&(d.value=await T(y.value),I=!0);const t=u.value===ao,l=t?2:3,o=t?3:2,s=10,r=8,n=t?1.2*g.value:g.value,i=s*(l-1),m=(u.value-i)/l;let v=m/2*n-oo;v<1&&(v=1);const f=r*(o-1),b=(p.value-f)/o;let k=0;for(let c=0;c<o;c++)for(let a=0;a<l;a++){const t=a*(m+s)+m/2,l=c*(b+r)+b/2,o=lt[k%lt.length];B(e,d.value,t,l,v,o.segments),k++}},{getCanvasSrc:w,saveImage:_,loadImage:T,resetImage:M,zoomPlus:R,zoomMinus:A,zoom:S}=mt(c,F,a,m),B=(e,a,t,l,o,s)=>{const r=u.value===ao?so:oo;if(a){e.save(),e.beginPath(),e.arc(t,l,o,0,2*Math.PI),e.closePath(),e.clip();const s=Math.min(a.width,a.height),n=(a.width-s)/2,i=(a.height-s)/2,c=(2*o-2*r)*S.value;e.drawImage(a,n,i,s,s,t-c/2,l-c/2,c,c),e.restore()}const n=s.length,i=2*Math.PI/n;e.lineWidth=r;for(let c=0;c<n;c++){const a=c*i-Math.PI/2,n=(c+1)*i-Math.PI/2;e.beginPath(),e.strokeStyle=s[c].color,e.arc(t,l,o-r/2,a,n),e.stroke()}};(0,o.wB)(()=>s.getters["mobile/clientWidth"],e=>{e<600&&(u.value=ao,p.value=eo),e>1024&&(u.value=lo,p.value=to),F()},{immediate:!0});const V=()=>{l.value=!0},X=async()=>{if(I){k.value=!0,l.value=!1,v.value&&a("isLoading",!0);try{await s.dispatch("gallery/saveImageToGallery",{canvas:c.value,title:"",coloristicType:"collage",maskType:"",userId:f.value?.uid})}finally{k.value=!1,v.value&&a("isLoading",!1)}}else await s.dispatch("toast/addToast",{message:"Upload image",severity:"warning"})};(0,o.wB)(()=>h.value,e=>{s.dispatch("imageColor/setShareImgMask",{share:e})}),(0,o.wB)(()=>C.value,e=>{s.dispatch("imageColor/setRememberImgCollage",{remember:e})}),(0,o.wB)(()=>s.getters["imageColor/imgMask"],e=>{s.getters["imageColor/shareImgCollage"]&&L(e)}),(0,o.sV)(()=>{if(F(),s.getters["imageColor/rememberImgCollage"]){const e=s.getters["imageColor/imgCollage"];e&&L(e)}});const D=()=>{b.value?.$el.querySelector("input[type=file]")?.click()},K=async()=>{const e=w();await E(Zl,{url:e,coloristicType:"collage",currentUserId:f.value?.uid,canvas:c.value,imageUrl:y.value})};return{canvas:c,saveImage:_,resetImage:M,zoomPlus:R,zoomMinus:A,isMobile:v,openPopover:V,visiblePopover:l,t:t,isSaveToGallery:k,saveToGallery:X,sharedWithMask:h,rememberChoose:C,onFileSelected:L,triggerUpload:D,uploader:b,openImageModal:K}}});const no=(0,f.A)(ro,[["render",tt],["__scopeId","data-v-8819e402"]]);var io=no;const co={class:"color-wrapper"},uo={class:"selected"},po={class:"editor"},go={class:"buttons"},mo={key:0,class:"btn"},vo={key:1,class:"btn"},fo={key:2,class:"btn"},yo={key:3,class:"checkbox"},bo={key:4,class:"checkbox"};function ko(e,a,t,s,r,n){const i=(0,o.g2)("app-color-card"),d=(0,o.g2)("app-editor-canvas"),u=(0,o.g2)("app-file-uploader"),p=(0,o.g2)("app-button"),g=(0,o.g2)("AppCheckbox"),m=(0,o.g2)("font-awesome-icon"),v=(0,o.g2)("app-popover-item"),f=(0,o.g2)("app-popover-wrapper"),y=(0,o.g2)("app-popover");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",co,[(0,o.Lk)("section",uo,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.cards,a=>((0,o.uX)(),(0,o.Wv)(i,{key:a.id,card:a,"is-selected":e.selectedCard?.id===a?.id,onSelected:e.selected},null,8,["card","is-selected","onSelected"]))),128))]),(0,o.Lk)("section",po,[(0,o.bF)(d,{ref:"editorCanvasRef","image-url":e.imageUrl,"onUpdate:imageUrl":a[0]||(a[0]=a=>e.imageUrl=a),segments:e.frameColors},null,8,["image-url","segments"])]),(0,o.Lk)("section",go,[e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",mo,[(0,o.bF)(u,{"is-show-sign":!1,onSelect:e.onFileSelected},null,8,["onSelect"])])),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",vo,[(0,o.bF)(p,{severity:"warning",title:"saveToGallery",loading:e.isSaveToGallery,onClick:e.saveToGallery},null,8,["loading","onClick"])])),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",fo,[(0,o.bF)(p,{severity:"info",title:"addSign",onClick:e.openImageModal},null,8,["onClick"])])),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",yo,[(0,o.bF)(g,{modelValue:e.sharedWithCollage,"onUpdate:modelValue":a[1]||(a[1]=a=>e.sharedWithCollage=a),label:"shareImageWithCollage"},null,8,["modelValue"])])),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",bo,[(0,o.bF)(g,{modelValue:e.rememberChoose,"onUpdate:modelValue":a[2]||(a[2]=a=>e.rememberChoose=a),label:"rememberChoose"},null,8,["modelValue"])])),e.isMobile?((0,o.uX)(),(0,o.Wv)(m,{key:5,icon:["fas","ellipsis-h"],size:"lg",onClick:(0,l.D$)(e.openPopover,["stop"])},null,8,["onClick"])):(0,o.Q3)("",!0)])]),(0,o.bF)(y,{visible:e.visiblePopover,"onUpdate:visible":a[5]||(a[5]=a=>e.visiblePopover=a)},{default:(0,o.k6)(()=>[(0,o.bF)(f,null,{default:(0,o.k6)(()=>[(0,o.bF)(v,{onClick:e.triggerUpload},{default:(0,o.k6)(()=>[(0,o.bF)(m,{size:"xl",icon:["fas","file-upload"]}),(0,o.Lk)("span",null,(0,c.v_)(e.t("upload")),1),(0,o.bF)(u,{ref:"uploader",style:{display:"none"},onSelect:e.onFileSelected},null,8,["onSelect"])]),_:1},8,["onClick"]),(0,o.bF)(v,{onClick:e.saveToGallery},{default:(0,o.k6)(()=>[(0,o.bF)(m,{size:"xl",icon:["fas","images"]}),(0,o.Lk)("span",null,(0,c.v_)(e.t("saveToGallery")),1)]),_:1},8,["onClick"]),(0,o.bF)(v,{onClick:e.openImageModal},{default:(0,o.k6)(()=>[(0,o.bF)(m,{size:"xl",icon:["fas","fa-pencil-square"]}),(0,o.Lk)("span",null,(0,c.v_)(e.t("addSign")),1)]),_:1},8,["onClick"])]),_:1}),(0,o.bF)(f,null,{default:(0,o.k6)(()=>[(0,o.bF)(v,null,{default:(0,o.k6)(()=>[(0,o.bF)(g,{modelValue:e.sharedWithCollage,"onUpdate:modelValue":a[3]||(a[3]=a=>e.sharedWithCollage=a)},null,8,["modelValue"]),(0,o.Lk)("span",null,(0,c.v_)(e.t("shareImageWithCollage")),1)]),_:1}),(0,o.bF)(v,null,{default:(0,o.k6)(()=>[(0,o.bF)(g,{modelValue:e.rememberChoose,"onUpdate:modelValue":a[4]||(a[4]=a=>e.rememberChoose=a)},null,8,["modelValue"]),(0,o.Lk)("span",null,(0,c.v_)(e.t("rememberChoose")),1)]),_:1})]),_:1})]),_:1},8,["visible"])],64)}const ho={class:"card-number"},Co={class:"segments"};function Io(e,a,t,l,s,r){return(0,o.uX)(),(0,o.CE)("div",{class:(0,c.C4)(["card",{cardSelected:e.isSelected}]),onClick:a[0]||(a[0]=(...a)=>e.selected&&e.selected(...a))},[(0,o.Lk)("div",ho,(0,c.v_)(e.card.id),1),(0,o.Lk)("div",Co,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.card.segments,e=>((0,o.uX)(),(0,o.CE)("div",{key:e,class:"segment",style:(0,c.Tr)({backgroundColor:e.color})},null,4))),128))])],2)}var Eo=(0,o.pM)({props:{card:{type:Object,required:!0},isSelected:{type:Boolean,default:!1}},emits:["selected"],setup(e,{emit:a}){const t=()=>{a("selected",e.card)};return{selected:t}}});const Lo=(0,f.A)(Eo,[["render",Io],["__scopeId","data-v-1b18a9a8"]]);var Fo=Lo;const wo=["width","height"],_o={class:"actions"};function To(e,a,t,l,s,r){const n=(0,o.g2)("app-button");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",null,[(0,o.Lk)("canvas",{ref:"canvasRef",width:e.sizeRef,height:e.sizeRef,onMousedown:a[0]||(a[0]=(...a)=>e.startSelection&&e.startSelection(...a)),onMousemove:a[1]||(a[1]=(...a)=>e.moveSelection&&e.moveSelection(...a)),onMouseup:a[2]||(a[2]=(...a)=>e.endSelection&&e.endSelection(...a))},null,40,wo)]),(0,o.Lk)("div",_o,[(0,o.bF)(n,{severity:"secondary",raised:"",icon:["fas","undo"],onClick:e.resetImage},null,8,["onClick"]),(0,o.bF)(n,{severity:"secondary",raised:"",icon:["fas","plus"],onClick:e.zoomPlus},null,8,["onClick"]),(0,o.bF)(n,{severity:"secondary",raised:"",icon:["fas","minus"],onClick:e.zoomMinus},null,8,["onClick"]),(0,o.bF)(n,{severity:"secondary",raised:"",icon:["fas","save"],onClick:e.saveImage},null,8,["onClick"])])],64)}t(7588);var Mo=(0,o.pM)({name:"AppEditorCanvas",components:{AppButton:Je},props:{segments:{type:Array,required:!0},imageUrl:{type:[String,null],default:null}},emits:["update:imageUrl"],setup(e,{emit:a}){const t=(0,n.Pj)(),l=(0,r.KR)(null),s=(0,r.KR)(null),i=(0,r.KR)(null),c=(0,r.KR)(90),d=(0,r.KR)(480),u=(0,r.KR)(0),p=(0,r.KR)(null),g=(0,r.KR)(0),m=(0,r.KR)(0);let v=!1,f=0,y=0,b=0,k=0,h=!1;const C=async()=>{if(!l.value)return;const a=l.value.getContext("2d");a.clearRect(0,0,d.value,d.value),e.imageUrl&&!h&&(s.value=await L(e.imageUrl),h=!0),X(a),D(a)},{getCanvasSrc:I,saveImage:E,loadImage:L,resetImage:F,zoomPlus:w,zoomMinus:_,zoom:T}=mt(l,C,a,i),M=()=>l.value,R=()=>I(),A=e=>{if(!l.value)return;v=!0;const a=l.value.getBoundingClientRect();f=e.clientX-a.left,y=e.clientY-a.top,b=f,k=y,V()},S=e=>{if(!v||!l.value)return;const a=l.value.getBoundingClientRect();b=e.clientX-a.left,k=e.clientY-a.top,V()},B=()=>{if(!l.value)return;v=!1,V();const e=Math.min(f,b),t=Math.min(y,k),o=Math.abs(b-f),s=Math.abs(k-y);if(o<2||s<2)return;const r=document.createElement("canvas");r.width=o,r.height=s;const n=r.getContext("2d");n.drawImage(l.value,e,t,o,s,0,0,o,s);const i=r.toDataURL("image/png");a("update:imageUrl",i)},V=()=>{if(!l.value)return;const e=l.value.getContext("2d");e.clearRect(0,0,d.value,d.value),X(e),D(e),v&&(e.strokeStyle="red",e.lineWidth=2,e.strokeRect(f,y,b-f,k-y))},X=e=>{const a=d.value/2,t=c.value,l=s.value;if(!l)return;e.save(),e.beginPath(),e.arc(a,a,a-t,0,2*Math.PI),e.closePath(),e.clip(),e.translate(a+(g.value??0),a+(m.value??0)),e.rotate(u.value*Math.PI/180);const o=d.value-2*t,r=Math.min(l.width,l.height),n=o*T.value;e.drawImage(l,(l.width-r)/2,(l.height-r)/2,r,r,-n/2,-n/2,n,n),e.restore()},D=a=>{const t=d.value/2,l=c.value,o=2*Math.PI/e.segments.length,s=p.value??-Math.PI/2;a.lineWidth=l,e.segments.forEach((e,r)=>{a.beginPath(),a.strokeStyle=e.color;const n=r*o+s,i=(r+1)*o+s;a.arc(t,t,t-l/2,n,i),a.stroke()})};return(0,o.sV)(C),(0,o.wB)(()=>e.imageUrl,e=>{e&&!i.value&&(i.value=e),e&&i.value&&(h=!1,T.value=1,i.value=e),C()}),(0,o.wB)(()=>t.getters["mobile/clientWidth"],e=>e<600?(c.value=40,d.value=280,void(0,o.dY)(()=>C())):e<1024?(c.value=70,d.value=400,void(0,o.dY)(()=>C())):e>1024?(c.value=90,d.value=480,void(0,o.dY)(()=>C())):void 0,{immediate:!0}),(0,o.wB)(()=>e.segments,()=>{(0,o.dY)(()=>C())}),{canvasRef:l,startSelection:A,moveSelection:S,endSelection:B,resetImage:F,saveImage:E,zoomPlus:w,zoomMinus:_,sizeRef:d,getCanvasValue:M,getImageSrc:R}}});const Ro=(0,f.A)(Mo,[["render",To],["__scopeId","data-v-28e9ac9e"]]);var Ao=Ro,So=(0,o.pM)({components:{AppCheckbox:Nt,AppPopoverItem:kt,AppPopoverWrapper:Lt,AppPopover:Rt,AppButton:Je,AppEditorCanvas:Ao,AppColorCard:Fo,AppFileUploader:Kt},emits:["fileOnLoad","isLoading"],setup(e,{emit:a}){const t=(0,r.KR)(null),{t:l}=(0,i.s9)(),s=(0,r.KR)(),c=(0,n.Pj)(),d=(0,r.KR)(!1),u=lt,p=(0,r.KR)(null),g=(0,r.KR)(),m=(0,r.KR)(null),v=(0,r.KR)(!1),f=(0,r.KR)(c.getters["imageColor/shareImgCollage"]),y=(0,r.KR)(c.getters["imageColor/rememberImgMask"]),b=(0,o.EW)(()=>c.getters["authFirebase/currentUser"]),k=(0,o.EW)(()=>"mobile"===c.getters["mobile/breakPoint"]);(0,o.KC)(()=>{const[e]=u;p.value=e,g.value=e.segments}),(0,o.sV)(()=>{if(c.getters["imageColor/rememberImgMask"]){const e=c.getters["imageColor/imgMask"];e&&h(e)}});const h=async e=>{m.value=await $t(e),await c.dispatch("imageColor/uploadImgMask",{file:e})},C=async()=>{if(m.value){v.value=!0,d.value=!1,k.value&&a("isLoading",!0);try{await c.dispatch("gallery/saveImageToGallery",{canvas:t.value?.getCanvasValue(),title:"",coloristicType:"mask",maskType:p.value?.type,userId:b.value?.uid})}finally{v.value=!1,k.value&&a("isLoading",!1)}}else await c.dispatch("toast/addToast",{message:"Upload image",severity:"warning"})},I=e=>{p.value=e,g.value=e.segments},L=()=>{d.value=!0},F=()=>{s.value?.$el.querySelector("input[type=file]")?.click()},w=async()=>{const e=t.value?.getImageSrc();await E(Zl,{url:e,coloristicType:"mask",maskType:p.value?.type,currentUserId:b.value?.uid,canvas:t.value?.getCanvasValue(),imageUrl:m.value})};return(0,o.wB)(()=>f.value,e=>{c.dispatch("imageColor/setShareImgCollage",{share:e})}),(0,o.wB)(()=>y.value,e=>{c.dispatch("imageColor/setRememberImgMask",{remember:e})}),(0,o.wB)(()=>c.getters["imageColor/imgCollage"],e=>{c.getters["imageColor/shareImgMask"]&&h(e)}),{frameColors:g,imageUrl:m,onFileSelected:h,cards:u,selected:I,selectedCard:p,visiblePopover:d,isMobile:k,openPopover:L,triggerUpload:F,uploader:s,t:l,saveToGallery:C,isSaveToGallery:v,editorCanvasRef:t,sharedWithCollage:f,rememberChoose:y,openImageModal:w}}});const Bo=(0,f.A)(So,[["render",ko],["__scopeId","data-v-b7cf97a6"]]);var Vo=Bo,Xo=(0,o.pM)({components:{AppLoader:Nl,AppColorMask:Vo,AppCollage:io,AppTab:Na,AppTabs:Oa},setup(){const e=(0,r.KR)(null),a=(0,r.KR)(!1),t=a=>{e.value=a};return{imageUrl:e,fileOnLoad:t,isLoading:a}}});const Do=(0,f.A)(Xo,[["render",Xa],["__scopeId","data-v-842a2932"]]);var Ko=Do;const xo={namespaced:!0,state:()=>({toasts:[],counter:0}),mutations:{ADD_TOAST(e,a){const t=e.counter++;e.toasts.push({id:t,...a}),setTimeout(()=>{const a=e.toasts.findIndex(e=>e.id===t);-1!==a&&e.toasts.splice(a,1)},a.duration)},DELETE_TOAST(e,a){const t=e.toasts.findIndex(e=>e.id===a);-1!==t&&e.toasts.splice(t,1)}},actions:{addToast({commit:e},a){e("ADD_TOAST",{message:a.message,severity:a.severity||"info",duration:a.duration||4e3})},deleteToast({commit:e},a){e("DELETE_TOAST",a.id)}},getters:{getToasts(e){return e.toasts}}},Wo={namespaced:!0,state:()=>({theme:"light",isDark:!1}),mutations:{INIT_THEME(e){let a=localStorage.getItem("theme");a&&(e.theme=a,e.isDark="dark"===a,document.documentElement.classList.toggle("dark",e.isDark))},SET_THEME(e,a){e.theme=a?"dark":"light",e.isDark=a,document.documentElement.classList.toggle("dark",a),localStorage.setItem("theme",e.theme)}},actions:{initTheme({commit:e}){e("INIT_THEME")},setTheme({commit:e},a){e("SET_THEME",a)}},getters:{isDark(e){return e.isDark}}},Go={namespaced:!0,state:()=>({language:"en"}),mutations:{INIT_LANGUAGE(e){let a=localStorage.getItem("language");a&&(e.language=a)},SET_LANGUAGE(e,a){e.language=a.language,localStorage.setItem("language",a.language)}},actions:{initLanguage({commit:e}){e("INIT_LANGUAGE")},setLanguage({commit:e},a){e("SET_LANGUAGE",a)}},getters:{language(e){return e.language}}},Uo={"auth/invalid-credential":"incorrectLoginPassword","auth/user-not-found":"userNotFound"},Po={namespaced:!0,state:()=>({user:null,loading:!1}),getters:{isAuthenticated:e=>{const a=localStorage.getItem("user"),t=a?JSON.parse(a):null;return!!e.user||!!t},currentUser:e=>e.user,isLoading:e=>e.loading,getUserId:()=>{const e=localStorage.getItem("user");return e?JSON.parse(e).uid:null}},mutations:{setUser(e,a){e.user=a,localStorage.setItem("user",JSON.stringify(a))},setLoading(e,a){e.loading=a}},actions:{async login({commit:e,dispatch:a},{email:t,password:l}){e("setLoading",!0);try{const a=await(0,rt.x9)(ut,t,l);e("setUser",a.user)}catch(o){throw a("toast/addToast",{message:Uo[o.code],severity:"error",duration:3e3},{root:!0}),e("setLoading",!1),o}finally{e("setLoading",!1)}},async logout({commit:e}){await(0,rt.CI)(ut),e("setUser",null)}}},Oo={namespaced:!0,state:()=>({clientWidth:0,breakPoint:"desktop"}),mutations:{SET_CLIENT_WIDTH(e,a){e.clientWidth=a.clientWidth,a.clientWidth<600&&(e.breakPoint="mobile"),a.clientWidth>600&&a.clientWidth<1024&&(e.breakPoint="tablet"),a.clientWidth>1024&&a.clientWidth<1440&&(e.breakPoint="desktop"),a.clientWidth>1440&&(e.breakPoint="fullScreen")}},actions:{setClientWidth({commit:e},a){e("SET_CLIENT_WIDTH",a)}},getters:{clientWidth(e){return e.clientWidth},breakPoint(e){return e.breakPoint}}},zo={namespaced:!0,state:()=>({isOpen:!1}),mutations:{SET_BURGER(e,a){e.isOpen=a.isOpen}},actions:{setBurger({commit:e},a){e("SET_BURGER",a)}},getters:{isOpen(e){return e.isOpen}}},Qo={namespaced:!0,state:()=>({rememberImgMask:!0,rememberImgCollage:!0,shareImgMask:!0,shareImgCollage:!0,imgMask:null,imgCollage:null}),mutations:{UPLOAD_IMG_MASK(e,a){e.imgMask=a.file},UPLOAD_IMG_COLLAGE(e,a){e.imgCollage=a.file},SET_REMEMBER_IMG_MASK(e,a){e.rememberImgMask=a.remember},SET_REMEMBER_IMG_COLLAGE(e,a){e.rememberImgCollage=a.remember},SET_SHARE_IMG_COLLAGE(e,a){e.shareImgCollage=a.share},SET_SHARE_IMG_MASK(e,a){e.shareImgMask=a.share}},actions:{uploadImgMask({commit:e},a){e("UPLOAD_IMG_MASK",a)},uploadImgCollage({commit:e},a){e("UPLOAD_IMG_COLLAGE",a)},setRememberImgCollage({commit:e},a){e("SET_REMEMBER_IMG_COLLAGE",a)},setRememberImgMask({commit:e},a){e("SET_REMEMBER_IMG_MASK",a)},setShareImgCollage({commit:e},a){e("SET_SHARE_IMG_COLLAGE",a)},setShareImgMask({commit:e},a){e("SET_SHARE_IMG_MASK",a)}},getters:{rememberImgMask(e){return e.rememberImgMask},rememberImgCollage(e){return e.rememberImgCollage},shareImgMask(e){return e.shareImgMask},shareImgCollage(e){return e.shareImgCollage},imgMask(e){return e.imgMask},imgCollage(e){return e.imgCollage}}};t(1701);function jo(e){const a=[],t=e.toLowerCase().split(/\s+/);for(const l of t){for(let e=1;e<=l.length;e++)a.push(l.substring(0,e));for(let e=0;e<l.length;e++)a.push(l[e])}return a}const No={namespaced:!0,state:()=>({images:[],isLoading:!1,lastDoc:null,totalImages:0,filter:null}),mutations:{SET_IMAGES(e,a){e.images=[...e.images,...a.items],e.lastDoc=a.lastDoc,e.totalImages=a.totalImages},RESET_IMAGES(e){e.images=[],e.lastDoc=null,e.totalImages=0},SET_LOADING(e,a){e.isLoading=a},SET_FILTER(e,a){e.filter=a},UPDATE_IMAGE(e,a){const t=e.images.findIndex(e=>e.id===a.id);-1!==t&&(e.images[t]={...e.images[t],...a})},DELETE_IMAGE(e,a){e.images=e.images.filter(e=>e.id!==a),e.totalImages=Math.max(0,e.totalImages-1)}},actions:{async saveImageToGallery({dispatch:e},{canvas:a,path:t=`avatar/${Date.now()}.png`,title:l="",coloristicType:o,maskType:s,userId:r,folderId:n="",deprecated:i=!1}){return new Promise((c,d)=>{a.toBlob(async a=>{if(!a)return d(new Error("Не удалось получить Blob из canvas"));try{const d=(0,ot.KR)(gt,t);await(0,ot.D)(d,a);const u=await(0,ot.qk)(d);await(0,nt.gS)((0,nt.rJ)(pt,"gallery","NoUcXcCCYhRoogXFHJfV","items"),{userId:r,url:u,title:l,coloristicType:o,maskType:s,folderId:n,createdAt:new Date,deprecated:i,tokens:jo(l)}),await e("toast/addToast",{message:"successImage",severity:"success"},{root:!0}),c(u)}catch(u){await e("toast/addToast",{message:"errorImage",severity:"error"},{root:!0}),d(u)}},"image/png")})},async initUserGalleryItems({dispatch:e,commit:a,rootGetters:t},{userId:l,options:o={},reset:s=!1}){a("SET_LOADING",!0);try{s&&a("RESET_IMAGES");const{maskType:e,coloristicType:r,title:n,pageSize:i=20,lastDoc:c,folderId:d}=o,u=(0,nt.rJ)(pt,"gallery","NoUcXcCCYhRoogXFHJfV","items"),p=[(0,nt._M)("userId","==",l)],g=[(0,nt._M)("userId","==",l)];r&&(p.push((0,nt._M)("coloristicType","==",r)),g.push((0,nt._M)("coloristicType","==",r))),e&&(p.push((0,nt._M)("maskType","==",e)),g.push((0,nt._M)("maskType","==",e))),d&&(p.push((0,nt._M)("folderId","==",d)),g.push((0,nt._M)("folderId","==",d))),n&&(p.push((0,nt._M)("tokens","array-contains",n.toLowerCase())),g.push((0,nt._M)("tokens","array-contains",n.toLowerCase()))),p.push((0,nt.My)("createdAt","desc")),c&&p.push((0,nt.HM)(c)),p.push((0,nt.AB)(i));const m=(0,nt.P)(u,...p),v=(0,nt.P)(u,...g),f=await(0,nt.d_)(v),y=await(0,nt.GG)(m),b=y.docs.map(e=>{const a=e.data();return{id:e.id,src:a.url,title:a.title,coloristicType:a.coloristicType,maskType:a.maskType,folder:t["folder/getFolderById"](a.folderId)}});a("SET_IMAGES",{items:b,lastDoc:y.docs.length>0?y.docs[y.docs.length-1]:null,totalImages:f.data().count})}catch(r){await e("toast/addToast",{message:"Ошибка загрузки",severity:"error"},{root:!0})}finally{a("SET_LOADING",!1)}},async updateImageInGallery({dispatch:e,commit:a},t){try{const l=(0,nt.H9)(pt,"gallery","NoUcXcCCYhRoogXFHJfV","items",t.id);await(0,nt.mZ)(l,{...t,updatedAt:new Date,tokens:t?.title?jo(t.title):[]}),a("UPDATE_IMAGE",t),await e("toast/addToast",{message:"successUpdate",severity:"success"},{root:!0})}catch(l){throw await e("toast/addToast",{message:"errorUpdate",severity:"error"},{root:!0}),l}},async deleteImageFromGallery({dispatch:e,commit:a},{id:t}){try{const l=(0,nt.H9)(pt,"gallery","NoUcXcCCYhRoogXFHJfV","items",t);await(0,nt.kd)(l),a("DELETE_IMAGE",t),await e("toast/addToast",{message:"successDelete",severity:"success"},{root:!0})}catch(l){throw await e("toast/addToast",{message:"errorDelete",severity:"error"},{root:!0}),l}},setFilter(e,a){e.commit("SET_FILTER",a)}},getters:{getImages(e){return e.images},getTotalImages(e){return e.totalImages},getLastDoc(e){return e.lastDoc},isLoading(e){return e.isLoading},getFilter(e){return e.filter}}},$o={namespaced:!0,state:()=>({items:[],filterItems:[],isLoading:!1}),mutations:{SET_FOLDERS(e,a){e.items=a,e.filterItems=a},ADD_FOLDERS(e,a){e.items.push(a)},SET_LOADING(e,a){e.isLoading=a},REMOVE_FOLDER(e,a){e.items=e.items.filter(e=>e.id!==a),e.filterItems=e.items},UPDATE_FOLDER(e,a){const t=e.items.findIndex(e=>e.id===a.id);-1!==t&&(e.items[t]={...e.items[t],...a},e.filterItems[t]={...e.items[t],...a})},FILTER_FOLDER(e,a){e.filterItems=a?e.items.filter(e=>e.name.toLowerCase().trim().includes(a.toLowerCase().trim())):e.items}},actions:{async saveFolder({dispatch:e,commit:a},{userId:t,name:l}){a("SET_LOADING",!0);try{const o=(0,nt.rJ)(pt,"folder","bCxB7W5QIQZQAOSBcbfa","items"),s=await(0,nt.gS)(o,{userId:t,name:l,createdAt:new Date});a("ADD_FOLDERS",{id:s.id,userId:t,name:l,createdAt:new Date}),await e("toast/addToast",{message:"successFolder",severity:"success"},{root:!0})}catch(o){await e("toast/addToast",{message:"errorFolder",severity:"error"},{root:!0})}finally{a("SET_LOADING",!1)}},async getFolders({dispatch:e,commit:a},t){a("SET_LOADING",!0);try{const e=(0,nt.rJ)(pt,"folder","bCxB7W5QIQZQAOSBcbfa","items"),l=(0,nt.P)(e,(0,nt._M)("userId","==",t)),o=await(0,nt.GG)(l),s=o.docs.map(e=>({id:e.id,...e.data()}));return a("SET_FOLDERS",s),s}catch(l){return await e("toast/addToast",{message:"errorLoadFolders",severity:"error"},{root:!0}),[]}finally{a("SET_LOADING",!1)}},async deleteFolder({dispatch:e,commit:a},t){a("SET_LOADING",!0);try{const l=(0,nt.H9)(pt,"folder","bCxB7W5QIQZQAOSBcbfa","items",t);await(0,nt.kd)(l),a("REMOVE_FOLDER",t),await e("toast/addToast",{message:"successDeleteFolder",severity:"success"},{root:!0})}catch(l){await e("toast/addToast",{message:"errorDeleteFolder",severity:"error"},{root:!0})}finally{a("SET_LOADING",!1)}},async updateFolder({dispatch:e,commit:a},{id:t,name:l}){a("SET_LOADING",!0);try{const o=(0,nt.H9)(pt,"folder","bCxB7W5QIQZQAOSBcbfa","items",t);await(0,nt.mZ)(o,{name:l}),a("UPDATE_FOLDER",{id:t,name:l}),await e("toast/addToast",{message:"successUpdateFolder",severity:"success"},{root:!0})}catch(o){await e("toast/addToast",{message:"errorUpdateFolder",severity:"error"},{root:!0})}finally{a("SET_LOADING",!1)}},filterFolder(e,a){e.commit("FILTER_FOLDER",a)}},getters:{getFolders(e){return e.items},getFilterFolders(e){return e.filterItems},isLoading(e){return e.isLoading},getFolderById:e=>a=>e.items.find(e=>e.id===a)}};var Ho=(0,n.y$)({state:{},getters:{},mutations:{},actions:{},modules:{toast:xo,theme:Wo,language:Go,authFirebase:Po,mobile:Oo,burgerMenu:zo,imageColor:Qo,gallery:No,folder:$o},plugins:[(0,n.h)()]});const qo={class:"gallery-container"},Yo={class:"gallery-wrapper"},Jo={class:"gallery-helper"},Zo={class:"search"},es={key:0,class:"filter-fill"},as={class:"footer"};function ts(e,a,t,l,s,r){const n=(0,o.g2)("AppLoader"),i=(0,o.g2)("app-input"),d=(0,o.g2)("app-button"),u=(0,o.g2)("app-image-card");return(0,o.uX)(),(0,o.CE)("div",qo,[e.isLoading?((0,o.uX)(),(0,o.Wv)(n,{key:0})):(0,o.Q3)("",!0),(0,o.Lk)("div",Yo,[(0,o.Lk)("section",Jo,[(0,o.Lk)("div",Zo,[(0,o.bF)(i,{modelValue:e.search,"onUpdate:modelValue":a[0]||(a[0]=a=>e.search=a),placeholder:"search",icon:["fas","search"],"is-label":!1},null,8,["modelValue"])]),(0,o.Lk)("div",{class:"filter-btn",onClick:a[1]||(a[1]=(...a)=>e.openFilterModal&&e.openFilterModal(...a))},[(0,o.bF)(d,{severity:"secondary",raised:"",icon:["fas","filter"]}),e.isFilterEmpty?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",es))])]),(0,o.Lk)("section",{ref:"imagesContainer",class:"images",onScroll:a[2]||(a[2]=(...a)=>e.onScroll&&e.onScroll(...a))},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.images,(a,t)=>((0,o.uX)(),(0,o.Wv)(u,{key:a.id||t,src:a.src,onClick:a=>e.openCardModal(t)},{default:(0,o.k6)(()=>[(0,o.eW)((0,c.v_)(e.t("photo"))+" "+(0,c.v_)(t+1),1)]),_:2},1032,["src","onClick"]))),128))],544),(0,o.Lk)("footer",as,(0,c.v_)(e.t("total"))+": "+(0,c.v_)(e.totalImages),1)])])}const ls={class:"image-card"},os=["src","alt"],ss={key:1,class:"fallback"},rs={class:"overlay"};function ns(e,a,t,l,s,r){return(0,o.uX)(),(0,o.CE)("div",ls,[e.error?((0,o.uX)(),(0,o.CE)("div",ss,[(0,o.RG)(e.$slots,"fallback",{},()=>[a[2]||(a[2]=(0,o.eW)("⚠️ Ошибка загрузки",-1))],!0)])):((0,o.uX)(),(0,o.CE)("img",{key:0,src:e.src,alt:e.alt,style:(0,c.Tr)({objectFit:e.fit}),loading:"lazy",class:(0,c.C4)({"fade-in":e.loaded}),onError:a[0]||(a[0]=(...a)=>e.onError&&e.onError(...a)),onLoad:a[1]||(a[1]=(...a)=>e.onLoad&&e.onLoad(...a))},null,46,os)),(0,o.Lk)("div",rs,[(0,o.RG)(e.$slots,"default",{},void 0,!0)])])}var is=(0,o.pM)({props:{src:{type:String,required:!0},alt:{type:String,default:""},fit:{type:String,default:"cover"},rounded:{type:Boolean,default:!0}},setup(){const e=(0,r.KR)(!1),a=(0,r.KR)(!1);function t(){e.value=!0}function l(){a.value=!0}return{error:e,loaded:a,onError:t,onLoad:l}}});const cs=(0,f.A)(is,[["render",ns],["__scopeId","data-v-d8624500"]]);var ds=cs;const us={ref:"modalRef",class:"modal-content neon"},ps={class:"overlay-image"},gs=["src"],ms={class:"info-section scroll-area"},vs={class:"info-section-wrapper"},fs={class:"slider-dots"},ys={class:"info"},bs={class:"badge-wrapper"},ks={key:0,class:"badge darkBadge"},hs={key:1,class:"badge darkBadge"},Cs={key:2,class:"badge darkBadge"},Is={key:0,class:"info-title"},Es={key:1,class:"edit-title"},Ls={class:"actions"},Fs={class:"btn"};function ws(e,a,t,l,s,r){const n=(0,o.g2)("app-modal-header"),i=(0,o.g2)("font-awesome-icon"),d=(0,o.g2)("app-overlay-panel"),u=(0,o.g2)("app-input"),p=(0,o.g2)("app-button");return(0,o.uX)(),(0,o.CE)("div",us,[(0,o.bF)(n,{onClose:e.close},null,8,["onClose"]),(0,o.Lk)("div",{ref:"targetRef",class:"ellipsis-vertical",onClick:a[0]||(a[0]=(...a)=>e.toggleImageOverlayPanel&&e.toggleImageOverlayPanel(...a))},[(0,o.bF)(i,{size:"lg",icon:["fas","fa-ellipsis-vertical"]})],512),e.targetRef?((0,o.uX)(),(0,o.Wv)(d,{key:0,visible:e.visible,"onUpdate:visible":a[4]||(a[4]=a=>e.visible=a),width:250,target:e.targetRef,position:{x:"left",y:"center"}},{default:(0,o.k6)(()=>[(0,o.Lk)("div",ps,[(0,o.Lk)("div",{class:"overlay-image-item",onClick:a[1]||(a[1]=(...a)=>e.openFolderModal&&e.openFolderModal(...a))},[(0,o.bF)(i,{size:"sm",icon:["fas","fa-folder"]}),(0,o.eW)(" "+(0,c.v_)(e.t("addFolder")),1)]),(0,o.Lk)("div",{class:"overlay-image-item",onClick:a[2]||(a[2]=(...a)=>e.updateFolder&&e.updateFolder(...a))},[(0,o.bF)(i,{size:"sm",icon:["fas","undo"]}),(0,o.eW)(" "+(0,c.v_)(e.t("update")),1)]),(0,o.Lk)("div",{class:"overlay-image-item",onClick:a[3]||(a[3]=(...a)=>e.copyLink&&e.copyLink(...a))},[(0,o.bF)(i,{size:"sm",icon:["fas","fa-link"]}),(0,o.eW)(" "+(0,c.v_)(e.t("copyLink")),1)])])]),_:1},8,["visible","target"])):(0,o.Q3)("",!0),(0,o.Lk)("img",{src:e.currentImage.src,alt:"",class:"modal-image"},null,8,gs),(0,o.Lk)("section",ms,[(0,o.Lk)("div",vs,[(0,o.Lk)("div",fs,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.images,(a,t)=>((0,o.uX)(),(0,o.CE)("div",{key:a.id,class:(0,c.C4)(["dot",{active:t===e.index}])},null,2))),128))]),(0,o.Lk)("div",ys,[(0,o.Lk)("div",bs,[e.localImages[e.index].folder?((0,o.uX)(),(0,o.CE)("span",ks,(0,c.v_)(e.localImages[e.index].folder.name),1)):(0,o.Q3)("",!0),e.currentImage.maskType?((0,o.uX)(),(0,o.CE)("span",hs,(0,c.v_)(e.currentImage.maskType),1)):(0,o.Q3)("",!0),e.currentImage.coloristicType?((0,o.uX)(),(0,o.CE)("span",Cs,(0,c.v_)(e.currentImage.coloristicType),1)):(0,o.Q3)("",!0)]),e.isEditTitle?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",Is,[(0,o.bF)(i,{size:"xs",icon:["fas","fa-pencil"],onClick:a[5]||(a[5]=a=>e.toggleTitle(e.currentImage.title))}),(0,o.Lk)("span",null,(0,c.v_)(e.currentImage.title?e.currentImage.title:e.t("noName")),1)])),e.isEditTitle?((0,o.uX)(),(0,o.CE)("div",Es,[(0,o.bF)(u,{modelValue:e.sign,"onUpdate:modelValue":a[6]||(a[6]=a=>e.sign=a),icon:["fas","fa-pencil"],"is-label":!1,"is-focused":""},null,8,["modelValue"]),(0,o.Lk)("div",{class:"edit-title-save-icon",onClick:a[7]||(a[7]=(...a)=>e.updateSign&&e.updateSign(...a))},[(0,o.bF)(i,{size:"sm",icon:["fas","undo"]})])])):(0,o.Q3)("",!0)]),(0,o.Lk)("div",Ls,[(0,o.Lk)("div",Fs,[(0,o.bF)(p,{severity:"error",icon:["fas","fa-trash"],onClick:e.deleteImage},null,8,["onClick"])])])])]),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",{key:1,class:"next",onClick:a[8]||(a[8]=(...a)=>e.next&&e.next(...a))},[(0,o.bF)(i,{icon:["fas","fa-arrow-right"]})])),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",{key:2,class:"prev",onClick:a[9]||(a[9]=(...a)=>e.prev&&e.prev(...a))},[(0,o.bF)(i,{icon:["fas","fa-arrow-left"]})]))],512)}var _s=t(7398),Ts=(0,o.pM)({components:{AppOverlayPanel:Ee,AppModalHeader:ul,AppInput:pe,AppButton:Je},props:{images:{type:Array,required:!0},startIndex:{type:Number,required:!0}},emits:["close"],setup(e,{emit:a}){const{t:t}=(0,i.s9)(),l=(0,n.Pj)(),s=(0,r.KR)(e.startIndex),c=(0,r.KR)(null),d=(0,r.KR)(!1),u=(0,r.KR)(""),p=(0,o.EW)(()=>"mobile"===l.getters["mobile/breakPoint"]),g=(0,o.EW)(()=>e.images[s.value]),m=(0,r.KR)(!1),v=(0,r.KR)(null),f=(0,r.KR)([...e.images]),y=(0,_s.K$F)(c);(0,o.wB)(()=>e.startIndex,e=>{s.value=e});const b=()=>{s.value=(s.value+1)%e.images.length,d.value=!1},k=()=>{s.value=(s.value-1+e.images.length)%e.images.length,d.value=!1},h=()=>{a("close")},C=e=>{d.value=!0,u.value=e},I=async()=>{await E(Gl,{text:t("dywDelete"),title:t("delete")}).then(t=>{t&&(l.dispatch("gallery/deleteImageFromGallery",{id:e.images[s.value].id}),a("close"))})},L=()=>{const a=e.images[s.value];d.value=!1,a?.title!==u.value&&l.dispatch("gallery/updateImageInGallery",{...w(a,u.value)})},F=()=>{_(),l.dispatch("gallery/updateImageInGallery",{...w(e.images[s.value])})},w=(e,a)=>({id:e.id,src:e.src,title:a||e.title,coloristicType:e.coloristicType,maskType:e.maskType,folderId:e?.folder?.id??null});(0,o.sV)(()=>{y.value=!0;let e=0;const a=a=>{e=a.touches[0].clientX},t=a=>{const t=a.changedTouches[0].clientX;e-t>50&&b(),t-e>50&&k()};c.value&&(c.value.addEventListener("touchstart",a),c.value.addEventListener("touchend",t),c.value._touchHandlers={handleTouchStart:a,handleTouchEnd:t})}),(0,o.hi)(()=>{if(c.value&&c.value._touchHandlers){const{handleTouchStart:e,handleTouchEnd:a}=c.value._touchHandlers;c.value.removeEventListener("touchstart",e),c.value.removeEventListener("touchend",a)}});const _=()=>{m.value=!m.value},T=async()=>{_(),await E(ql,{folder:e.images[s.value].folder},{transparent:!0}).then(e=>{f.value[s.value].folder=e})},M=async()=>{_();const a=e.images[s.value].src;try{await navigator.clipboard.writeText(a),await l.dispatch("toast/addToast",{message:"Ссылка скопирована!",severity:"success"})}catch(t){await l.dispatch("toast/addToast",{message:"Ошибка копирования!",severity:"error"})}};return(0,o.wB)(s,async e=>{await(0,o.dY)();const a=document.querySelectorAll(".slider-dots .dot"),t=a[e];t&&t.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})},{immediate:!0}),{index:s,next:b,prev:k,close:h,modalRef:c,isMobile:p,isEditTitle:d,toggleTitle:C,sign:u,deleteImage:I,updateSign:L,currentImage:g,toggleImageOverlayPanel:_,targetRef:v,visible:m,t:t,openFolderModal:T,localImages:f,updateFolder:F,copyLink:M}}});const Ms=(0,f.A)(Ts,[["render",ws],["__scopeId","data-v-6e2d2659"]]);var Rs=Ms;const As={ref:"modalRef",class:"modal-content neon"},Ss={class:"wrapper-filter"},Bs={class:"filter-dropdown"},Vs={class:"folders-overlay-container"},Xs={class:"folders-options-wrapper"},Ds={class:"option-folder-item"},Ks=["src"],xs={class:"filter-dropdown"},Ws={class:"mask-type-wrapper"},Gs={class:"segments"},Us={class:"filter-dropdown"},Ps={class:"footer"};function Os(e,a,l,s,r,n){const i=(0,o.g2)("app-modal-header"),d=(0,o.g2)("app-option"),u=(0,o.g2)("app-dropdown"),p=(0,o.g2)("font-awesome-icon"),g=(0,o.g2)("app-button");return(0,o.uX)(),(0,o.CE)("div",As,[(0,o.bF)(i,{onClose:e.close},null,8,["onClose"]),(0,o.Lk)("section",Ss,[(0,o.Lk)("div",Bs,[(0,o.bF)(u,{modelValue:e.folder,"onUpdate:modelValue":a[1]||(a[1]=a=>e.folder=a),"is-search":!0,"is-title":"",title:"folder",label:"name",height:"48px",onSearch:e.searchFolder},{default:(0,o.k6)(()=>[(0,o.Lk)("div",Vs,[(0,o.Lk)("div",Xs,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.folders,l=>((0,o.uX)(),(0,o.Wv)(d,{key:l,value:l},{default:(0,o.k6)(()=>[(0,o.Lk)("div",Ds,[(0,o.Lk)("img",{loading:"lazy",class:(0,c.C4)({"fade-in":e.onLoad}),src:t(2823),alt:"Rainbow Folder",onLoad:a[0]||(a[0]=(...a)=>e.onLoad&&e.onLoad(...a))},null,42,Ks),(0,o.Lk)("span",null,(0,c.v_)(l.name),1)])]),_:2},1032,["value"]))),128))])])]),_:1},8,["modelValue","onSearch"])]),(0,o.Lk)("div",xs,[(0,o.bF)(u,{modelValue:e.maskType,"onUpdate:modelValue":a[2]||(a[2]=a=>e.maskType=a),height:"48px",label:"type","is-title":"",title:"mask"},{default:(0,o.k6)(()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.cards,e=>((0,o.uX)(),(0,o.Wv)(d,{key:e,value:e},{default:(0,o.k6)(()=>[(0,o.Lk)("div",Ws,[(0,o.Lk)("div",Gs,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.segments,e=>((0,o.uX)(),(0,o.CE)("div",{key:e,style:(0,c.Tr)({backgroundColor:e.color}),class:"segment"},null,4))),128))]),(0,o.Lk)("span",null,(0,c.v_)(e.type),1)])]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),(0,o.Lk)("div",Us,[(0,o.bF)(u,{modelValue:e.coloristicType,"onUpdate:modelValue":a[3]||(a[3]=a=>e.coloristicType=a),height:"48px",label:"name","is-title":"",title:"colorType"},{default:(0,o.k6)(()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.coloristicTypes,e=>((0,o.uX)(),(0,o.Wv)(d,{key:e,value:e},{default:(0,o.k6)(()=>[(0,o.bF)(p,{icon:["fa",e.icon]},null,8,["icon"]),(0,o.eW)(" "+(0,c.v_)(e.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])])]),(0,o.Lk)("footer",Ps,[(0,o.Lk)("div",{class:"btn",onClick:a[4]||(a[4]=(...a)=>e.clearFilter&&e.clearFilter(...a))},[(0,o.bF)(g,{severity:"info",title:"clear"})]),(0,o.Lk)("div",{class:"btn",onClick:a[5]||(a[5]=(...a)=>e.applyFilter&&e.applyFilter(...a))},[(0,o.bF)(g,{severity:"warning",title:"apply"})])])],512)}var zs=(0,o.pM)({components:{AppOption:Re,AppButton:Je,AppDropdown:we,AppModalHeader:ul},emits:["resolve","reject","close"],setup(e,{emit:a}){const t=(0,n.Pj)(),l=(0,r.KR)(lt),s=(0,r.KR)(t.getters["gallery/getFilter"]?.maskType),i=(0,r.KR)(t.getters["gallery/getFilter"]?.coloristicType),c=(0,r.KR)([{id:"mask",name:"mask",icon:"mask"},{id:"collage",name:"collage",icon:"images"}]),d=(0,o.EW)(()=>t.getters["folder/getFilterFolders"]),u=(0,r.KR)(t.getters["gallery/getFilter"]?.folder),p=()=>{a("close")},g=e=>{t.dispatch("folder/filterFolder",e)},m=()=>{t.dispatch("gallery/setFilter",{folder:u.value,coloristicType:i.value,maskType:s.value}),a("resolve",!0)},v=()=>{u.value=null,i.value=null,s.value=null,t.dispatch("gallery/setFilter",null)};return{close:p,folder:u,folders:d,searchFolder:g,cards:l,maskType:s,coloristicType:i,coloristicTypes:c,applyFilter:m,clearFilter:v}}});const Qs=(0,f.A)(zs,[["render",Os],["__scopeId","data-v-517fee03"]]);var js=Qs;const Ns=e=>0===Object.keys(e).length,$s=e=>Object.fromEntries(Object.entries(e).filter(([,e])=>e));var Hs=(0,o.pM)({components:{AppLoader:Nl,AppButton:Je,AppInput:pe,AppImageCard:ds},setup(){const{t:e}=(0,i.s9)(),a=(0,n.Pj)(),t=(0,r.KR)(""),l=(0,r.KR)(null),s=(0,o.EW)(()=>a.getters["gallery/getImages"]),c=(0,r.KR)(null),d=(0,o.EW)(()=>a.getters["authFirebase/getUserId"]),u=(0,o.EW)(()=>a.getters["gallery/getTotalImages"]),p=(0,o.EW)(()=>a.getters["gallery/getLastDoc"]),g=(0,o.EW)(()=>a.getters["gallery/isLoading"]),m=(0,o.EW)(()=>a.getters["gallery/getFilter"]),v=(0,o.EW)(()=>{const e=m.value;return!e||Ns($s(e))});let f=null;(0,o.sV)(async()=>{await a.dispatch("folder/getFolders",d.value),await a.dispatch("gallery/initUserGalleryItems",{userId:d.value,options:{title:t.value,coloristicType:m.value?.coloristicType?.id,maskType:m.value?.maskType?.type,folderId:m.value?.folder?.id},reset:!0})});const y=async e=>{await E(Rs,{images:s.value,startIndex:e})},b=async()=>{await E(js,{}).then(e=>{e&&a.dispatch("gallery/initUserGalleryItems",{userId:d.value,options:{title:t.value,coloristicType:m.value?.coloristicType?.id,maskType:m.value?.maskType?.type,folderId:m.value?.folder?.id},reset:!0})})},k=async e=>{const l=e.target,o=Math.ceil(l.scrollTop+l.clientHeight),r=o>=l.scrollHeight;r&&u.value>s.value.length&&!g.value&&await a.dispatch("gallery/initUserGalleryItems",{userId:d.value,options:{title:t.value,coloristicType:m.value?.coloristicType?.id,maskType:m.value?.maskType?.type,folderId:m.value?.folder?.id,lastDoc:p.value}})};return(0,o.wB)(t,e=>{f&&clearTimeout(f),f=setTimeout(()=>{a.dispatch("gallery/initUserGalleryItems",{userId:d.value,options:{title:e,...m},reset:!0})},300)}),{images:s,currentIndex:c,openCardModal:y,isLoading:g,totalImages:u,imagesContainer:l,onScroll:k,search:t,openFilterModal:b,isFilterEmpty:v,t:e}}});const qs=(0,f.A)(Hs,[["render",ts],["__scopeId","data-v-416ecfac"]]);var Ys=qs;const Js=[{path:"/",name:"auth",component:Be,redirect:"/login",children:[{path:"login",name:"login",component:la},{path:"forgot",name:"forgot",component:na}]},{path:"/main",name:"main",component:Ba,redirect:"/main/color",meta:{requiresAuth:!0},children:[{path:"color",name:"color",component:Ko,meta:{requiresAuth:!0}},{path:"gallery",name:"gallery",component:Ys,meta:{requiresAuth:!0}}]}],Zs=(0,A.aE)({history:(0,A.Bt)("/RM_Rainbow-Manager/"),routes:Js});Zs.beforeEach((e,a,t)=>{const l=Ho.getters["authFirebase/isAuthenticated"];e.matched.some(e=>e.meta.requiresAuth)?l?t():t({name:"login"}):"login"===e.name&&l?t({name:"color"}):t()});var er=Zs,ar=t(8950),tr=t(2353),lr=t(292);const or={en:{login:"Login",email:"Email",password:"Password",forgot:"Forgot",userName:"Username",incorrectLoginPassword:"Incorrect login or password",userNotFound:"User not found",validation:{required:"This field is required",email:"Invalid email address",min:"Minimum {count} characters"},colorType:"Color type",gallery:"Gallery",upload:"Upload",mask:"Mask",collage:"Collage",logout:"Logout",saveToGallery:"Save to Gallery",addSign:"Add Sign",shareImageWithCollage:"Share image with collage",shareImageWithMask:"Share image with mask",rememberChoose:"Remember choose",successImage:"Image uploaded",errorImage:"Error image uploaded",addFolder:"Add folder",delete:"Delete",newFolder:"New folder",nameFolder:"name folder",choose:"Choose",edit:"Edit",cancel:"Cancel",ok:"Ок",search:"search",dywDelete:"Do you want delete 1 element?",clear:"Clear",apply:"Apply",folder:"Folder",total:"Total",photo:"Photo",update:"Update",copyLink:"Copy link",noName:"No name"},ru:{login:"Вход",email:"Почта",password:"Пароль",forgot:"Забыли",userName:"Имя пользователя",incorrectLoginPassword:"Неверный логин или пароль",userNotFound:"Пользователь не найден",validation:{required:"Поле обязательно",email:"Некорректный email",min:"Минимум {count} символов"},colorType:"Колористика",gallery:"Галерея",upload:"Загрузить",mask:"Маска",collage:"Коллаж",logout:"Выйти",saveToGallery:"Сохранить в галерею",addSign:"Добавить подпись",shareImageWithCollage:"Показывать в коллаже",shareImageWithMask:"Показывать в маске",rememberChoose:"Запомнить",successImage:"Изображение загружено",errorImage:"Ошибка при загрузке изображения",addFolder:"Добавить папку",delete:"Удалить",newFolder:"Новая папка",choose:"Выбрать",edit:"Исправить",cancel:"Отменить",ok:"Ок",search:"поиск",nameFolder:"название папки",dywDelete:"Удалить 1 элемент?",clear:"Очистить",apply:"Применить",folder:"Папка",total:"Всего",photo:"Фото",update:"Обновить",copyLink:"Скопировать ссылку",noName:"Без названия"}},sr=(0,i.hU)({locale:"en",fallbackLocale:"ru",messages:or});ar.Yv.add(tr.MjD,tr.mRM,tr.SGM,tr.s0Q,tr.iW_,tr.zpE,tr.DW4,tr.M9Z,tr.y_8,tr.N72,tr.U23,tr.hSh,tr.QLR,tr.EZy,tr.yBu,tr.CeG,tr.dmS,tr.S7o,tr.yvG,tr.nx5,tr.vHW,tr.m1c,tr.zLW,tr.GRI,tr.s0Q,tr.yLS,tr.KIu,tr.ao0,tr.jPR,tr.CQO),(0,rt.hg)(ut,e=>{Ho.commit("authFirebase/setUser",e)}),(0,l.Ef)(R).use(Ho).use(er).use(sr).component("font-awesome-icon",lr.gc).mount("#app")}},a={};function t(l){var o=a[l];if(void 0!==o)return o.exports;var s=a[l]={exports:{}};return e[l].call(s.exports,s,s.exports,t),s.exports}t.m=e,function(){var e=[];t.O=function(a,l,o,s){if(!l){var r=1/0;for(d=0;d<e.length;d++){l=e[d][0],o=e[d][1],s=e[d][2];for(var n=!0,i=0;i<l.length;i++)(!1&s||r>=s)&&Object.keys(t.O).every(function(e){return t.O[e](l[i])})?l.splice(i--,1):(n=!1,s<r&&(r=s));if(n){e.splice(d--,1);var c=o();void 0!==c&&(a=c)}}return a}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[l,o,s]}}(),function(){t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,{a:a}),a}}(),function(){t.d=function(e,a){for(var l in a)t.o(a,l)&&!t.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:a[l]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){t.p="/RM_Rainbow-Manager/"}(),function(){var e={524:0};t.O.j=function(a){return 0===e[a]};var a=function(a,l){var o,s,r=l[0],n=l[1],i=l[2],c=0;if(r.some(function(a){return 0!==e[a]})){for(o in n)t.o(n,o)&&(t.m[o]=n[o]);if(i)var d=i(t)}for(a&&a(l);c<r.length;c++)s=r[c],t.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return t.O(d)},l=self["webpackChunkvue_exeample"]=self["webpackChunkvue_exeample"]||[];l.forEach(a.bind(null,0)),l.push=a.bind(null,l.push.bind(l))}();var l=t.O(void 0,[504],function(){return t(7465)});l=t.O(l)})();
//# sourceMappingURL=app.d6f9f3bd.js.map