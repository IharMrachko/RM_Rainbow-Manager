(function(){"use strict";var e={7931:function(e,t,a){var o=a(5130),l=a(6768);function n(e,t,a,o,n,s){const i=(0,l.g2)("app-toaster"),r=(0,l.g2)("router-view");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.bF)(i),(0,l.bF)(r)],64)}var s=a(144),i=a(782),r=a(5931),c=a(4232);const u={class:"toast-container"},d={class:"toast-icon"},p={class:"toast-message"},g=["onClick"];function v(e,t,a,n,s,i){const r=(0,l.g2)("font-awesome-icon");return(0,l.uX)(),(0,l.Wv)(l.Im,{to:"body"},[(0,l.Lk)("div",u,[(0,l.bF)(o.F,{name:"toast",tag:"div"},{default:(0,l.k6)(()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.toasts,t=>((0,l.uX)(),(0,l.CE)("div",{id:"toastTest",key:t.id,class:(0,c.C4)(["toast",t.severity])},[(0,l.Lk)("span",d,[(0,l.bF)(r,{icon:e.iconClass(t.severity)},null,8,["icon"])]),(0,l.Lk)("span",p,(0,c.v_)(e.t(t.message)),1),(0,l.Lk)("div",{class:"toast-progress",style:(0,c.Tr)({animationDuration:t.duration+"ms"})},null,4),(0,l.Lk)("div",{class:"toast-delete",onClick:a=>e.deleteToast(t.id)},[(0,l.bF)(r,{icon:["fas","times-circle"]})],8,g)],2))),128))]),_:1})])])}var m=(0,l.pM)({setup(){const{t:e}=(0,r.s9)(),t=(0,i.Pj)(),a=(0,l.EW)(()=>t.getters["toast/getToasts"]),o=e=>{t.dispatch("toast/deleteToast",{id:e})},n=e=>{switch(e){case"success":return["fas","check-circle"];case"error":return["fas","times-circle"];case"info":return["fas","info-circle"];case"warning":return["fas","exclamation-triangle"];default:return["fas","times-circle"]}};return{toasts:a,iconClass:n,deleteToast:o,t:e}}}),f=a(1241);const b=(0,f.A)(m,[["render",v],["__scopeId","data-v-3a48c8ba"]]);var h=b,k=(0,l.pM)({components:{AppToaster:h},setup(){const e=(0,s.KR)(document.documentElement.clientWidth),t=(0,i.Pj)(),{locale:a}=(0,r.s9)();t.dispatch("theme/initTheme"),t.dispatch("language/initLanguage"),(0,l.wB)(()=>t.getters["language/language"],e=>{a.value=e},{immediate:!0});const o=()=>{e.value=document.documentElement.clientWidth,t.dispatch("mobile/setClientWidth",{clientWidth:e.value})};(0,l.sV)(()=>{t.dispatch("mobile/setClientWidth",{clientWidth:e.value}),window.addEventListener("resize",o)}),(0,l.xo)(()=>{window.removeEventListener("resize",o)})}});const y=(0,f.A)(k,[["render",n]]);var E=y,C=(a(8111),a(3579),a(1387)),w=a.p+"img/rainbow.defa200a.svg";const L={class:"container"},_={class:"header-section"},A={class:"app-dropdown"};function F(e,t,a,o,n,s){const i=(0,l.g2)("app-toggle"),r=(0,l.g2)("app-option"),u=(0,l.g2)("app-dropdown"),d=(0,l.g2)("app-header"),p=(0,l.g2)("router-view");return(0,l.uX)(),(0,l.CE)("div",L,[(0,l.bF)(d,null,{default:(0,l.k6)(()=>[(0,l.Lk)("section",_,[t[2]||(t[2]=(0,l.Lk)("img",{src:w,alt:"App Logo",width:"32",height:"32"},null,-1)),(0,l.Lk)("section",null,[(0,l.bF)(i,{modelValue:e.isDark,"onUpdate:modelValue":t[0]||(t[0]=t=>e.isDark=t),variant:"theme",onToggled:e.toggled},null,8,["modelValue","onToggled"]),(0,l.Lk)("div",A,[(0,l.bF)(u,{modelValue:e.language,"onUpdate:modelValue":t[1]||(t[1]=t=>e.language=t),label:"name"},{default:(0,l.k6)(()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.languages,e=>((0,l.uX)(),(0,l.Wv)(r,{key:e,value:e},{default:(0,l.k6)(()=>[(0,l.eW)((0,c.v_)(e),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])])])])]),_:1}),(0,l.bF)(p)])}const I=["aria-disabled"],R=["checked","disabled"];function S(e,t,a,n,s,i){return(0,l.uX)(),(0,l.CE)("label",{ref:"switchEl",class:(0,c.C4)([[e.variant,{disabled:e.disabled}],"switch"]),tabindex:"0","aria-disabled":e.disabled,onKeydown:[t[1]||(t[1]=(0,o.jR)((0,o.D$)((...t)=>e.onKeyToggle&&e.onKeyToggle(...t),["prevent"]),["space"])),t[2]||(t[2]=(0,o.jR)((0,o.D$)((...t)=>e.onKeyToggle&&e.onKeyToggle(...t),["prevent"]),["enter"]))]},[(0,l.Lk)("input",{type:"checkbox",checked:e.modelValue,disabled:e.disabled,onChange:t[0]||(t[0]=(...t)=>e.onToggle&&e.onToggle(...t))},null,40,R),t[3]||(t[3]=(0,l.Lk)("span",{class:"slider"},null,-1))],42,I)}function T(e,t){const a=(0,s.KR)(null),o=e=>{const a=e.target;t("update:modelValue",a.checked),t("toggled",a.checked)},n=()=>{e.disabled||(t("update:modelValue",!e.modelValue),t("toggled",!e.modelValue))};return(0,l.sV)(()=>{!e.disabled&&a.value&&a.value.focus()}),{onToggle:o,onKeyToggle:n,switchEl:a}}var M=(0,l.pM)({props:{modelValue:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},variant:{type:String,default:"default"}},emits:["update:modelValue","toggled"],setup(e,t){return T(e,t.emit)}});const B=(0,f.A)(M,[["render",S],["__scopeId","data-v-4d8e97e2"]]);var x=B;const K={class:"header"};function D(e,t){return(0,l.uX)(),(0,l.CE)("header",K,[(0,l.RG)(e.$slots,"default",{},void 0,!0)])}const X={},P=(0,f.A)(X,[["render",D],["__scopeId","data-v-bea2ffe6"]]);var W=P;const U=["disabled"];function V(e,t,a,o,n,s){const i=(0,l.g2)("app-input"),r=(0,l.g2)("app-overlay-panel");return(0,l.uX)(),(0,l.CE)("section",null,[(0,l.Lk)("div",{ref:"targetRef",class:"dropdown-container",onClick:t[2]||(t[2]=(...t)=>e.toggle&&e.toggle(...t))},[(0,l.bF)(i,{modelValue:e.valueRef,"onUpdate:modelValue":t[0]||(t[0]=t=>e.valueRef=t),height:"32px","is-label":!1,readonly:!0,disabled:e.disabled},null,8,["modelValue","disabled"]),(0,l.Lk)("button",{disabled:e.disabled,type:"button",class:"toggle-btn"},"▼",8,U),e.targetRef?((0,l.uX)(),(0,l.Wv)(r,{key:0,visible:e.visible,"onUpdate:visible":t[1]||(t[1]=t=>e.visible=t),target:e.targetRef},{default:(0,l.k6)(()=>[(0,l.RG)(e.$slots,"default",{},void 0,!0)]),_:3},8,["visible","target"])):(0,l.Q3)("",!0)],512)])}const O=["for"],G={ref:"wrapperRef",class:"wrap-input validate-input"},z=["id","value","type","placeholder","disabled","readonly"],N={key:0,class:"symbol-input100"};function j(e,t,a,o,n,s){const i=(0,l.g2)("font-awesome-icon"),r=(0,l.g2)("app-input-error-overlay");return(0,l.uX)(),(0,l.CE)("section",null,[e.isLabel?((0,l.uX)(),(0,l.CE)("label",{key:0,class:"label",for:e.type},(0,c.v_)(e.t(e.label)),9,O)):(0,l.Q3)("",!0),(0,l.Lk)("div",G,[(0,l.Lk)("input",{id:e.type,ref:"inputRef",value:e.modelValue,class:(0,c.C4)(["input100",{pr:e.icon}]),type:e.type,placeholder:e.t(e.placeholder),disabled:e.disabled,readonly:e.readonly,style:(0,c.Tr)({height:e.height}),onInput:t[0]||(t[0]=(...t)=>e.handleInput&&e.handleInput(...t)),onBlur:t[1]||(t[1]=(...t)=>e.handleBlur&&e.handleBlur(...t)),onFocus:t[2]||(t[2]=(...t)=>e.showErrorToggle&&e.showErrorToggle(...t))},null,46,z),t[3]||(t[3]=(0,l.Lk)("span",{class:"focus-input100"},null,-1)),e.icon?((0,l.uX)(),(0,l.CE)("span",N,[(0,l.bF)(i,{icon:e.icon},null,8,["icon"])])):(0,l.Q3)("",!0)],512),e.wrapperRef?((0,l.uX)(),(0,l.Wv)(r,{key:1,target:e.wrapperRef,message:e.error,visible:e.showError,"z-index":e.zIndexTooltip,onClick:e.showErrorToggle},null,8,["target","message","visible","z-index","onClick"])):(0,l.Q3)("",!0)])}const $={class:"error-message"};function Q(e,t,a,o,n,s){return(0,l.uX)(),(0,l.Wv)(l.Im,{to:"body"},[e.visible?((0,l.uX)(),(0,l.CE)("div",{key:0,ref:"overlayRef",class:"error-overlay",style:(0,c.Tr)(e.overlayStyle),onClick:t[0]||(t[0]=(...t)=>e.onClick&&e.onClick(...t))},[(0,l.Lk)("section",null,[(0,l.Lk)("div",$,(0,c.v_)("string"===typeof e.message?e.t(e.message):e.t(e.message.key,e.message.values)),1),t[1]||(t[1]=(0,l.Lk)("div",{class:"exclamation-mark"},"!",-1))])],4)):(0,l.Q3)("",!0)])}const q=7.5,Y=1.5;var H=(0,l.pM)({props:{target:{type:Object,required:!0},message:{type:[String,Object],default:""},visible:{type:Boolean,default:!1},zIndex:{type:Number,default:1010}},emits:["click"],setup(e,{emit:t}){const{t:a}=(0,r.s9)(),o=(0,s.KR)(null),n=(0,s.KR)(0),i=(0,l.EW)(()=>{if(n.value,!e.target)return{};const t=e.target.getBoundingClientRect();return{position:"absolute",top:`${t.top+window.scrollY+q}px`,left:`${t.left+window.scrollX+Math.round(t.width/3.5)}px`,width:t.width/Y+"px",zIndex:e.zIndex}}),c=()=>{n.value=Date.now()},u=()=>{t("click")};return(0,l.sV)(()=>{window.addEventListener("resize",c),window.addEventListener("scroll",c,!0)}),(0,l.xo)(()=>{window.removeEventListener("resize",c),window.removeEventListener("scroll",c,!0)}),{overlayRef:o,overlayStyle:i,onClick:u,t:a}}});const J=(0,f.A)(H,[["render",Q],["__scopeId","data-v-456e7f20"]]);var Z=J,ee=(0,l.pM)({components:{AppInputErrorOverlay:Z},props:{modelValue:{type:String,default:""},error:{type:[String,Boolean],default:""},isLabel:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},placeholder:{type:String,default:""},type:{type:String,default:"text"},label:{type:String,default:"text"},icon:{type:[Array,String],default:""},zIndexTooltip:{type:Number,default:1010},height:{type:String,default:"50px"}},emits:["update:modelValue","blur","change","focus"],setup(e,{emit:t}){const a=(0,s.KR)(""),{t:o}=(0,r.s9)(),n=(0,s.KR)(!1),i=(0,s.KR)(!1),c=(0,s.KR)(null),u=(0,s.KR)(null),d=()=>{t("focus"),i.value=!0,c.value?.focus(),v()},p=()=>{t("blur"),i.value=!1,v()},g=e=>{t("update:modelValue",e.target.value),i.value=!0,v()},v=()=>{n.value=!i.value&&Boolean(e.error)};return(0,l.wB)(()=>e.error,()=>{v()},{immediate:!0}),{value:a,showError:n,showErrorToggle:d,inputRef:c,wrapperRef:u,handleInput:g,handleBlur:p,t:o}}});const te=(0,f.A)(ee,[["render",j],["__scopeId","data-v-ed958f1e"]]);var ae=te;function oe(e,t,a,o,n,s){return(0,l.uX)(),(0,l.Wv)(l.Im,{to:"body"},[e.visible?((0,l.uX)(),(0,l.CE)("div",{key:0,ref:"overlayRef",class:"overlay",style:(0,c.Tr)(e.overlayStyle)},[(0,l.RG)(e.$slots,"default",{},void 0,!0)],4)):(0,l.Q3)("",!0)])}a(4114);const le=3;function ne(e,t){switch(t){case"left":return e.left;case"right":return e.right;case"center":return e.left+e.width/2}}function se(e,t){switch(t){case"top":return e.top;case"bottom":return e.bottom;case"center":return e.top+e.height/2}}function ie(e,t,a,o){const l=ne(t,e),n=l-a>=0,s=l+a<=o,i=l-a/2>=0&&l+a/2<=o;return"left"===e?n?"left":i?"center":"right":"right"===e?s?"right":i?"center":"left":"center"}function re(e,t,a,o){const l=se(t,e),n=l-a>=0,s=l+a<=o,i=l-a/2>=0&&l+a/2<=o;return"top"===e?n?"top":i?"center":"bottom":"bottom"===e?s?"bottom":i?"center":"top":i?"center":n?"top":"bottom"}function ce(e,t){let a;return a=null!==t?"number"===typeof t?`${t}px`:String(t):`${Math.round(e.width)}px`,a}function ue(e,t,a,o,l){const n=document.documentElement.clientWidth,s=document.documentElement.clientHeight;return{x:ie(o,e,t,n),y:re(l,e,a,s)}}var de=(0,l.pM)({props:{target:{type:Object,required:!0},visible:{type:Boolean,default:!0},zIndex:{type:Number,default:1010},position:{type:Object,default:()=>({x:"center",y:"bottom"})},width:{type:[Number,String],default:null}},emits:["update:visible"],setup(e,{emit:t}){const a=(0,s.KR)(null),o=(0,s.KR)(0),n=(0,l.EW)(()=>{if(o.value,!e.target)return{};const t=e.target.getBoundingClientRect(),l=a.value,n=window.scrollX,s=window.scrollY,i=l?.offsetWidth??0,r=l?.offsetHeight??0,{x:c,y:u}=ue(t,i,r,e.position.x,e.position.y),d=u,p=c;let g=t.top+s,v=t.left+n,m=0,f=0;switch(d){case"top":g=t.top+s-r;break;case"bottom":g=t.top+s+t.height+le;break;case"center":g=t.top+s+t.height/2,f=-50;break}switch(p){case"left":v=t.left+n-i;break;case"right":v=t.left+n+t.width;break;case"center":v=t.left+t.width/2,m=-50;break}const b=[];return m&&b.push(`translateX(${m}%)`),f&&b.push(`translateY(${f}%)`),{position:"absolute",top:`${Math.round(g)}px`,left:`${Math.round(v)}px`,transform:b.length?b.join(" "):void 0,zIndex:e.zIndex,width:ce(t,e.width)}}),i=()=>{o.value=Date.now()},r=o=>{const l=a.value,n=e.target,s=o.target;l&&!l.contains(s)&&n&&!n.contains(s)&&t("update:visible",!1)};return(0,l.sV)(()=>{window.addEventListener("resize",i),window.addEventListener("scroll",i,!0),document.addEventListener("click",r),(0,l.dY)(i)}),(0,l.xo)(()=>{window.removeEventListener("resize",i),window.removeEventListener("scroll",i,!0),document.removeEventListener("click",r)}),{overlayStyle:n,overlayRef:a}}});const pe=(0,f.A)(de,[["render",oe],["__scopeId","data-v-15d627cc"]]);var ge=pe,ve=(0,l.pM)({components:{AppOverlayPanel:ge,AppInput:ae},props:{modelValue:{type:[String,Number,Object],default:null},label:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const a=(0,l.EW)(()=>e.modelValue),o=(0,s.KR)(null),n=(0,s.KR)(null),i=(0,s.KR)(!1),r=()=>{i.value=!i.value},c=a=>{if("string"===typeof a&&(o.value=a),"object"===typeof a&&null!==a){const t=a;o.value=t[e.label]}t("update:modelValue",a),i.value=!1};return(0,l.sV)(()=>{if("string"===typeof e.modelValue&&(o.value=e.modelValue),"object"===typeof e.modelValue&&null!==e.modelValue){const t=e.modelValue;o.value=t[e.label]}}),(0,l.Gt)("select",c),(0,l.Gt)("selected",a),{targetRef:n,visible:i,toggle:r,valueRef:o}}});const me=(0,f.A)(ve,[["render",V],["__scopeId","data-v-e58e891a"]]);var fe=me;function be(e,t,a,o,n,s){return(0,l.uX)(),(0,l.CE)("div",{class:(0,c.C4)(["dropdown-option",{"is-selected":e.isSelected}]),onClick:t[0]||(t[0]=(...t)=>e.onClick&&e.onClick(...t))},[(0,l.RG)(e.$slots,"default",{},void 0,!0)],2)}var he=(0,l.pM)({props:{value:{type:[String,Number,Object],default:null}},setup(e){const t=(0,l.WQ)("select",()=>{}),a=(0,l.WQ)("selected"),o=()=>{t&&t(e.value)},n=(0,l.EW)(()=>{if(!a)return;const t=a.value;if(t&&"object"===typeof t&&e.value&&"object"===typeof e.value){const a=t,o=e.value;return a.id===o.id}return t===e.value});return{onClick:o,isSelected:n}}});const ke=(0,f.A)(he,[["render",be],["__scopeId","data-v-32a64d45"]]);var ye=ke,Ee=(0,l.pM)({components:{AppOption:ye,AppDropdown:fe,AppHeader:W,AppToggle:x},setup(){const e=(0,i.Pj)(),t=(0,s.KR)(null),a=(0,s.KR)(!0),o=(0,s.KR)(["en","ru"]),n=(0,s.KR)(e.getters["language/language"]),r=(0,s.KR)(e.getters["theme/isDark"]),c=t=>{e.dispatch("theme/setTheme",t)};return(0,l.wB)(n,t=>{e.dispatch("language/setLanguage",{language:t})}),{toggled:c,isDark:r,containerRef:t,isVisible:a,language:n,languages:o}}});const Ce=(0,f.A)(Ee,[["render",F]]);var we=Ce,Le=a.p+"img/img-01.65cd3f0f.png";const _e={class:"container"},Ae={class:"wrap-login"},Fe={ref:"imageRef",src:Le,alt:""},Ie={class:"login-form"},Re={class:"title"},Se={class:"login-inputs"},Te={class:"text-center"},Me={class:"txt1"};function Be(e,t,a,o,n,s){const i=(0,l.g2)("app-input"),r=(0,l.g2)("Field"),u=(0,l.g2)("app-button"),d=(0,l.g2)("VForm"),p=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("section",_e,[(0,l.Lk)("div",Ae,[(0,l.Lk)("div",{class:"login-pic",onMousemove:t[0]||(t[0]=(...t)=>e.handleMouseMove&&e.handleMouseMove(...t)),onMouseleave:t[1]||(t[1]=(...t)=>e.resetTransform&&e.resetTransform(...t))},[(0,l.Lk)("img",Fe,null,512)],32),(0,l.Lk)("div",Ie,[(0,l.Lk)("h1",Re,(0,c.v_)(e.t("login")),1),(0,l.bF)(d,{"validation-schema":e.formGroup,onSubmit:e.onSubmit},{default:(0,l.k6)(()=>[(0,l.Lk)("section",Se,[(0,l.bF)(r,{name:"email"},{default:(0,l.k6)(({field:a,meta:o,errorMessage:n})=>[(0,l.bF)(i,(0,l.v6)(a,{modelValue:e.email,"onUpdate:modelValue":t[2]||(t[2]=t=>e.email=t),placeholder:"example@gmail.com",label:"email",icon:["fas","envelope"],"z-index-tooltip":1020,error:o.touched?n:"",type:"email"}),null,16,["modelValue","error"])]),_:1}),(0,l.bF)(r,{name:"password"},{default:(0,l.k6)(({field:a,meta:o,errorMessage:n})=>[(0,l.bF)(i,(0,l.v6)(a,{modelValue:e.password,"onUpdate:modelValue":t[3]||(t[3]=t=>e.password=t),placeholder:"password",label:"password",type:"password",icon:["fas","lock"],error:o.touched?n:""}),null,16,["modelValue","error"])]),_:1})]),(0,l.bF)(u,{loading:e.loading,type:"submit",title:"login"},null,8,["loading"])]),_:1},8,["validation-schema","onSubmit"]),(0,l.Lk)("section",null,[(0,l.Lk)("div",Te,[(0,l.Lk)("span",Me,(0,c.v_)(e.t("forgot")),1),(0,l.bF)(p,{class:"txt2",to:{name:"forgot"}},{default:(0,l.k6)(()=>[(0,l.eW)((0,c.v_)(e.t("userName"))+" / "+(0,c.v_)(e.t("password"))+"? ",1)]),_:1})])])])])])}const xe={class:"container-btn"},Ke=["disabled"],De={key:0,class:"btn-icon"},Xe={key:1,class:"btn-title"},Pe={key:2,class:"loader"};function We(e,t,a,o,n,s){const i=(0,l.g2)("font-awesome-icon");return(0,l.uX)(),(0,l.CE)("div",xe,[(0,l.Lk)("button",{disabled:e.disabled||e.loading,class:(0,c.C4)(e.classes)},[e.icon?((0,l.uX)(),(0,l.CE)("span",De,[(0,l.bF)(i,{size:"lg",icon:e.icon},null,8,["icon"])])):(0,l.Q3)("",!0),e.title&&!e.loading?((0,l.uX)(),(0,l.CE)("span",Xe,(0,c.v_)(e.t(e.title)),1)):e.loading?((0,l.uX)(),(0,l.CE)("span",Pe)):(0,l.Q3)("",!0)],10,Ke)])}var Ue=(0,l.pM)({props:{disabled:{type:Boolean,default:!1},title:{type:String,default:""},loading:{type:Boolean,default:!1},severity:{type:String,default:"success"},raised:{type:Boolean,default:!1},icon:{type:[Array,String],default:""}},setup(e){const{t:t}=(0,r.s9)(),a=(0,l.EW)(()=>["btn",`${e.severity}`,{raised:e.raised}]);return{t:t,classes:a}}});const Ve=(0,f.A)(Ue,[["render",We],["__scopeId","data-v-2730a159"]]);var Oe=Ve,Ge=a(9041),ze=a(482),Ne=(0,l.pM)({components:{Field:ze.D0,VForm:ze.lV,AppInput:ae,AppButton:Oe},setup(){const e=(0,C.rd)(),t=(0,i.Pj)(),{t:a}=(0,r.s9)(),o=(0,s.KR)(null),n=(0,s.KR)(""),c=(0,s.KR)(""),u=(0,l.EW)(()=>t.getters["authFirebase/isLoading"]),d=Ge.Ik({email:Ge.Yj().required("validation.required").email("validation.required"),password:Ge.Yj().required("validation.required").min(6,{key:"validation.min",values:{count:6}})}),p=async a=>{try{await t.dispatch("authFirebase/login",a),await e.push("/main")}catch(o){console.error(o)}},g=e=>{const t=o.value;if(!t)return;const a=t.getBoundingClientRect(),l=e.clientX-a.left,n=e.clientY-a.top,s=a.width/2,i=a.height/2,r=(l-s)/s*10,c=-(n-i)/i*10;t.style.transform=`perspective(300px) rotateX(${c}deg) rotateY(${r}deg)`},v=()=>{o.value&&(o.value.style.transform="perspective(300px) rotateX(0deg) rotateY(0deg)")};return{formGroup:d,onSubmit:p,email:n,password:c,loading:u,imageRef:o,handleMouseMove:g,resetTransform:v,t:a}}});const je=(0,f.A)(Ne,[["render",Be],["__scopeId","data-v-1446709b"]]);var $e=je;function Qe(e,t){return(0,l.uX)(),(0,l.CE)("div",null,"Forgot")}const qe={},Ye=(0,f.A)(qe,[["render",Qe]]);var He=Ye;const Je={class:"container"},Ze={class:"header-section"},et={class:"app-dropdown"},tt={class:"sidebar-item"},at={class:"icon"},ot={key:0,class:"title"},lt={class:"sidebar-item"},nt={class:"icon"},st={key:0,class:"title"},it={class:"icon"},rt={key:0,class:"title"},ct=["onClick"],ut={class:"main"};function dt(e,t,a,o,n,s){const i=(0,l.g2)("app-toggle"),r=(0,l.g2)("app-option"),u=(0,l.g2)("app-dropdown"),d=(0,l.g2)("app-burger-menu"),p=(0,l.g2)("app-header"),g=(0,l.g2)("font-awesome-icon"),v=(0,l.g2)("router-link"),m=(0,l.g2)("app-sidebar"),f=(0,l.g2)("router-view");return(0,l.uX)(),(0,l.CE)("div",Je,[(0,l.bF)(p,null,{default:(0,l.k6)(()=>[(0,l.Lk)("section",Ze,[t[3]||(t[3]=(0,l.Lk)("img",{src:w,alt:"App Logo",width:"32",height:"32"},null,-1)),(0,l.Lk)("section",null,[(0,l.bF)(i,{modelValue:e.isDark,"onUpdate:modelValue":t[0]||(t[0]=t=>e.isDark=t),variant:"theme",onToggled:e.toggled},null,8,["modelValue","onToggled"]),(0,l.Lk)("div",et,[(0,l.bF)(u,{modelValue:e.language,"onUpdate:modelValue":t[1]||(t[1]=t=>e.language=t),label:"name"},{default:(0,l.k6)(()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.languages,e=>((0,l.uX)(),(0,l.Wv)(r,{key:e,value:e},{default:(0,l.k6)(()=>[(0,l.eW)((0,c.v_)(e),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),e.isMobile?((0,l.uX)(),(0,l.Wv)(d,{key:0})):(0,l.Q3)("",!0)])])]),_:1}),(0,l.Lk)("section",null,[(0,l.bF)(m,null,{main:(0,l.k6)(({isShort:t})=>[(0,l.bF)(v,{to:"/main/color","active-class":"active-link"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",tt,[(0,l.Lk)("div",at,[(0,l.bF)(g,{size:"xl",icon:["fas","rainbow"]})]),t?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("div",ot,(0,c.v_)(e.t("colorType")),1))])]),_:2},1024),(0,l.bF)(v,{to:"/main/gallery","active-class":"active-link"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",lt,[(0,l.Lk)("div",nt,[(0,l.bF)(g,{size:"xl",icon:["fas","images"]})]),t?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("div",st,(0,c.v_)(e.t("gallery")),1))])]),_:2},1024)]),additional:(0,l.k6)(({isShort:a,toggle:o})=>[(0,l.Lk)("div",{class:"sidebar-item logout",onClick:t[2]||(t[2]=(...t)=>e.logout&&e.logout(...t))},[(0,l.Lk)("div",it,[(0,l.bF)(g,{size:"xl",icon:["fas","right-from-bracket"]})]),a?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("div",rt,(0,c.v_)(e.t("logout")),1))]),e.isMobile?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("div",{key:0,class:"sidebar-item",onClick:o},[(0,l.bF)(g,{size:"xl",icon:a?["fas","arrow-left"]:["fas","arrow-right"]},null,8,["icon"])],8,ct))]),_:1}),(0,l.Lk)("main",ut,[(0,l.bF)(f)])])])}const pt={class:"additional-section"};function gt(e,t,a,o,n,s){return!e.isMobile||e.isMobile&&e.isBurgerMenuOpen?((0,l.uX)(),(0,l.CE)("aside",{key:0,class:(0,c.C4)(["sidebar-container",{"mobile-view":e.isMobile}]),style:(0,c.Tr)({width:e.isShort?"60px":"220px"})},[(0,l.Lk)("section",{class:"main-section",onClick:t[0]||(t[0]=(...t)=>e.setBurgerMenu&&e.setBurgerMenu(...t))},[(0,l.RG)(e.$slots,"main",{isShort:e.isShort},void 0,!0)]),(0,l.Lk)("section",pt,[(0,l.RG)(e.$slots,"additional",{isShort:e.isShort,toggle:e.toggle},void 0,!0)])],6)):(0,l.Q3)("",!0)}var vt=(0,l.pM)({setup(){const e=(0,i.Pj)(),t=(0,s.KR)(!0),a=(0,l.EW)(()=>"mobile"===e.getters["mobile/breakPoint"]),o=(0,l.EW)(()=>e.getters["burgerMenu/isOpen"]),n=()=>{t.value=!t.value},r=()=>{a.value&&e.dispatch("burgerMenu/setBurger",{isOpen:!1})};return(0,l.wB)(()=>e.getters["mobile/breakPoint"],e=>{t.value="mobile"!==e},{immediate:!0}),{isMobile:a,isShort:t,toggle:n,isBurgerMenuOpen:o,setBurgerMenu:r}}});const mt=(0,f.A)(vt,[["render",gt],["__scopeId","data-v-87931dba"]]);var ft=mt;function bt(e,t,a,o,n,s){return(0,l.uX)(),(0,l.CE)("div",{"data-burger-test-id":"",class:(0,c.C4)(["burger",{open:e.isOpen}]),onClick:t[0]||(t[0]=(...t)=>e.toggle&&e.toggle(...t))},[...t[1]||(t[1]=[(0,l.Lk)("span",null,null,-1),(0,l.Lk)("span",null,null,-1),(0,l.Lk)("span",null,null,-1)])],2)}var ht=(0,l.pM)({setup(){const e=(0,i.Pj)(),t=(0,l.EW)(()=>e.getters["burgerMenu/isOpen"]),a=()=>{e.dispatch("burgerMenu/setBurger",{isOpen:!t.value})};return{isOpen:t,toggle:a}}});const kt=(0,f.A)(ht,[["render",bt],["__scopeId","data-v-13390ba1"]]);var yt=kt,Et=(0,l.pM)({components:{AppBurgerMenu:yt,AppSidebar:ft,AppOption:ye,AppDropdown:fe,AppHeader:W,AppToggle:x},setup(){const{t:e}=(0,r.s9)(),t=(0,i.Pj)(),a=(0,C.rd)(),o=(0,s.KR)(null),n=(0,s.KR)(!0),c=(0,s.KR)(["en","ru"]),u=(0,s.KR)(t.getters["language/language"]),d=(0,s.KR)(t.getters["theme/isDark"]),p=(0,l.EW)(()=>"mobile"===t.getters["mobile/breakPoint"]),g=e=>{t.dispatch("theme/setTheme",e)};(0,l.wB)(u,e=>{t.dispatch("language/setLanguage",{language:e})});const v=async()=>{await t.dispatch("authFirebase/logout"),await t.dispatch("burgerMenu/setBurger",{isOpen:!1}),await a.push("/login")};return{toggled:g,logout:v,t:e,isDark:d,containerRef:o,isVisible:n,language:u,languages:c,isMobile:p}}});const Ct=(0,f.A)(Et,[["render",dt],["__scopeId","data-v-efff13a0"]]);var wt=Ct;const Lt={class:"color-container"};function _t(e,t,a,o,n,s){const i=(0,l.g2)("AppLoader"),r=(0,l.g2)("app-color-mask"),c=(0,l.g2)("app-tab"),u=(0,l.g2)("app-collage"),d=(0,l.g2)("app-tabs");return(0,l.uX)(),(0,l.CE)("div",Lt,[e.isLoading?((0,l.uX)(),(0,l.Wv)(i,{key:0})):(0,l.Q3)("",!0),(0,l.bF)(d,null,{default:(0,l.k6)(()=>[(0,l.bF)(c,{title:"mask"},{default:(0,l.k6)(()=>[(0,l.bF)(r,{onIsLoading:t[0]||(t[0]=t=>e.isLoading=t),onFileOnLoad:e.fileOnLoad},null,8,["onFileOnLoad"])]),_:1}),(0,l.bF)(c,{title:"collage"},{default:(0,l.k6)(()=>[(0,l.bF)(u,{"image-url":e.imageUrl,"onUpdate:imageUrl":t[1]||(t[1]=t=>e.imageUrl=t),onIsLoading:t[2]||(t[2]=t=>e.isLoading=t)},null,8,["image-url"])]),_:1})]),_:1})])}const At={class:"tabs"},Ft={class:"tab-headers"},It=["onClick"],Rt={class:"tab-content"};function St(e,t,a,o,n,s){return(0,l.uX)(),(0,l.CE)("div",At,[(0,l.Lk)("nav",Ft,[(0,l.Lk)("ul",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.tabs,t=>((0,l.uX)(),(0,l.CE)("li",{key:t.index,class:(0,c.C4)({active:e.activeIndex===t.index,disabled:t.disabled}),onClick:a=>e.setActive(t.index)},[(0,l.Lk)("a",null,(0,c.v_)(e.t(t.title)),1)],10,It))),128))])]),(0,l.Lk)("div",Rt,[(0,l.RG)(e.$slots,"default",{},void 0,!0)])])}a(116);var Tt=(0,l.pM)({props:{modelValue:{type:Number,default:2}},emits:["update:modelValue","change"],setup(e,{emit:t}){const a=(0,s.KR)(e.modelValue),{t:o}=(0,r.s9)(),n=(0,s.Kh)([]),i=(e,t)=>{const a=n.length;return n.push({title:e,index:a,disabled:t}),a},c=e=>{const o=n[e];o&&!o.disabled&&(a.value=e,t("update:modelValue",e),t("change",e))};return(0,l.Gt)("registerTab",i),(0,l.Gt)("activeIndex",a),(0,l.wB)(()=>e.modelValue,e=>{const o=n[e];if(o&&!o.disabled)a.value=e;else{const e=n.find(e=>!e.disabled);e&&(a.value=e.index,t("update:modelValue",e.index))}}),(0,l.wB)(n,()=>{const e=n[a.value];if(!e||e.disabled){const e=n.find(e=>!e.disabled);e&&(a.value=e.index,t("update:modelValue",e.index))}},{immediate:!0}),{tabs:n,activeIndex:a,setActive:c,t:o}}});const Mt=(0,f.A)(Tt,[["render",St],["__scopeId","data-v-31b0f54d"]]);var Bt=Mt;function xt(e,t,a,n,s,i){return(0,l.bo)(((0,l.uX)(),(0,l.CE)("div",null,[(0,l.RG)(e.$slots,"default",{},void 0,!0)],512)),[[o.aG,e.isActive]])}var Kt=(0,l.pM)({props:{title:{type:String,required:!0},disabled:{type:Boolean,default:!1}},setup:function(e,{slots:t}){const a=(0,l.WQ)("registerTab"),o=(0,l.WQ)("activeIndex"),n=(0,s.KR)(-1);(0,l.sV)(()=>{a&&(n.value=a(e.title,e.disabled))});const i=(0,l.EW)(()=>o?.value===n.value);return{isActive:i,slots:t}}});const Dt=(0,f.A)(Kt,[["render",xt],["__scopeId","data-v-7d72f4d0"]]);var Xt=Dt;const Pt={class:"collage-wrapper"},Wt={class:"collage-container"},Ut={ref:"canvas"},Vt={class:"actions"},Ot={class:"buttons"};function Gt(e,t,a,n,s,i){const r=(0,l.g2)("app-button"),u=(0,l.g2)("font-awesome-icon"),d=(0,l.g2)("app-popover-item"),p=(0,l.g2)("app-popover-wrapper"),g=(0,l.g2)("app-popover");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.Lk)("div",Pt,[(0,l.Lk)("div",Wt,[(0,l.Lk)("canvas",Ut,null,512),(0,l.Lk)("div",Vt,[(0,l.bF)(r,{severity:"secondary",raised:"",icon:["fas","undo"],onClick:e.resetImage},null,8,["onClick"]),(0,l.bF)(r,{severity:"secondary",raised:"",icon:["fas","plus"],onClick:e.zoomPlus},null,8,["onClick"]),(0,l.bF)(r,{severity:"secondary",raised:"",icon:["fas","minus"],onClick:e.zoomMinus},null,8,["onClick"]),(0,l.bF)(r,{severity:"secondary",raised:"",icon:["fas","save"],onClick:t[0]||(t[0]=t=>e.saveImage("collage"))})])]),(0,l.Lk)("section",Ot,[e.isMobile?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(r,{key:0,severity:"warning",title:"saveToGallery",loading:e.isSaveToGallery,onClick:e.saveToGallery},null,8,["loading","onClick"])),e.isMobile?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(r,{key:1,severity:"info",title:"addSign"})),e.isMobile?((0,l.uX)(),(0,l.Wv)(u,{key:2,icon:["fas","ellipsis-h"],size:"lg",onClick:(0,o.D$)(e.openPopover,["stop"])},null,8,["onClick"])):(0,l.Q3)("",!0)])]),(0,l.bF)(g,{visible:e.visiblePopover,"onUpdate:visible":t[1]||(t[1]=t=>e.visiblePopover=t)},{default:(0,l.k6)(()=>[(0,l.bF)(p,null,{default:(0,l.k6)(()=>[(0,l.bF)(d,{onClick:e.saveToGallery},{default:(0,l.k6)(()=>[(0,l.bF)(u,{size:"xl",icon:["fas","images"]}),(0,l.Lk)("span",null,(0,c.v_)(e.t("saveToGallery")),1)]),_:1},8,["onClick"]),(0,l.bF)(d,null,{default:(0,l.k6)(()=>[(0,l.bF)(u,{size:"xl",icon:["fas","fa-pencil-square"]}),(0,l.Lk)("span",null,(0,c.v_)(e.t("addSign")),1)]),_:1})]),_:1})]),_:1},8,["visible"])],64)}const zt=[{id:1,segments:[{color:"#979DAF"},{color:"#C21E56"},{color:"#F3ED7C"},{color:"#155DA4"},{color:"#008684"},{color:"#E5ADD5"},{color:"#D0417E"},{color:"#E7B8D3"},{color:"#FFFFFF"},{color:"#34373B"},{color:"#BA397B"}]},{id:2,segments:[{color:"#E1BD88"},{color:"#DB3844"},{color:"#BC2A3A"},{color:"#E09D66"},{color:"#FAC668"},{color:"#CCD97A"},{color:"#91B54D"},{color:"#D66467"},{color:"#FEA188"},{color:"#CC9C7D"},{color:"#F2EDD8"}]},{id:3,segments:[{color:"#413433"},{color:"#BC243C"},{color:"#373E4B"},{color:"#79857A"},{color:"#987576"},{color:"#483A49"},{color:"#FFFFFF"},{color:"#594440"},{color:"#DEC6AC"},{color:"#707375"},{color:"#777791"}]},{id:4,segments:[{color:"#CBB7A2"},{color:"#E63E62"},{color:"#FDE182"},{color:"#657BB8"},{color:"#42BDCB"},{color:"#7DCFB6"},{color:"#E87191"},{color:"#F8CBC7"},{color:"#FABCB1"},{color:"#F4EAE0"},{color:"#F9F9F9"}]},{id:5,segments:[{color:"#53677A"},{color:"#856088"},{color:"#4E9093"},{color:"#814A47"},{color:"#A55972"},{color:"#6B5D74"},{color:"#DCA59E"},{color:"#F4EAE0"},{color:"#F0D3C9"},{color:"#6C5740"},{color:"#6A6855"}]},{id:6,segments:[{color:"#433D42"},{color:"#E5003C"},{color:"#FBE337"},{color:"#4E468B"},{color:"#199D5C"},{color:"#008AC2"},{color:"#43BCD8"},{color:"#DE7AA4"},{color:"#F87B90"},{color:"#F9F9F9"},{color:"#D5DDD5"}]}];var Nt=a(1924),jt=a(6400),$t=a(4388),Qt=a(2832),qt=a(1933);const Yt={apiKey:{NODE_ENV:"production",BASE_URL:"/vue3/"}.VUE_APP_FIREBASE_API_KEY,authDomain:{NODE_ENV:"production",BASE_URL:"/vue3/"}.VUE_APP_FIREBASE_AUTH_DOMAIN,projectId:{NODE_ENV:"production",BASE_URL:"/vue3/"}.VUE_APP_FIREBASE_PROJECT_ID,storageBucket:{NODE_ENV:"production",BASE_URL:"/vue3/"}.VUE_APP_FIREBASE_STORAGE_BUCKET,messagingSenderId:{NODE_ENV:"production",BASE_URL:"/vue3/"}.VUE_APP_FIREBASE_MESSAGING_SENDER_ID,appId:{NODE_ENV:"production",BASE_URL:"/vue3/"}.VUE_APP_FIREBASE_APP_ID},Ht=(0,jt.Wp)(Yt),Jt=(0,$t.xI)(Ht),Zt=(0,Qt.aU)(Ht),ea=(0,Nt.c7)(Ht);(0,qt.lS)(Ht);function ta(e,t,a,o){const l=(0,s.KR)(1),n=(t="avatar.png")=>{if(!e.value)return;const a=e.value.toDataURL("image/png"),o=document.createElement("a");o.href=a,o.download=t,o.click()},i=async(t="mask.png")=>{if(e.value)return new Promise((a,o)=>{e.value.toBlob(async e=>{if(!e)return o(new Error("Не удалось получить Blob из canvas"));try{const o=(0,Nt.KR)(ea,t);await(0,Nt.D)(o,e);const l=await(0,Nt.qk)(o);a(l)}catch(l){o(l)}},"image/png")})},r=e=>new Promise((t,a)=>{const o=new Image;o.crossOrigin="anonymous",o.onload=()=>t(o),o.onerror=()=>a(new Error(`Ошибка загрузки: ${e}`)),o.src=e}),c=()=>{o?.value&&a&&a("update:imageUrl",o.value),l.value=1,t()},u=()=>{l.value++,t()},d=()=>{1!==l.value&&(l.value--,t())};return{saveImage:n,loadImage:r,resetImage:c,zoomPlus:u,zoomMinus:d,zoom:l,saveToStorage:i}}const aa={class:"popover-item"};function oa(e,t){return(0,l.uX)(),(0,l.CE)("div",aa,[(0,l.RG)(e.$slots,"default",{},void 0,!0)])}const la={},na=(0,f.A)(la,[["render",oa],["__scopeId","data-v-903d1a32"]]);var sa=na;const ia={class:"popover-wrapper"};function ra(e,t){return(0,l.uX)(),(0,l.CE)("section",ia,[(0,l.RG)(e.$slots,"default",{},void 0,!0)])}const ca={},ua=(0,f.A)(ca,[["render",ra],["__scopeId","data-v-afb3411a"]]);var da=ua;const pa={key:0,class:"popover-container"},ga={ref:"popoverContentRef",class:"popover-content"};function va(e,t,a,o,n,s){return(0,l.uX)(),(0,l.Wv)(l.Im,{to:"body"},[e.visible?((0,l.uX)(),(0,l.CE)("div",pa,[(0,l.Lk)("div",ga,[(0,l.Lk)("section",{class:"popover-toggle-container",onClick:t[0]||(t[0]=(...t)=>e.toggle&&e.toggle(...t))},[...t[1]||(t[1]=[(0,l.Lk)("div",{class:"popover-toggle"},null,-1)])]),(0,l.RG)(e.$slots,"default",{},void 0,!0)],512)])):(0,l.Q3)("",!0)])}var ma=(0,l.pM)({props:{visible:{type:Boolean,default:!1}},emits:["update:visible"],setup(e,{emit:t}){const a=(0,s.KR)(null),o=e=>{const o=a.value,l=e.target;o&&!o.contains(l)&&t("update:visible",!1)},n=()=>{t("update:visible",!1)};return(0,l.sV)(()=>{document.addEventListener("click",o)}),(0,l.xo)(()=>{document.removeEventListener("click",o)}),{popoverContentRef:a,toggle:n}}});const fa=(0,f.A)(ma,[["render",va],["__scopeId","data-v-0258f386"]]);var ba=fa;const ha=410,ka=330,ya=489,Ea=860,Ca=30,wa=20;var La=(0,l.pM)({components:{AppPopover:ba,AppPopoverWrapper:da,AppPopoverItem:sa,AppButton:Oe},props:{imageUrl:{type:String,required:!0}},emits:["update:imageUrl","isLoading"],setup(e,{emit:t}){const{t:a}=(0,r.s9)(),o=(0,s.KR)(!1),n=(0,i.Pj)(),c=(0,s.KR)(null),u=(0,s.KR)(null),d=(0,s.KR)(Ea),p=(0,s.KR)(ya),g=(0,s.KR)(1),v=(0,s.KR)(null),m=(0,l.EW)(()=>n.getters["authFirebase/currentUser"]),f=(0,s.KR)(!1);let b=!1;const h=async()=>{if(!c.value)return;const t=c.value.getContext("2d"),a=window.devicePixelRatio||1;c.value.width=d.value*a,c.value.height=p.value*a,c.value.style.width=d.value+"px",c.value.style.height=p.value+"px",t.setTransform(1,0,0,1,0,0),t.scale(a,a),t.clearRect(0,0,d.value,p.value),e.imageUrl&&!b&&(u.value=await E(e.imageUrl),b=!0);const o=d.value===ka,l=o?2:3,n=o?3:2,s=10,i=8,r=o?1.2*g.value:g.value,v=s*(l-1),m=(d.value-v)/l;let f=m/2*r-Ca;f<1&&(f=1);const h=i*(n-1),k=(p.value-h)/n;let y=0;for(let e=0;e<n;e++)for(let a=0;a<l;a++){const o=a*(m+s)+m/2,l=e*(k+i)+k/2,n=zt[y%zt.length];A(t,u.value,o,l,f,n.segments),y++}},{saveToStorage:k,saveImage:y,loadImage:E,resetImage:C,zoomPlus:w,zoomMinus:L,zoom:_}=ta(c,h,t,v),A=(e,t,a,o,l,n)=>{const s=d.value===ka?wa:Ca;if(t){e.save(),e.beginPath(),e.arc(a,o,l,0,2*Math.PI),e.closePath(),e.clip();const n=Math.min(t.width,t.height),i=(t.width-n)/2,r=(t.height-n)/2,c=(2*l-2*s)*_.value;e.drawImage(t,i,r,n,n,a-c/2,o-c/2,c,c),e.restore()}const i=n.length,r=2*Math.PI/i;e.lineWidth=s;for(let c=0;c<i;c++){const t=c*r-Math.PI/2,i=(c+1)*r-Math.PI/2;e.beginPath(),e.strokeStyle=n[c].color,e.arc(a,o,l-s/2,t,i),e.stroke()}};(0,l.sV)(h),(0,l.wB)(()=>e.imageUrl,e=>{e&&!v.value&&(v.value=e),e&&v.value&&(b=!1,_.value=1,v.value=e),h()}),(0,l.wB)(()=>n.getters["mobile/clientWidth"],e=>{e<600&&(d.value=ka,p.value=ha),e>1024&&(d.value=Ea,p.value=ya),h()},{immediate:!0});const F=(0,l.EW)(()=>"mobile"===n.getters["mobile/breakPoint"]),I=()=>{o.value=!0},R=async()=>{if(b){f.value=!0,o.value=!1,F.value&&t("isLoading",!0);try{const e=await k(`collage/${Math.random()}.png`);await(0,Qt.gS)((0,Qt.rJ)(Zt,"gallery","NoUcXcCCYhRoogXFHJfV","items"),{userId:m.value?.uid,url:e,title:"Подпись",type:"collage",createdAt:new Date}),await n.dispatch("toast/addToast",{message:"Success",severity:"success"}),f.value=!1,F.value&&t("isLoading",!1)}catch(e){f.value=!1,await n.dispatch("toast/addToast",{message:"Error",severity:"error"}),F.value&&t("isLoading",!1)}}};return{canvas:c,saveImage:y,resetImage:C,zoomPlus:w,zoomMinus:L,isMobile:F,openPopover:I,visiblePopover:o,t:a,isSaveToGallery:f,saveToGallery:R}}});const _a=(0,f.A)(La,[["render",Gt],["__scopeId","data-v-c07dead4"]]);var Aa=_a;const Fa={class:"color-wrapper"},Ia={class:"selected"},Ra={class:"editor"},Sa={class:"buttons"},Ta={class:"btn"},Ma={class:"btn"},Ba={class:"btn"};function xa(e,t,a,n,s,i){const r=(0,l.g2)("app-color-card"),u=(0,l.g2)("app-editor-canvas"),d=(0,l.g2)("app-file-uploader"),p=(0,l.g2)("app-button"),g=(0,l.g2)("font-awesome-icon"),v=(0,l.g2)("app-popover-item"),m=(0,l.g2)("app-popover-wrapper"),f=(0,l.g2)("app-popover");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.Lk)("div",Fa,[(0,l.Lk)("section",Ia,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.cards,t=>((0,l.uX)(),(0,l.Wv)(r,{key:t.id,card:t,"is-selected":e.selectedCard?.id===t?.id,onSelected:e.selected},null,8,["card","is-selected","onSelected"]))),128))]),(0,l.Lk)("section",Ra,[(0,l.bF)(u,{ref:"editorCanvasRef","image-url":e.imageUrl,"onUpdate:imageUrl":t[0]||(t[0]=t=>e.imageUrl=t),segments:e.frameColors},null,8,["image-url","segments"])]),(0,l.Lk)("section",Sa,[(0,l.Lk)("div",Ta,[e.isMobile?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(d,{key:0,onSelect:e.onFileSelected},null,8,["onSelect"]))]),(0,l.Lk)("div",Ma,[e.isMobile?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(p,{key:0,severity:"warning",title:"saveToGallery",loading:e.isSaveToGallery,onClick:e.saveToGallery},null,8,["loading","onClick"]))]),(0,l.Lk)("div",Ba,[e.isMobile?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(p,{key:0,severity:"info",title:"addSign"}))]),e.isMobile?((0,l.uX)(),(0,l.Wv)(g,{key:0,icon:["fas","ellipsis-h"],size:"lg",onClick:(0,o.D$)(e.openPopover,["stop"])},null,8,["onClick"])):(0,l.Q3)("",!0)])]),(0,l.bF)(f,{visible:e.visiblePopover,"onUpdate:visible":t[1]||(t[1]=t=>e.visiblePopover=t)},{default:(0,l.k6)(()=>[(0,l.bF)(m,null,{default:(0,l.k6)(()=>[(0,l.bF)(v,{onClick:e.triggerUpload},{default:(0,l.k6)(()=>[(0,l.bF)(g,{size:"xl",icon:["fas","file-upload"]}),(0,l.Lk)("span",null,(0,c.v_)(e.t("upload")),1),(0,l.bF)(d,{ref:"uploader",style:{display:"none"},onSelect:e.onFileSelected},null,8,["onSelect"])]),_:1},8,["onClick"]),(0,l.bF)(v,{onClick:e.saveToGallery},{default:(0,l.k6)(()=>[(0,l.bF)(g,{size:"xl",icon:["fas","images"]}),(0,l.Lk)("span",null,(0,c.v_)(e.t("saveToGallery")),1)]),_:1},8,["onClick"]),(0,l.bF)(v,null,{default:(0,l.k6)(()=>[(0,l.bF)(g,{size:"xl",icon:["fas","fa-pencil-square"]}),(0,l.Lk)("span",null,(0,c.v_)(e.t("addSign")),1)]),_:1})]),_:1})]),_:1},8,["visible"])],64)}const Ka={class:"file-uploader"},Da={key:0,class:"upload-btn-title"},Xa={key:0,class:"file-name"};function Pa(e,t,a,o,n,s){const i=(0,l.g2)("font-awesome-icon");return(0,l.uX)(),(0,l.CE)("div",Ka,[(0,l.Lk)("input",{ref:"fileInput",type:"file",accept:"image/*",class:"file-input",onChange:t[0]||(t[0]=(...t)=>e.onFileChange&&e.onFileChange(...t))},null,544),(0,l.Lk)("button",{type:"button",class:"upload-btn",onClick:t[1]||(t[1]=(...t)=>e.triggerInput&&e.triggerInput(...t))},[(0,l.bF)(i,{size:"lg",icon:["fas","file-upload"]}),e.isTitle?((0,l.uX)(),(0,l.CE)("span",Da,(0,c.v_)(e.t("upload")),1)):(0,l.Q3)("",!0)]),e.fileName?((0,l.uX)(),(0,l.CE)("div",Xa,(0,c.v_)(e.fileName),1)):(0,l.Q3)("",!0)])}var Wa=(0,l.pM)({name:"FileUploader",props:{isTitle:{type:Boolean,default:!0}},emits:["select"],setup(e,{emit:t}){const{t:a}=(0,r.s9)(),o=(0,s.KR)(null),l=(0,s.KR)("");function n(){o.value?.click()}function i(e){const a=e.target,o=a.files?.[0];o&&(l.value=o.name,t("select",o))}return{fileInput:o,fileName:l,triggerInput:n,onFileChange:i,t:a}}});const Ua=(0,f.A)(Wa,[["render",Pa],["__scopeId","data-v-da1201ba"]]);var Va=Ua;const Oa={class:"card-number"},Ga={class:"segments"};function za(e,t,a,o,n,s){return(0,l.uX)(),(0,l.CE)("div",{class:(0,c.C4)(["card",{cardSelected:e.isSelected}]),onClick:t[0]||(t[0]=(...t)=>e.selected&&e.selected(...t))},[(0,l.Lk)("div",Oa,(0,c.v_)(e.card.id),1),(0,l.Lk)("div",Ga,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.card.segments,e=>((0,l.uX)(),(0,l.CE)("div",{key:e,class:"segment",style:(0,c.Tr)({backgroundColor:e.color})},null,4))),128))])],2)}var Na=(0,l.pM)({props:{card:{type:Object,required:!0},isSelected:{type:Boolean,default:!1}},emits:["selected"],setup(e,{emit:t}){const a=()=>{t("selected",e.card)};return{selected:a}}});const ja=(0,f.A)(Na,[["render",za],["__scopeId","data-v-1b18a9a8"]]);var $a=ja;const Qa=["width","height"],qa={class:"actions"};function Ya(e,t,a,o,n,s){const i=(0,l.g2)("app-button");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.Lk)("div",null,[(0,l.Lk)("canvas",{ref:"canvasRef",width:e.sizeRef,height:e.sizeRef,onMousedown:t[0]||(t[0]=(...t)=>e.startSelection&&e.startSelection(...t)),onMousemove:t[1]||(t[1]=(...t)=>e.moveSelection&&e.moveSelection(...t)),onMouseup:t[2]||(t[2]=(...t)=>e.endSelection&&e.endSelection(...t))},null,40,Qa)]),(0,l.Lk)("div",qa,[(0,l.bF)(i,{severity:"secondary",raised:"",icon:["fas","undo"],onClick:e.resetImage},null,8,["onClick"]),(0,l.bF)(i,{severity:"secondary",raised:"",icon:["fas","plus"],onClick:e.zoomPlus},null,8,["onClick"]),(0,l.bF)(i,{severity:"secondary",raised:"",icon:["fas","minus"],onClick:e.zoomMinus},null,8,["onClick"]),(0,l.bF)(i,{severity:"secondary",raised:"",icon:["fas","save"],onClick:e.saveImage},null,8,["onClick"])])],64)}a(7588);var Ha=(0,l.pM)({name:"AppEditorCanvas",components:{AppButton:Oe},props:{segments:{type:Array,required:!0},imageUrl:{type:[String,null],default:null}},emits:["update:imageUrl"],setup(e,{emit:t}){const a=(0,i.Pj)(),o=(0,s.KR)(null),n=(0,s.KR)(null),r=(0,s.KR)(null),c=(0,s.KR)(90),u=(0,s.KR)(480),d=(0,s.KR)(0),p=(0,s.KR)(null),g=(0,s.KR)(0),v=(0,s.KR)(0);let m=!1,f=0,b=0,h=0,k=0,y=!1;const E=async()=>{if(!o.value)return;const t=o.value.getContext("2d");t.clearRect(0,0,u.value,u.value),e.imageUrl&&!y&&(n.value=await L(e.imageUrl),y=!0),x(t),K(t)},{saveToStorage:C,saveImage:w,loadImage:L,resetImage:_,zoomPlus:A,zoomMinus:F,zoom:I}=ta(o,E,t,r),R=async()=>await C(`avatar/${Math.random()}.png`),S=e=>{if(!o.value)return;m=!0;const t=o.value.getBoundingClientRect();f=e.clientX-t.left,b=e.clientY-t.top,h=f,k=b,B()},T=e=>{if(!m||!o.value)return;const t=o.value.getBoundingClientRect();h=e.clientX-t.left,k=e.clientY-t.top,B()},M=()=>{if(!o.value)return;m=!1,B();const e=Math.min(f,h),a=Math.min(b,k),l=Math.abs(h-f),n=Math.abs(k-b);if(l<2||n<2)return;const s=document.createElement("canvas");s.width=l,s.height=n;const i=s.getContext("2d");i.drawImage(o.value,e,a,l,n,0,0,l,n);const r=s.toDataURL("image/png");t("update:imageUrl",r)},B=()=>{if(!o.value)return;const e=o.value.getContext("2d");e.clearRect(0,0,u.value,u.value),x(e),K(e),m&&(e.strokeStyle="red",e.lineWidth=2,e.strokeRect(f,b,h-f,k-b))},x=e=>{const t=u.value/2,a=c.value,o=n.value;if(!o)return;e.save(),e.beginPath(),e.arc(t,t,t-a,0,2*Math.PI),e.closePath(),e.clip(),e.translate(t+(g.value??0),t+(v.value??0)),e.rotate(d.value*Math.PI/180);const l=u.value-2*a,s=Math.min(o.width,o.height),i=l*I.value;e.drawImage(o,(o.width-s)/2,(o.height-s)/2,s,s,-i/2,-i/2,i,i),e.restore()},K=t=>{const a=u.value/2,o=c.value,l=2*Math.PI/e.segments.length,n=p.value??-Math.PI/2;t.lineWidth=o,e.segments.forEach((e,s)=>{t.beginPath(),t.strokeStyle=e.color;const i=s*l+n,r=(s+1)*l+n;t.arc(a,a,a-o/2,i,r),t.stroke()})};return(0,l.sV)(E),(0,l.wB)(()=>e.imageUrl,e=>{e&&!r.value&&(r.value=e),e&&r.value&&(y=!1,I.value=1,r.value=e),E()}),(0,l.wB)(()=>a.getters["mobile/clientWidth"],e=>e<600?(c.value=40,u.value=280,void(0,l.dY)(()=>E())):e<1024?(c.value=70,u.value=400,void(0,l.dY)(()=>E())):e>1024?(c.value=90,u.value=480,void(0,l.dY)(()=>E())):void 0,{immediate:!0}),(0,l.wB)(()=>e.segments,()=>{(0,l.dY)(()=>E())}),{canvasRef:o,startSelection:S,moveSelection:T,endSelection:M,resetImage:_,saveImage:w,zoomPlus:A,zoomMinus:F,sizeRef:u,saveToGallery:R}}});const Ja=(0,f.A)(Ha,[["render",Ya],["__scopeId","data-v-000c6535"]]);var Za=Ja,eo=(0,l.pM)({components:{AppPopoverItem:sa,AppPopoverWrapper:da,AppPopover:ba,AppButton:Oe,AppEditorCanvas:Za,AppColorCard:$a,AppFileUploader:Va},emits:["fileOnLoad","isLoading"],setup(e,{emit:t}){const a=(0,s.KR)(null),{t:o}=(0,r.s9)(),n=(0,s.KR)(),c=(0,i.Pj)(),u=(0,s.KR)(!1),d=zt,p=(0,s.KR)(null),g=(0,s.KR)(),v=(0,s.KR)(null),m=(0,s.KR)(null),f=(0,s.KR)(!1),b=(0,l.EW)(()=>c.getters["authFirebase/currentUser"]);(0,l.KC)(()=>{const[e]=d;p.value=e,g.value=e.segments});const h=async e=>{m.value=e;const a=new FileReader;a.onload=e=>{v.value=e.target?.result,t("fileOnLoad",v.value)},a.readAsDataURL(e)},k=async()=>{if(m.value){f.value=!0,u.value=!1,w.value&&t("isLoading",!0);try{const e=await(a.value?.saveToGallery());await(0,Qt.gS)((0,Qt.rJ)(Zt,"gallery","NoUcXcCCYhRoogXFHJfV","items"),{userId:b.value?.uid,url:e,title:"Что-то",type:"mask",createdAt:new Date}),await c.dispatch("toast/addToast",{message:"Success",severity:"success"}),f.value=!1,w.value&&t("isLoading",!1)}catch(e){f.value=!1,await c.dispatch("toast/addToast",{message:"Error",severity:"error"}),w.value&&t("isLoading",!1)}}},y=e=>{p.value=e,g.value=e.segments},E=()=>{u.value=!0},C=()=>{n.value?.$el.querySelector("input[type=file]")?.click()},w=(0,l.EW)(()=>"mobile"===c.getters["mobile/breakPoint"]);return{frameColors:g,imageUrl:v,onFileSelected:h,cards:d,selected:y,selectedCard:p,visiblePopover:u,isMobile:w,openPopover:E,triggerUpload:C,uploader:n,t:o,saveToGallery:k,isSaveToGallery:f,editorCanvasRef:a}}});const to=(0,f.A)(eo,[["render",xa],["__scopeId","data-v-f9fab672"]]);var ao=to;const oo={class:"loader-container"};function lo(e,t){return(0,l.uX)(),(0,l.CE)("div",oo,[...t[0]||(t[0]=[(0,l.Lk)("div",{class:"loader"},null,-1)])])}const no={},so=(0,f.A)(no,[["render",lo],["__scopeId","data-v-b2638576"]]);var io=so,ro=(0,l.pM)({components:{AppLoader:io,AppColorMask:ao,AppCollage:Aa,AppTab:Xt,AppTabs:Bt},setup(){const e=(0,s.KR)(null),t=(0,s.KR)(!1),a=t=>{e.value=t};return{imageUrl:e,fileOnLoad:a,isLoading:t}}});const co=(0,f.A)(ro,[["render",_t],["__scopeId","data-v-9f50b32a"]]);var uo=co;const po={namespaced:!0,state:()=>({toasts:[],counter:0}),mutations:{ADD_TOAST(e,t){const a=e.counter++;e.toasts.push({id:a,...t}),setTimeout(()=>{const t=e.toasts.findIndex(e=>e.id===a);-1!==t&&e.toasts.splice(t,1)},t.duration)},DELETE_TOAST(e,t){const a=e.toasts.findIndex(e=>e.id===t);-1!==a&&e.toasts.splice(a,1)}},actions:{addToast({commit:e},t){e("ADD_TOAST",{message:t.message,severity:t.severity||"info",duration:t.duration||4e3})},deleteToast({commit:e},t){e("DELETE_TOAST",t.id)}},getters:{getToasts(e){return e.toasts}}},go={namespaced:!0,state:()=>({theme:"light",isDark:!1}),mutations:{INIT_THEME(e){let t=localStorage.getItem("theme");t&&(e.theme=t,e.isDark="dark"===t,document.documentElement.classList.toggle("dark",e.isDark))},SET_THEME(e,t){e.theme=t?"dark":"light",e.isDark=t,document.documentElement.classList.toggle("dark",t),localStorage.setItem("theme",e.theme)}},actions:{initTheme({commit:e}){e("INIT_THEME")},setTheme({commit:e},t){e("SET_THEME",t)}},getters:{isDark(e){return e.isDark}}},vo={namespaced:!0,state:()=>({language:"en"}),mutations:{INIT_LANGUAGE(e){let t=localStorage.getItem("language");t&&(e.language=t)},SET_LANGUAGE(e,t){e.language=t.language,localStorage.setItem("language",t.language)}},actions:{initLanguage({commit:e}){e("INIT_LANGUAGE")},setLanguage({commit:e},t){e("SET_LANGUAGE",t)}},getters:{language(e){return e.language}}},mo={"auth/invalid-credential":"incorrectLoginPassword","auth/user-not-found":"userNotFound"},fo={namespaced:!0,state:()=>({user:null,loading:!1}),getters:{isAuthenticated:e=>{const t=localStorage.getItem("user"),a=t?JSON.parse(t):null;return!!e.user||!!a},currentUser:e=>e.user,isLoading:e=>e.loading,getUserId:()=>{const e=localStorage.getItem("user");return e?JSON.parse(e).uid:null}},mutations:{setUser(e,t){e.user=t,localStorage.setItem("user",JSON.stringify(t))},setLoading(e,t){e.loading=t}},actions:{async login({commit:e,dispatch:t},{email:a,password:o}){e("setLoading",!0);try{const t=await(0,$t.x9)(Jt,a,o);e("setUser",t.user)}catch(l){throw t("toast/addToast",{message:mo[l.code],severity:"error",duration:3e3},{root:!0}),e("setLoading",!1),l}finally{e("setLoading",!1)}},async logout({commit:e}){await(0,$t.CI)(Jt),e("setUser",null)}}},bo={namespaced:!0,state:()=>({clientWidth:0,breakPoint:"desktop"}),mutations:{SET_CLIENT_WIDTH(e,t){e.clientWidth=t.clientWidth,t.clientWidth<600&&(e.breakPoint="mobile"),t.clientWidth>600&&t.clientWidth<1024&&(e.breakPoint="tablet"),t.clientWidth>1024&&t.clientWidth<1440&&(e.breakPoint="desktop"),t.clientWidth>1440&&(e.breakPoint="fullScreen")}},actions:{setClientWidth({commit:e},t){e("SET_CLIENT_WIDTH",t)}},getters:{clientWidth(e){return e.clientWidth},breakPoint(e){return e.breakPoint}}},ho={namespaced:!0,state:()=>({isOpen:!1}),mutations:{SET_BURGER(e,t){e.isOpen=t.isOpen}},actions:{setBurger({commit:e},t){e("SET_BURGER",t)}},getters:{isOpen(e){return e.isOpen}}};var ko=(0,i.y$)({state:{},getters:{},mutations:{},actions:{},modules:{toast:po,theme:go,language:vo,authFirebase:fo,mobile:bo,burgerMenu:ho},plugins:[(0,i.h)()]});const yo={class:"gallery-container"},Eo={class:"gallery-wrapper"},Co={class:"gallery-helper"},wo={class:"search"},Lo={class:"images"};function _o(e,t,a,o,n,s){const i=(0,l.g2)("AppLoader"),r=(0,l.g2)("app-input"),u=(0,l.g2)("app-button"),d=(0,l.g2)("app-image-card"),p=(0,l.g2)("app-image-modal");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.Lk)("div",yo,[e.isLoading?((0,l.uX)(),(0,l.Wv)(i,{key:0})):(0,l.Q3)("",!0),(0,l.Lk)("div",Eo,[(0,l.Lk)("section",Co,[(0,l.Lk)("div",wo,[(0,l.bF)(r,{placeholder:"Search",icon:["fas","search"],"is-label":!1})]),(0,l.Lk)("div",null,[(0,l.bF)(u,{severity:"secondary",raised:"",icon:["fas","filter"]})])]),(0,l.Lk)("section",Lo,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.images,(t,a)=>((0,l.uX)(),(0,l.Wv)(d,{key:t.id||a,src:t.src,onClick:t=>e.openModal(a)},{default:(0,l.k6)(()=>[(0,l.eW)(" Фото "+(0,c.v_)(a+1),1)]),_:2},1032,["src","onClick"]))),128)),null!==e.currentIndex?((0,l.uX)(),(0,l.Wv)(p,{key:0,images:e.images,"start-index":e.currentIndex,onClose:e.closeModal},null,8,["images","start-index","onClose"])):(0,l.Q3)("",!0)])])]),t[0]||(t[0]=(0,l.Lk)("footer",{class:"footer"},"Загружено: 100",-1))],64)}a(1701);const Ao=["src","alt"],Fo={key:1,class:"fallback"},Io={class:"overlay"};function Ro(e,t,a,o,n,s){return(0,l.uX)(),(0,l.CE)("div",{class:(0,c.C4)(["image-card",{rounded:e.rounded}]),style:(0,c.Tr)({width:e.width+"px",height:e.height+"px"})},[e.error?((0,l.uX)(),(0,l.CE)("div",Fo,[(0,l.RG)(e.$slots,"fallback",{},()=>[t[2]||(t[2]=(0,l.eW)("⚠️ Ошибка загрузки",-1))],!0)])):((0,l.uX)(),(0,l.CE)("img",{key:0,src:e.src,alt:e.alt,style:(0,c.Tr)({objectFit:e.fit}),loading:"lazy",class:(0,c.C4)({"fade-in":e.loaded}),onError:t[0]||(t[0]=(...t)=>e.onError&&e.onError(...t)),onLoad:t[1]||(t[1]=(...t)=>e.onLoad&&e.onLoad(...t))},null,46,Ao)),(0,l.Lk)("div",Io,[(0,l.RG)(e.$slots,"default",{},void 0,!0)])],6)}var So=(0,l.pM)({props:{src:{type:String,required:!0},alt:{type:String,default:""},fit:{type:String,default:"cover"},rounded:{type:Boolean,default:!0}},setup(){const e=(0,s.KR)(!1),t=(0,s.KR)(!1);function a(){e.value=!0}function o(){t.value=!0}return{error:e,loaded:t,onError:a,onLoad:o}}});const To=(0,f.A)(So,[["render",Ro],["__scopeId","data-v-35ec0575"]]);var Mo=To;const Bo={class:"modal-content"},xo=["src"],Ko={class:"info-section"},Do={class:"info-section-wrapper"},Xo={class:"info"},Po={class:"badge"},Wo={class:"actions"},Uo={class:"btn"},Vo={class:"btn"};function Oo(e,t,a,n,s,i){const r=(0,l.g2)("app-button");return(0,l.uX)(),(0,l.CE)("div",{class:"modal-backdrop",onClick:t[3]||(t[3]=(0,o.D$)((...t)=>e.close&&e.close(...t),["self"]))},[(0,l.Lk)("div",Bo,[(0,l.Lk)("img",{src:e.images[e.index].src,alt:""},null,8,xo),(0,l.Lk)("section",Ko,[(0,l.Lk)("div",Do,[(0,l.Lk)("div",Xo,[(0,l.Lk)("h3",null,(0,c.v_)(e.images[e.index].title),1),(0,l.Lk)("span",Po,(0,c.v_)(e.images[e.index].type),1)]),(0,l.Lk)("div",Wo,[(0,l.Lk)("div",Uo,[(0,l.bF)(r,{title:"Edit"})]),(0,l.Lk)("div",Vo,[(0,l.bF)(r,{severity:"error",title:"Delete"})])])])]),(0,l.Lk)("button",{class:"close",onClick:t[0]||(t[0]=(...t)=>e.close&&e.close(...t))},"✖"),(0,l.Lk)("button",{class:"prev",onClick:t[1]||(t[1]=(...t)=>e.prev&&e.prev(...t))},"⟨"),(0,l.Lk)("button",{class:"next",onClick:t[2]||(t[2]=(...t)=>e.next&&e.next(...t))},"⟩")])])}var Go=(0,l.pM)({components:{AppButton:Oe},props:{images:{type:Array,required:!0},startIndex:{type:Number,required:!0}},emits:["close"],setup(e,{emit:t}){const a=(0,s.KR)(e.startIndex);function o(){a.value=(a.value+1)%e.images.length}function n(){a.value=(a.value-1+e.images.length)%e.images.length}function i(){t("close")}return(0,l.wB)(()=>e.startIndex,e=>{a.value=e}),{index:a,next:o,prev:n,close:i}}});const zo=(0,f.A)(Go,[["render",Oo],["__scopeId","data-v-a889e484"]]);var No=zo,jo=(0,l.pM)({components:{AppLoader:io,AppButton:Oe,AppInput:ae,AppImageModal:No,AppImageCard:Mo},setup(){const e=(0,i.Pj)(),t=(0,s.KR)([]),a=(0,Qt.aU)(),o=(0,s.KR)(null),n=(0,s.KR)(!1);async function r(e,t){const{type:o,title:l,pageSize:n=20,lastDoc:s}=t||{};let i;const r=(0,Qt.rJ)(a,"gallery","NoUcXcCCYhRoogXFHJfV","items"),c=[(0,Qt._M)("userId","==",e)];o&&c.push((0,Qt._M)("type","==",o)),l?(c.push((0,Qt.My)("title")),c.push((0,Qt.EO)(l)),c.push((0,Qt.FD)(l+""))):c.push((0,Qt.My)("createdAt","desc")),c.push((0,Qt.AB)(n)),s&&c.push((0,Qt.HM)(s)),i=(0,Qt.P)(r,...c);const u=await(0,Qt.GG)(i),d=u.docs.map(e=>({id:e.id,...e.data()}));return{items:d,lastDoc:u.docs.length>0?u.docs[u.docs.length-1]:null}}function c(e){o.value=e}function u(){o.value=null}return(0,l.sV)(async()=>{n.value=!0;const a=e.getters["authFirebase/getUserId"];if(a){const{items:e}=await r(a);t.value=e.map(e=>({src:e.url,title:e.title,type:e.type})),n.value=!1}}),{images:t,currentIndex:o,openModal:c,closeModal:u,isLoading:n}}});const $o=(0,f.A)(jo,[["render",_o],["__scopeId","data-v-71f0b588"]]);var Qo=$o;const qo=[{path:"/",name:"auth",component:we,redirect:"/login",children:[{path:"login",name:"login",component:$e},{path:"forgot",name:"forgot",component:He}]},{path:"/main",name:"main",component:wt,redirect:"/main/color",meta:{requiresAuth:!0},children:[{path:"color",name:"color",component:uo,meta:{requiresAuth:!0}},{path:"gallery",name:"gallery",component:Qo,meta:{requiresAuth:!0}}]}],Yo=(0,C.aE)({history:(0,C.Bt)("/vue3/"),routes:qo});Yo.beforeEach((e,t,a)=>{const o=ko.getters["authFirebase/isAuthenticated"];e.matched.some(e=>e.meta.requiresAuth)?o?a():a({name:"login"}):"login"===e.name&&o?a({name:"color"}):a()});var Ho=Yo,Jo=a(8950),Zo=a(2353),el=a(292);const tl={en:{login:"Login",email:"Email",password:"Password",forgot:"Forgot",userName:"Username",incorrectLoginPassword:"Incorrect login or password",userNotFound:"User not found",validation:{required:"This field is required",email:"Invalid email address",min:"Minimum {count} characters"},colorType:"Color type",gallery:"Gallery",upload:"Upload",mask:"Mask",collage:"Collage",logout:"Logout",saveToGallery:"Save to Gallery",addSign:"Add Sign"},ru:{login:"Вход",email:"Почта",password:"Пароль",forgot:"Забыли",userName:"Имя пользователя",incorrectLoginPassword:"Неверный логин или пароль",userNotFound:"Пользователь не найден",validation:{required:"Поле обязательно",email:"Некорректный email",min:"Минимум {count} символов"},colorType:"Колористика",gallery:"Галерея",upload:"Загрузить",mask:"Маска",collage:"Коллаж",logout:"Выйти",saveToGallery:"Сохранить в галерею",addSign:"Добавить подпись"}},al=(0,r.hU)({locale:"en",fallbackLocale:"ru",messages:tl});Jo.Yv.add(Zo.MjD,Zo.mRM,Zo.SGM,Zo.s0Q,Zo.iW_,Zo.zpE,Zo.DW4,Zo.M9Z,Zo.y_8,Zo.N72,Zo.U23,Zo.hSh,Zo.QLR,Zo.EZy,Zo.yBu,Zo.CeG,Zo.dmS,Zo.S7o,Zo.yvG,Zo.nx5,Zo.vHW,Zo.m1c),(0,$t.hg)(Jt,e=>{ko.commit("authFirebase/setUser",e)}),(0,o.Ef)(E).use(ko).use(Ho).use(al).component("font-awesome-icon",el.gc).mount("#app")}},t={};function a(o){var l=t[o];if(void 0!==l)return l.exports;var n=t[o]={exports:{}};return e[o].call(n.exports,n,n.exports,a),n.exports}a.m=e,function(){var e=[];a.O=function(t,o,l,n){if(!o){var s=1/0;for(u=0;u<e.length;u++){o=e[u][0],l=e[u][1],n=e[u][2];for(var i=!0,r=0;r<o.length;r++)(!1&n||s>=n)&&Object.keys(a.O).every(function(e){return a.O[e](o[r])})?o.splice(r--,1):(i=!1,n<s&&(s=n));if(i){e.splice(u--,1);var c=l();void 0!==c&&(t=c)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[o,l,n]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.p="/vue3/"}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,o){var l,n,s=o[0],i=o[1],r=o[2],c=0;if(s.some(function(t){return 0!==e[t]})){for(l in i)a.o(i,l)&&(a.m[l]=i[l]);if(r)var u=r(a)}for(t&&t(o);c<s.length;c++)n=s[c],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(u)},o=self["webpackChunkvue_exeample"]=self["webpackChunkvue_exeample"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=a.O(void 0,[504],function(){return a(7931)});o=a.O(o)})();
//# sourceMappingURL=app.7d422b4d.js.map