(function(){var e={72:function(e,t,a){"use strict";e.exports=a.p+"img/buba-c-10.ddf5945f.png"},231:function(e,t,a){"use strict";e.exports=a.p+"img/buba-0.08ee1797.png"},623:function(e,t,a){"use strict";e.exports=a.p+"img/buba-c-4.11be29f2.png"},651:function(e,t,a){"use strict";e.exports=a.p+"img/buba-c-0.392c85c6.png"},698:function(e,t,a){"use strict";e.exports=a.p+"img/buba-5.4025d0e8.png"},708:function(e,t,a){"use strict";e.exports=a.p+"img/buba-c-7.de2d8734.png"},931:function(e,t,a){"use strict";e.exports=a.p+"img/buba-c-8.161d46d6.png"},1459:function(e,t,a){"use strict";e.exports=a.p+"img/buba-4.b7e9e275.png"},1500:function(e,t,a){"use strict";e.exports=a.p+"img/buba-3.08bbfb0c.png"},1650:function(e,t,a){"use strict";e.exports=a.p+"img/buba-c-1.0749c99e.png"},2534:function(e,t,a){"use strict";e.exports=a.p+"img/buba-c-5.e2302449.png"},2541:function(e,t,a){"use strict";var l=a(5130),o=a(6768);function s(e,t,a,l,s,n){const i=(0,o.g2)("app-toaster"),r=(0,o.g2)("app-dialog"),c=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(i),(0,o.bF)(r),(0,o.bF)(c)],64)}var n=a(144),i=a(782),r=a(5931),c=a(4232);const d={class:"toast-container"},u={class:"toast-icon"},p={class:"toast-message"},m=["onClick"];function g(e,t,a,s,n,i){const r=(0,o.g2)("font-awesome-icon");return(0,o.uX)(),(0,o.Wv)(o.Im,{to:"body"},[(0,o.Lk)("div",d,[(0,o.bF)(l.F,{name:"toast",tag:"div"},{default:(0,o.k6)(()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.toasts,t=>((0,o.uX)(),(0,o.CE)("div",{id:"toastTest",key:t.id,class:(0,c.C4)(["toast",t.severity])},[(0,o.Lk)("span",u,[(0,o.bF)(r,{icon:e.iconClass(t.severity)},null,8,["icon"])]),(0,o.Lk)("span",p,(0,c.v_)(e.t(t.message)),1),(0,o.Lk)("div",{class:"toast-progress",style:(0,c.Tr)({animationDuration:t.duration+"ms"})},null,4),(0,o.Lk)("div",{class:"toast-delete",onClick:a=>e.deleteToast(t.id)},[(0,o.bF)(r,{icon:["fas","times-circle"]})],8,m)],2))),128))]),_:1})])])}var v=(0,o.pM)({setup(){const{t:e}=(0,r.s9)(),t=(0,i.Pj)(),a=(0,o.EW)(()=>t.getters["toast/getToasts"]),l=e=>{t.dispatch("toast/deleteToast",{id:e})},s=e=>{switch(e){case"success":return["fas","check-circle"];case"error":return["fas","times-circle"];case"info":return["fas","info-circle"];case"warning":return["fas","exclamation-triangle"];default:return["fas","times-circle"]}};return{toasts:a,iconClass:s,deleteToast:l,t:e}}}),h=a(1241);const f=(0,h.A)(v,[["render",g],["__scopeId","data-v-3a48c8ba"]]);var b=f;const k=["onClick"];function y(e,t,a,s,n,i){return(0,o.uX)(),(0,o.Wv)(o.Im,{to:"body"},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.dialogsSt.dialogs,t=>((0,o.uX)(),(0,o.CE)("div",{key:t.id,class:(0,c.C4)(["dialog-backdrop",{"dialog-backdrop-transparent":t.options?.transparent}]),onClick:(0,l.D$)(a=>e.close(t.id),["self"])},[((0,o.uX)(),(0,o.Wv)((0,o.$y)(t.component),(0,o.v6)({ref_for:!0},t.props,{onResolve:a=>{t.resolve(a),e.close(t.id)},onReject:a=>{t.reject(a),e.close(t.id)},onClose:a=>e.close(t.id)}),null,16,["onResolve","onReject","onClose"]))],10,k))),128))])}a(4114),a(8111),a(2489);let C=0;const E=(0,n.Kh)({dialogs:[]});function F(e,t={},a){return new Promise((l,o)=>{const s=++C;E.dialogs.push({id:s,component:e,props:t,resolve:l,reject:o,options:a})})}function w(e){E.dialogs=E.dialogs.filter(t=>t.id!==e)}var A=(0,o.pM)({setup(){const e=E,t=w;return{dialogsSt:e,close:t}}});const I=(0,h.A)(A,[["render",y],["__scopeId","data-v-c2b2f8e4"]]);var L=I,D=(0,o.pM)({components:{AppDialog:L,AppToaster:b},setup(){const e=(0,n.KR)(document.documentElement.clientWidth),t=(0,i.Pj)(),{locale:a}=(0,r.s9)();t.dispatch("theme/initTheme"),t.dispatch("language/initLanguage");const l=(0,n.KR)("desktop");(0,o.sV)(()=>{const e=navigator.userAgent.toLowerCase();/iphone|ipad|ipod/.test(e)?l.value="ios":/android/.test(e)?l.value="android":l.value="desktop",t.dispatch("mobile/setDevice",{device:l.value})}),(0,o.wB)(()=>t.getters["language/language"],e=>{a.value=e},{immediate:!0});const s=()=>{e.value=document.documentElement.clientWidth,t.dispatch("mobile/setClientWidth",{clientWidth:e.value})};(0,o.sV)(()=>{t.dispatch("mobile/setClientWidth",{clientWidth:e.value}),window.addEventListener("resize",s)}),(0,o.xo)(()=>{window.removeEventListener("resize",s)})}});const S=(0,h.A)(D,[["render",s]]);var B=S,_=(a(3579),a(1387)),M=a.p+"img/rainbow.defa200a.svg";const T={class:"container"},x={class:"header-section"},R={class:"app-dropdown"},P={class:"sidebar-item"},W={class:"icon"},X={key:0,class:"title"},K={class:"sidebar-item"},O={class:"icon"},U={key:0,class:"title"},V={class:"sidebar-item"},G={class:"icon"},z={key:0,class:"title"},Q={class:"sidebar-item"},H={class:"icon"},N={key:0,class:"title"},j={class:"sidebar-item"},$={class:"icon"},Y={key:0,class:"title"},q={class:"icon"},J={key:0,class:"title"},Z=["onClick"],ee={class:"main"};function te(e,t,a,l,s,n){const i=(0,o.g2)("app-toggle"),r=(0,o.g2)("app-option"),d=(0,o.g2)("app-dropdown"),u=(0,o.g2)("app-burger-menu"),p=(0,o.g2)("app-header"),m=(0,o.g2)("font-awesome-icon"),g=(0,o.g2)("router-link"),v=(0,o.g2)("app-sidebar"),h=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)("div",T,[(0,o.bF)(p,null,{default:(0,o.k6)(()=>[(0,o.Lk)("section",x,[t[3]||(t[3]=(0,o.Lk)("img",{src:M,alt:"App Logo",width:"32",height:"32"},null,-1)),(0,o.Lk)("section",null,[(0,o.bF)(i,{modelValue:e.isDark,"onUpdate:modelValue":t[0]||(t[0]=t=>e.isDark=t),variant:"theme",onToggled:e.toggled},null,8,["modelValue","onToggled"]),(0,o.Lk)("div",R,[(0,o.bF)(d,{modelValue:e.language,"onUpdate:modelValue":t[1]||(t[1]=t=>e.language=t),label:"name"},{default:(0,o.k6)(()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.languages,e=>((0,o.uX)(),(0,o.Wv)(r,{key:e,value:e},{default:(0,o.k6)(()=>[(0,o.eW)((0,c.v_)(e),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),e.isMobile?((0,o.uX)(),(0,o.Wv)(u,{key:0})):(0,o.Q3)("",!0)])])]),_:1}),(0,o.Lk)("section",null,[(0,o.bF)(v,null,{main:(0,o.k6)(({isShort:t})=>[(0,o.bF)(g,{to:"/main/color","active-class":"active-link"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",P,[(0,o.Lk)("div",W,[(0,o.bF)(m,{size:"xl",icon:["fas","rainbow"]})]),t?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",X,(0,c.v_)(e.t("masks")),1))])]),_:2},1024),(0,o.bF)(g,{to:"/main/chroma","active-class":"active-link"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",K,[(0,o.Lk)("div",O,[(0,o.bF)(m,{size:"xl",icon:["fas","eye-dropper"]})]),t?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",U,(0,c.v_)(e.t("characteristicColor")),1))])]),_:2},1024),(0,o.bF)(g,{to:"/main/palette","active-class":"active-link"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",V,[(0,o.Lk)("div",G,[(0,o.bF)(m,{size:"xl",icon:["fas","palette"]})]),t?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",z,(0,c.v_)(e.t("palette")),1))])]),_:2},1024),(0,o.bF)(g,{to:"/main/ai-agent","active-class":"active-link"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",Q,[(0,o.Lk)("div",H,[(0,o.bF)(m,{size:"xl",icon:["fas","microchip"]})]),t?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",N,(0,c.v_)(e.t("aiAgent")),1))])]),_:2},1024),(0,o.bF)(g,{to:"/main/gallery","active-class":"active-link"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",j,[(0,o.Lk)("div",$,[(0,o.bF)(m,{size:"xl",icon:["fas","images"]})]),t?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",Y,(0,c.v_)(e.t("gallery")),1))])]),_:2},1024)]),additional:(0,o.k6)(({isShort:a,toggle:l})=>[(0,o.Lk)("div",{class:"sidebar-item logout",onClick:t[2]||(t[2]=(...t)=>e.logout&&e.logout(...t))},[(0,o.Lk)("div",q,[(0,o.bF)(m,{size:"xl",icon:["fas","right-from-bracket"]})]),a?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",J,(0,c.v_)(e.t("logout")),1))]),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",{key:0,class:"sidebar-item",onClick:l},[(0,o.bF)(m,{size:"xl",icon:a?["fas","arrow-left"]:["fas","arrow-right"]},null,8,["icon"])],8,Z))]),_:1}),(0,o.Lk)("main",ee,[(0,o.bF)(h)])])])}const ae=["aria-disabled"],le=["checked","disabled"];function oe(e,t,a,s,n,i){return(0,o.uX)(),(0,o.CE)("label",{ref:"switchEl",class:(0,c.C4)([[e.variant,{disabled:e.disabled}],"switch"]),tabindex:"0","aria-disabled":e.disabled,onKeydown:[t[1]||(t[1]=(0,l.jR)((0,l.D$)((...t)=>e.onKeyToggle&&e.onKeyToggle(...t),["prevent"]),["space"])),t[2]||(t[2]=(0,l.jR)((0,l.D$)((...t)=>e.onKeyToggle&&e.onKeyToggle(...t),["prevent"]),["enter"]))]},[(0,o.Lk)("input",{type:"checkbox",checked:e.modelValue,disabled:e.disabled,onChange:t[0]||(t[0]=(...t)=>e.onToggle&&e.onToggle(...t))},null,40,le),t[3]||(t[3]=(0,o.Lk)("span",{class:"slider"},null,-1))],42,ae)}function se(e,t){const a=(0,n.KR)(null),l=e=>{const a=e.target;t("update:modelValue",a.checked),t("toggled",a.checked)},s=()=>{e.disabled||(t("update:modelValue",!e.modelValue),t("toggled",!e.modelValue))};return(0,o.sV)(()=>{!e.disabled&&a.value&&a.value.focus()}),{onToggle:l,onKeyToggle:s,switchEl:a}}var ne=(0,o.pM)({props:{modelValue:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},variant:{type:String,default:"default"}},emits:["update:modelValue","toggled"],setup(e,t){return se(e,t.emit)}});const ie=(0,h.A)(ne,[["render",oe],["__scopeId","data-v-4d8e97e2"]]);var re=ie;const ce=["disabled"],de={key:0,class:"search"};function ue(e,t,a,l,s,n){const i=(0,o.g2)("app-input"),r=(0,o.g2)("app-overlay-panel");return(0,o.uX)(),(0,o.CE)("section",null,[(0,o.Lk)("div",{ref:"targetRef",class:"dropdown-container",onClick:t[3]||(t[3]=(...t)=>e.toggle&&e.toggle(...t))},[(0,o.bF)(i,{modelValue:e.valueRef,"onUpdate:modelValue":t[0]||(t[0]=t=>e.valueRef=t),height:e.height,"is-label":e.isTitle,readonly:!0,disabled:e.disabled,label:e.title},null,8,["modelValue","height","is-label","disabled","label"]),(0,o.Lk)("button",{disabled:e.disabled,type:"button",class:(0,c.C4)(["toggle-btn",{withTitle:e.isTitle}])}," ▼ ",10,ce),e.targetRef?((0,o.uX)(),(0,o.Wv)(r,{key:0,visible:e.visible,"onUpdate:visible":t[2]||(t[2]=t=>e.visible=t),target:e.targetRef},{default:(0,o.k6)(()=>[e.isSearch?((0,o.uX)(),(0,o.CE)("div",de,[(0,o.bF)(i,{modelValue:e.searchValue,"onUpdate:modelValue":t[1]||(t[1]=t=>e.searchValue=t),placeholder:"search",icon:["fas","search"],"is-label":!1,onFocus:e.focusInput,onBlur:e.focusOutInput},null,8,["modelValue","onFocus","onBlur"])])):(0,o.Q3)("",!0),(0,o.RG)(e.$slots,"default",{},void 0,!0)]),_:3},8,["visible","target"])):(0,o.Q3)("",!0)],512)])}const pe=["for"],me={ref:"wrapperRef",class:"wrap-input validate-input"},ge=["id","value","type","placeholder","disabled","readonly"],ve={key:0,class:"symbol-input100"};function he(e,t,a,l,s,n){const i=(0,o.g2)("font-awesome-icon"),r=(0,o.g2)("app-input-error-overlay");return(0,o.uX)(),(0,o.CE)("section",null,[e.isLabel?((0,o.uX)(),(0,o.CE)("label",{key:0,class:"label",for:e.type},(0,c.v_)(e.t(e.label)),9,pe)):(0,o.Q3)("",!0),(0,o.Lk)("div",me,[(0,o.Lk)("input",{id:e.type,ref:"inputRef",value:e.modelValue,class:(0,c.C4)(["input100",{pr:e.icon}]),type:e.type,placeholder:e.t(e.placeholder),disabled:e.disabled,readonly:e.readonly,style:(0,c.Tr)({height:e.height}),onInput:t[0]||(t[0]=(...t)=>e.handleInput&&e.handleInput(...t)),onBlur:t[1]||(t[1]=(...t)=>e.handleBlur&&e.handleBlur(...t)),onFocus:t[2]||(t[2]=(...t)=>e.showErrorToggle&&e.showErrorToggle(...t))},null,46,ge),t[3]||(t[3]=(0,o.Lk)("span",{class:"focus-input100"},null,-1)),e.icon?((0,o.uX)(),(0,o.CE)("span",ve,[(0,o.bF)(i,{icon:e.icon},null,8,["icon"])])):(0,o.Q3)("",!0)],512),e.wrapperRef?((0,o.uX)(),(0,o.Wv)(r,{key:1,target:e.wrapperRef,message:e.error,visible:e.showError,"z-index":e.zIndexTooltip,onClick:e.showErrorToggle},null,8,["target","message","visible","z-index","onClick"])):(0,o.Q3)("",!0)])}const fe={class:"error-message"};function be(e,t,a,l,s,n){return(0,o.uX)(),(0,o.Wv)(o.Im,{to:"body"},[e.visible?((0,o.uX)(),(0,o.CE)("div",{key:0,ref:"overlayRef",class:"error-overlay",style:(0,c.Tr)(e.overlayStyle),onClick:t[0]||(t[0]=(...t)=>e.onClick&&e.onClick(...t))},[(0,o.Lk)("section",null,[(0,o.Lk)("div",fe,(0,c.v_)("string"===typeof e.message?e.t(e.message):e.t(e.message.key,e.message.values)),1),t[1]||(t[1]=(0,o.Lk)("div",{class:"exclamation-mark"},"!",-1))])],4)):(0,o.Q3)("",!0)])}const ke=7.5,ye=1.5;var Ce=(0,o.pM)({props:{target:{type:Object,required:!0},message:{type:[String,Object],default:""},visible:{type:Boolean,default:!1},zIndex:{type:Number,default:1010}},emits:["click"],setup(e,{emit:t}){const{t:a}=(0,r.s9)(),l=(0,n.KR)(null),s=(0,n.KR)(0),i=(0,o.EW)(()=>{if(s.value,!e.target)return{};const t=e.target.getBoundingClientRect();return{position:"absolute",top:`${t.top+window.scrollY+ke}px`,left:`${t.left+window.scrollX+Math.round(t.width/3.5)}px`,width:t.width/ye+"px",zIndex:e.zIndex}}),c=()=>{s.value=Date.now()},d=()=>{t("click")};return(0,o.sV)(()=>{window.addEventListener("resize",c),window.addEventListener("scroll",c,!0)}),(0,o.xo)(()=>{window.removeEventListener("resize",c),window.removeEventListener("scroll",c,!0)}),{overlayRef:l,overlayStyle:i,onClick:d,t:a}}});const Ee=(0,h.A)(Ce,[["render",be],["__scopeId","data-v-456e7f20"]]);var Fe=Ee,we=(0,o.pM)({components:{AppInputErrorOverlay:Fe},props:{modelValue:{type:String,default:""},error:{type:[String,Boolean],default:""},isLabel:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},placeholder:{type:String,default:""},type:{type:String,default:"text"},label:{type:String,default:"text"},icon:{type:[Array,String],default:""},zIndexTooltip:{type:Number,default:1010},height:{type:String,default:"50px"},isFocused:{type:Boolean,default:!1}},emits:["update:modelValue","blur","change","focus"],setup(e,{emit:t}){const a=(0,n.KR)(""),{t:l}=(0,r.s9)(),s=(0,n.KR)(!1),i=(0,n.KR)(!1),c=(0,n.KR)(null),d=(0,n.KR)(null),u=()=>{t("focus"),i.value=!0,c.value?.focus(),g()},p=()=>{t("blur"),i.value=!1,g()},m=e=>{t("update:modelValue",e.target.value),i.value=!0,g()},g=()=>{s.value=!i.value&&Boolean(e.error)};return(0,o.sV)(()=>{e.isFocused&&c.value?.focus()}),(0,o.wB)(()=>e.error,()=>{g()},{immediate:!0}),{value:a,showError:s,showErrorToggle:u,inputRef:c,wrapperRef:d,handleInput:m,handleBlur:p,t:l}}});const Ae=(0,h.A)(we,[["render",he],["__scopeId","data-v-45d99b04"]]);var Ie=Ae;function Le(e,t,a,l,s,n){return(0,o.uX)(),(0,o.Wv)(o.Im,{to:"body"},[e.visible?((0,o.uX)(),(0,o.CE)("div",{key:0,ref:"overlayRef",class:"overlay",style:(0,c.Tr)(e.overlayStyle)},[(0,o.RG)(e.$slots,"default",{},void 0,!0)],4)):(0,o.Q3)("",!0)])}const De=3;function Se(e,t){switch(t){case"left":return e.left;case"right":return e.right;case"center":return e.left+e.width/2}}function Be(e,t){switch(t){case"top":return e.top;case"bottom":return e.bottom;case"center":return e.top+e.height/2}}function _e(e,t,a,l){const o=Se(t,e),s=o-a>=0,n=o+a<=l,i=o-a/2>=0&&o+a/2<=l;return"left"===e?s?"left":i?"center":"right":"right"===e?n?"right":i?"center":"left":"center"}function Me(e,t,a,l){const o=Be(t,e),s=o-a>=0,n=o+a<=l,i=o-a/2>=0&&o+a/2<=l;return"top"===e?s?"top":i?"center":"bottom":"bottom"===e?n?"bottom":i?"center":"top":i?"center":s?"top":"bottom"}function Te(e,t){let a;return a=null!==t?"number"===typeof t?`${t}px`:String(t):`${Math.round(e.width)}px`,a}function xe(e,t,a,l,o){const s=document.documentElement.clientWidth,n=document.documentElement.clientHeight;return{x:_e(l,e,t,s),y:Me(o,e,a,n)}}var Re=(0,o.pM)({props:{target:{type:Object,required:!0},visible:{type:Boolean,default:!0},zIndex:{type:Number,default:1010},position:{type:Object,default:()=>({x:"center",y:"bottom"})},width:{type:[Number,String],default:null}},emits:["update:visible"],setup(e,{emit:t}){const a=(0,n.KR)(null),l=(0,n.KR)(0),s=(0,o.EW)(()=>{if(l.value,!e.target)return{};const t=e.target.getBoundingClientRect(),o=a.value,s=window.scrollX,n=window.scrollY,i=o?.offsetWidth??0,r=o?.offsetHeight??0,{x:c,y:d}=xe(t,i,r,e.position.x,e.position.y),u=d,p=c;let m=t.top+n,g=t.left+s,v=0,h=0;switch(u){case"top":m=t.top+n-r;break;case"bottom":m=t.top+n+t.height+De;break;case"center":m=t.top+n+t.height/2,h=-50;break}switch(p){case"left":g=t.left+s-i;break;case"right":g=t.left+s+t.width;break;case"center":g=t.left+t.width/2,v=-50;break}const f=[];return v&&f.push(`translateX(${v}%)`),h&&f.push(`translateY(${h}%)`),{position:"fixed",top:`${Math.round(m)}px`,left:`${Math.round(g)}px`,transform:f.length?f.join(" "):void 0,zIndex:e.zIndex,width:Te(t,e.width)}}),i=()=>{l.value=Date.now()},r=l=>{const o=a.value,s=e.target,n=l.target;o&&!o.contains(n)&&s&&!s.contains(n)&&t("update:visible",!1)};return(0,o.sV)(()=>{window.addEventListener("resize",i),window.addEventListener("scroll",i,!0),document.addEventListener("click",r),(0,o.dY)(i)}),(0,o.xo)(()=>{window.removeEventListener("resize",i),window.removeEventListener("scroll",i,!0),document.removeEventListener("click",r)}),{overlayStyle:s,overlayRef:a}}});const Pe=(0,h.A)(Re,[["render",Le],["__scopeId","data-v-512dbea3"]]);var We=Pe,Xe=(0,o.pM)({components:{AppOverlayPanel:We,AppInput:Ie},props:{modelValue:{type:[String,Number,Object],default:null},label:{type:String,default:""},disabled:{type:Boolean,default:!1},height:{type:String,default:"32px"},isSearch:{type:Boolean,default:!1},isTitle:{type:Boolean,default:!1},title:{type:String,default:""}},emits:["update:modelValue","search","focusInput","focusOutInput"],setup(e,{emit:t}){const a=(0,o.EW)(()=>e.modelValue),l=(0,n.KR)(null),s=(0,n.KR)(null),i=(0,n.KR)(!1),r=(0,n.KR)(""),c=()=>{i.value=!i.value},d=a=>{if("string"===typeof a&&(l.value=a),"object"===typeof a&&null!==a){const t=a;l.value=t[e.label]}t("update:modelValue",a),i.value=!1};(0,o.sV)(()=>{if("string"===typeof e.modelValue&&(l.value=e.modelValue),"object"===typeof e.modelValue&&null!==e.modelValue){const t=e.modelValue;l.value=t[e.label]}}),(0,o.Gt)("select",d),(0,o.Gt)("selected",a),(0,o.wB)(r,e=>{t("search",e)}),(0,o.wB)(()=>e.modelValue,t=>{l.value="string"===typeof t?t:"object"===typeof t&&null!==t?t[e.label]:null},{immediate:!0});const u=()=>{t("focusInput")},p=()=>{t("focusOutInput")};return{targetRef:s,visible:i,toggle:c,valueRef:l,searchValue:r,focusInput:u,focusOutInput:p}}});const Ke=(0,h.A)(Xe,[["render",ue],["__scopeId","data-v-a21ad386"]]);var Oe=Ke;function Ue(e,t,a,l,s,n){return(0,o.uX)(),(0,o.CE)("div",{class:(0,c.C4)(["dropdown-option",{"is-selected":e.isSelected}]),onClick:t[0]||(t[0]=(...t)=>e.onClick&&e.onClick(...t))},[(0,o.RG)(e.$slots,"default",{},void 0,!0)],2)}var Ve=(0,o.pM)({props:{value:{type:[String,Number,Object],default:null}},setup(e){const t=(0,o.WQ)("select",()=>{}),a=(0,o.WQ)("selected"),l=()=>{t&&t(e.value)},s=(0,o.EW)(()=>{if(!a)return;const t=a.value;if(t&&"object"===typeof t&&e.value&&"object"===typeof e.value){const a=t,l=e.value;return a.id===l.id}return t===e.value});return{onClick:l,isSelected:s}}});const Ge=(0,h.A)(Ve,[["render",Ue],["__scopeId","data-v-63d361e7"]]);var ze=Ge;const Qe={class:"header"};function He(e,t){return(0,o.uX)(),(0,o.CE)("header",Qe,[(0,o.RG)(e.$slots,"default",{},void 0,!0)])}const Ne={},je=(0,h.A)(Ne,[["render",He],["__scopeId","data-v-bea2ffe6"]]);var $e=je;const Ye={class:"additional-section"},qe={class:"additional-section"};function Je(e,t,a,l,s,n){return(0,o.uX)(),(0,o.CE)(o.FK,null,[e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("aside",{key:0,class:"sidebar-container",style:(0,c.Tr)({width:e.isShort?"60px":"220px"})},[(0,o.Lk)("section",{class:"main-section",onClick:t[0]||(t[0]=(...t)=>e.setBurgerMenu&&e.setBurgerMenu(...t))},[(0,o.RG)(e.$slots,"main",{isShort:e.isShort},void 0,!0)]),(0,o.Lk)("section",Ye,[(0,o.RG)(e.$slots,"additional",{isShort:e.isShort,toggle:e.toggle},void 0,!0)])],4)),((0,o.uX)(),(0,o.Wv)(o.Im,{to:"body"},[e.isMobile&&e.isBurgerMenuOpen?((0,o.uX)(),(0,o.CE)("aside",{key:0,class:"sidebar-container mobile-view",style:(0,c.Tr)({width:e.isShort?"60px":"220px"})},[(0,o.Lk)("section",{class:"main-section",onClick:t[1]||(t[1]=(...t)=>e.setBurgerMenu&&e.setBurgerMenu(...t))},[(0,o.RG)(e.$slots,"main",{isShort:e.isShort},void 0,!0)]),(0,o.Lk)("section",qe,[(0,o.RG)(e.$slots,"additional",{isShort:e.isShort,toggle:e.toggle},void 0,!0)])],4)):(0,o.Q3)("",!0)]))],64)}var Ze=(0,o.pM)({setup(){const e=(0,i.Pj)(),t=(0,n.KR)(!0),a=(0,o.EW)(()=>"mobile"===e.getters["mobile/breakPoint"]),l=(0,o.EW)(()=>e.getters["burgerMenu/isOpen"]),s=()=>{t.value=!t.value},r=()=>{a.value&&e.dispatch("burgerMenu/setBurger",{isOpen:!1})};return(0,o.wB)(()=>e.getters["mobile/breakPoint"],e=>{t.value="mobile"!==e},{immediate:!0}),{isMobile:a,isShort:t,toggle:s,isBurgerMenuOpen:l,setBurgerMenu:r}}});const et=(0,h.A)(Ze,[["render",Je],["__scopeId","data-v-3eca85e0"]]);var tt=et;function at(e,t,a,l,s,n){return(0,o.uX)(),(0,o.CE)("div",{"data-burger-test-id":"",class:(0,c.C4)(["burger",{open:e.isOpen}]),onClick:t[0]||(t[0]=(...t)=>e.toggle&&e.toggle(...t))},[...t[1]||(t[1]=[(0,o.Lk)("span",null,null,-1),(0,o.Lk)("span",null,null,-1),(0,o.Lk)("span",null,null,-1)])],2)}var lt=(0,o.pM)({setup(){const e=(0,i.Pj)(),t=(0,o.EW)(()=>e.getters["burgerMenu/isOpen"]),a=()=>{e.dispatch("burgerMenu/setBurger",{isOpen:!t.value})};return{isOpen:t,toggle:a}}});const ot=(0,h.A)(lt,[["render",at],["__scopeId","data-v-13390ba1"]]);var st=ot,nt=(0,o.pM)({components:{AppBurgerMenu:st,AppSidebar:tt,AppOption:ze,AppDropdown:Oe,AppHeader:$e,AppToggle:re},setup(){const{t:e}=(0,r.s9)(),t=(0,i.Pj)(),a=(0,_.rd)(),l=(0,n.KR)(["en","ru"]),s=(0,n.KR)(t.getters["language/language"]),c=(0,n.KR)(t.getters["theme/isDark"]),d=(0,o.EW)(()=>"mobile"===t.getters["mobile/breakPoint"]),u=e=>{t.dispatch("theme/setTheme",e)};(0,o.wB)(s,e=>{t.dispatch("language/setLanguage",{language:e})});const p=async()=>{await t.dispatch("authFirebase/logout"),await t.dispatch("burgerMenu/setBurger",{isOpen:!1}),await a.push("/signIn")};return{toggled:u,logout:p,t:e,isDark:c,language:s,languages:l,isMobile:d}}});const it=(0,h.A)(nt,[["render",te],["__scopeId","data-v-7fd9de96"]]);var rt=it;const ct={class:"color-container"};function dt(e,t,a,l,s,n){const i=(0,o.g2)("AppLoader"),r=(0,o.g2)("app-color-mask"),c=(0,o.g2)("app-tab"),d=(0,o.g2)("app-collage"),u=(0,o.g2)("app-tabs");return(0,o.uX)(),(0,o.CE)("div",ct,[e.isLoading?((0,o.uX)(),(0,o.Wv)(i,{key:0})):(0,o.Q3)("",!0),(0,o.bF)(u,null,{default:(0,o.k6)(()=>[(0,o.bF)(c,{title:"mask"},{default:(0,o.k6)(()=>[(0,o.bF)(r,{onIsLoading:t[0]||(t[0]=t=>e.isLoading=t)})]),_:1}),(0,o.bF)(c,{title:"collage"},{default:(0,o.k6)(()=>[(0,o.bF)(d,{onIsLoading:t[1]||(t[1]=t=>e.isLoading=t)})]),_:1})]),_:1})])}const ut={class:"tabs"},pt={class:"tab-headers"},mt=["onClick"],gt={class:"tab-content"};function vt(e,t,a,l,s,n){return(0,o.uX)(),(0,o.CE)("div",ut,[(0,o.Lk)("nav",pt,[(0,o.Lk)("ul",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.tabs,t=>((0,o.uX)(),(0,o.CE)("li",{key:t.index,class:(0,c.C4)({active:e.activeIndex===t.index,disabled:t.disabled}),onClick:a=>e.setActive(t.index)},[(0,o.Lk)("a",null,(0,c.v_)(e.t(t.title)),1)],10,mt))),128))])]),(0,o.Lk)("div",gt,[(0,o.RG)(e.$slots,"default",{},void 0,!0)])])}a(116);var ht=(0,o.pM)({props:{modelValue:{type:Number,default:2}},emits:["update:modelValue","change"],setup(e,{emit:t}){const a=(0,n.KR)(e.modelValue),{t:l}=(0,r.s9)(),s=(0,n.Kh)([]),i=(e,t)=>{const a=s.length;return s.push({title:e,index:a,disabled:t}),a},c=e=>{const l=s[e];l&&!l.disabled&&(a.value=e,t("update:modelValue",e),t("change",e))};return(0,o.Gt)("registerTab",i),(0,o.Gt)("activeIndex",a),(0,o.wB)(()=>e.modelValue,e=>{const l=s[e];if(l&&!l.disabled)a.value=e;else{const e=s.find(e=>!e.disabled);e&&(a.value=e.index,t("update:modelValue",e.index))}}),(0,o.wB)(s,()=>{const e=s[a.value];if(!e||e.disabled){const e=s.find(e=>!e.disabled);e&&(a.value=e.index,t("update:modelValue",e.index))}},{immediate:!0}),{tabs:s,activeIndex:a,setActive:c,t:l}}});const ft=(0,h.A)(ht,[["render",vt],["__scopeId","data-v-31b0f54d"]]);var bt=ft;function kt(e,t,a,s,n,i){return(0,o.bo)(((0,o.uX)(),(0,o.CE)("div",null,[(0,o.RG)(e.$slots,"default",{},void 0,!0)],512)),[[l.aG,e.isActive]])}var yt=(0,o.pM)({props:{title:{type:String,required:!0},disabled:{type:Boolean,default:!1}},setup:function(e,{slots:t}){const a=(0,o.WQ)("registerTab"),l=(0,o.WQ)("activeIndex"),s=(0,n.KR)(-1);(0,o.sV)(()=>{a&&(s.value=a(e.title,e.disabled))});const i=(0,o.EW)(()=>l?.value===s.value);return{isActive:i,slots:t}}});const Ct=(0,h.A)(yt,[["render",kt],["__scopeId","data-v-7d72f4d0"]]);var Et=Ct;const Ft={class:"collage-wrapper"},wt={class:"collage-container"},At={ref:"canvas"},It={key:0,class:"btn"},Lt={key:1,class:"btn"},Dt={key:5,class:"checkbox"},St={key:6,class:"checkbox"};function Bt(e,t,a,s,n,i){const r=(0,o.g2)("app-button"),d=(0,o.g2)("font-awesome-icon"),u=(0,o.g2)("AppCheckbox"),p=(0,o.g2)("app-popover-item"),m=(0,o.g2)("app-popover-wrapper"),g=(0,o.g2)("app-popover");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",Ft,[(0,o.Lk)("div",wt,[(0,o.Lk)("canvas",At,null,512)]),(0,o.Lk)("section",{class:(0,c.C4)(["buttons",{isMobile:e.isMobile}])},[e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",It,[(0,o.bF)(r,{raised:"",title:"pickPhoto",severity:"secondary",icon:["fas","sliders"],onClick:e.openImageSettingsModal},null,8,["onClick"])])),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",Lt,[(0,o.bF)(r,{severity:"success",title:"download",onClick:t[0]||(t[0]=t=>e.saveImage("collage"))})])),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(r,{key:2,severity:"warning",title:"saveToGallery",loading:e.isSaveToGallery,onClick:e.saveToGallery},null,8,["loading","onClick"])),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(r,{key:3,severity:"info",title:"addSign",onClick:e.openImageModal},null,8,["onClick"])),e.isMobile?((0,o.uX)(),(0,o.Wv)(d,{key:4,icon:["fas","ellipsis-h"],size:"lg",onClick:(0,l.D$)(e.openPopover,["stop"])},null,8,["onClick"])):(0,o.Q3)("",!0),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",Dt,[(0,o.bF)(u,{modelValue:e.sharedWithMask,"onUpdate:modelValue":t[1]||(t[1]=t=>e.sharedWithMask=t),label:"shareImageWithMask"},null,8,["modelValue"])])),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",St,[(0,o.bF)(u,{modelValue:e.rememberChoose,"onUpdate:modelValue":t[2]||(t[2]=t=>e.rememberChoose=t),label:"rememberChoose"},null,8,["modelValue"])]))],2)]),(0,o.bF)(g,{visible:e.visiblePopover,"onUpdate:visible":t[6]||(t[6]=t=>e.visiblePopover=t)},{default:(0,o.k6)(()=>[(0,o.bF)(m,null,{default:(0,o.k6)(()=>[(0,o.bF)(p,{onClick:e.openImageSettingsModal},{default:(0,o.k6)(()=>[(0,o.bF)(d,{size:"xl",icon:["fas","sliders"]}),(0,o.Lk)("span",null,(0,c.v_)(e.t("pickPhoto")),1)]),_:1},8,["onClick"]),(0,o.bF)(p,{onClick:t[3]||(t[3]=t=>e.saveImage("collage"))},{default:(0,o.k6)(()=>[(0,o.bF)(d,{size:"xl",icon:["fas","download"]}),(0,o.Lk)("span",null,(0,c.v_)(e.t("download")),1)]),_:1}),(0,o.bF)(p,{onClick:e.saveToGallery},{default:(0,o.k6)(()=>[(0,o.bF)(d,{size:"xl",icon:["fas","images"]}),(0,o.Lk)("span",null,(0,c.v_)(e.t("saveToGallery")),1)]),_:1},8,["onClick"]),(0,o.bF)(p,{onClick:e.openImageModal},{default:(0,o.k6)(()=>[(0,o.bF)(d,{size:"xl",icon:["fas","fa-pencil-square"]}),(0,o.Lk)("span",null,(0,c.v_)(e.t("addSign")),1)]),_:1},8,["onClick"])]),_:1}),(0,o.bF)(m,null,{default:(0,o.k6)(()=>[(0,o.bF)(p,null,{default:(0,o.k6)(()=>[(0,o.bF)(u,{modelValue:e.sharedWithMask,"onUpdate:modelValue":t[4]||(t[4]=t=>e.sharedWithMask=t)},null,8,["modelValue"]),(0,o.Lk)("span",null,(0,c.v_)(e.t("shareImageWithMask")),1)]),_:1}),(0,o.bF)(p,null,{default:(0,o.k6)(()=>[(0,o.bF)(u,{modelValue:e.rememberChoose,"onUpdate:modelValue":t[5]||(t[5]=t=>e.rememberChoose=t)},null,8,["modelValue"]),(0,o.Lk)("span",null,(0,c.v_)(e.t("rememberChoose")),1)]),_:1})]),_:1})]),_:1},8,["visible"])],64)}const _t={class:"container-btn"},Mt=["disabled"],Tt={key:0,class:"btn-icon"},xt={key:1,class:"btn-title"},Rt={key:2,class:"loader"};function Pt(e,t,a,l,s,n){const i=(0,o.g2)("font-awesome-icon");return(0,o.uX)(),(0,o.CE)("div",_t,[(0,o.Lk)("button",{disabled:e.disabled||e.loading,class:(0,c.C4)(e.classes),ontouchstart:"",onClick:t[0]||(t[0]=(...t)=>e.clickBtn&&e.clickBtn(...t))},[e.icon?((0,o.uX)(),(0,o.CE)("span",Tt,[(0,o.bF)(i,{size:"lg",icon:e.icon},null,8,["icon"])])):(0,o.Q3)("",!0),e.title&&!e.loading?((0,o.uX)(),(0,o.CE)("span",xt,(0,c.v_)(e.t(e.title)),1)):e.loading?((0,o.uX)(),(0,o.CE)("span",Rt)):(0,o.Q3)("",!0)],10,Mt)])}var Wt=(0,o.pM)({props:{disabled:{type:Boolean,default:!1},title:{type:String,default:""},loading:{type:Boolean,default:!1},severity:{type:String,default:"success"},raised:{type:Boolean,default:!1},gradient:{type:Boolean,default:!1},icon:{type:[Array,String],default:""}},emits:["click"],setup(e,{emit:t}){const{t:a}=(0,r.s9)(),l=(0,o.EW)(()=>["btn",`${e.severity}`,{raised:e.raised,gradient:e.gradient}]),s=()=>{t("click")};return{t:a,classes:l,clickBtn:s}}});const Xt=(0,h.A)(Wt,[["render",Pt],["__scopeId","data-v-6cf132d4"]]);var Kt=Xt;const Ot=[{id:1,type:"cold",segments:[{color:"#979DAF"},{color:"#C21E56"},{color:"#F3ED7C"},{color:"#155DA4"},{color:"#008684"},{color:"#E5ADD5"},{color:"#D0417E"},{color:"#E7B8D3"},{color:"#FFFFFF"},{color:"#34373B"},{color:"#BA397B"}]},{id:2,type:"warm",segments:[{color:"#E1BD88"},{color:"#DB3844"},{color:"#BC2A3A"},{color:"#E09D66"},{color:"#FAC668"},{color:"#CCD97A"},{color:"#91B54D"},{color:"#D66467"},{color:"#FEA188"},{color:"#CC9C7D"},{color:"#F2EDD8"}]},{id:3,type:"dark",segments:[{color:"#413433"},{color:"#BC243C"},{color:"#373E4B"},{color:"#79857A"},{color:"#987576"},{color:"#483A49"},{color:"#FFFFFF"},{color:"#594440"},{color:"#DEC6AC"},{color:"#707375"},{color:"#777791"}]},{id:4,type:"light",segments:[{color:"#CBB7A2"},{color:"#E63E62"},{color:"#FDE182"},{color:"#657BB8"},{color:"#42BDCB"},{color:"#7DCFB6"},{color:"#E87191"},{color:"#F8CBC7"},{color:"#FABCB1"},{color:"#F4EAE0"},{color:"#F9F9F9"}]},{id:5,type:"mute",segments:[{color:"#53677A"},{color:"#856088"},{color:"#4E9093"},{color:"#814A47"},{color:"#A55972"},{color:"#6B5D74"},{color:"#DCA59E"},{color:"#F4EAE0"},{color:"#F0D3C9"},{color:"#6C5740"},{color:"#6A6855"}]},{id:6,type:"bright",segments:[{color:"#433D42"},{color:"#E5003C"},{color:"#FBE337"},{color:"#4E468B"},{color:"#199D5C"},{color:"#008AC2"},{color:"#43BCD8"},{color:"#DE7AA4"},{color:"#F87B90"},{color:"#F9F9F9"},{color:"#D5DDD5"}]}];var Ut=a(1924),Vt=a(6400),Gt=a(4388),zt=a(2832),Qt=a(1933);const Ht={apiKey:"AIzaSyACkcP8ThJg9f_JsBoiy0DErBhC9mg7gtg",authDomain:"rainbow-manager-2c361.firebaseapp.com",projectId:"rainbow-manager-2c361",storageBucket:"rainbow-manager-2c361.firebasestorage.app",messagingSenderId:"561480772779",appId:"1:561480772779:web:3b51c3721116c916811bee"},Nt=(0,Vt.Wp)(Ht),jt=(0,Gt.xI)(Nt),$t=(0,zt.aU)(Nt),Yt=(0,Ut.c7)(Nt),qt=(0,Qt.lS)(Nt);function Jt(e,t,a,l){const o=(0,n.KR)(1),s=()=>e.value?e.value.toDataURL("image/png"):null,i=(t="avatar.png")=>{if(!e.value)return;const a=e.value.toDataURL("image/png"),l=document.createElement("a");l.href=a,l.download=t,l.click()},r=async(t="mask.png")=>{if(e.value)return new Promise((a,l)=>{e.value.toBlob(async e=>{if(!e)return l(new Error("Не удалось получить Blob из canvas"));try{const l=(0,Ut.KR)(Yt,t);await(0,Ut.D)(l,e);const o=await(0,Ut.qk)(l);a(o)}catch(o){l(o)}},"image/png")})},c=e=>new Promise((t,a)=>{const l=new Image;l.crossOrigin="anonymous",l.onload=()=>t(l),l.onerror=()=>a(new Error(`Ошибка загрузки: ${e}`)),l.src=e}),d=()=>{l?.value&&a&&a("update:imageUrl",l.value),o.value=1,t()},u=()=>{o.value*=1.2,t()},p=()=>{1!==o.value&&(o.value/=1.2,t())};return{saveImage:i,loadImage:c,resetImage:d,zoomPlus:u,zoomMinus:p,zoom:o,saveToStorage:r,getCanvasSrc:s}}const Zt={class:"popover-item"};function ea(e,t){return(0,o.uX)(),(0,o.CE)("div",Zt,[(0,o.RG)(e.$slots,"default",{},void 0,!0)])}const ta={},aa=(0,h.A)(ta,[["render",ea],["__scopeId","data-v-903d1a32"]]);var la=aa;const oa={class:"popover-wrapper"};function sa(e,t){return(0,o.uX)(),(0,o.CE)("section",oa,[(0,o.RG)(e.$slots,"default",{},void 0,!0)])}const na={},ia=(0,h.A)(na,[["render",sa],["__scopeId","data-v-11bdd0bc"]]);var ra=ia;const ca={key:0,class:"popover-container"},da={ref:"popoverContentRef",class:"popover-content"};function ua(e,t,a,l,s,n){return(0,o.uX)(),(0,o.Wv)(o.Im,{to:"body"},[e.visible?((0,o.uX)(),(0,o.CE)("div",ca,[(0,o.Lk)("div",da,[(0,o.Lk)("section",{class:"popover-toggle-container",onClick:t[0]||(t[0]=(...t)=>e.toggle&&e.toggle(...t))},[...t[1]||(t[1]=[(0,o.Lk)("div",{class:"popover-toggle"},null,-1)])]),(0,o.RG)(e.$slots,"default",{},void 0,!0)],512)])):(0,o.Q3)("",!0)])}var pa=(0,o.pM)({props:{visible:{type:Boolean,default:!1}},emits:["update:visible"],setup(e,{emit:t}){const a=(0,n.KR)(null),l=e=>{const l=a.value,o=e.target;l&&!l.contains(o)&&t("update:visible",!1)},s=()=>{t("update:visible",!1)};return(0,o.sV)(()=>{document.addEventListener("click",l)}),(0,o.xo)(()=>{document.removeEventListener("click",l)}),{popoverContentRef:a,toggle:s}}});const ma=(0,h.A)(pa,[["render",ua],["__scopeId","data-v-9c6b8772"]]);var ga=ma;const va=["for"],ha=["aria-checked","aria-disabled","aria-readonly"],fa={key:0,class:"rc__label"},ba=["id","checked","disabled","readonly"];function ka(e,t,a,l,s,n){return(0,o.uX)(),(0,o.CE)("label",{class:(0,c.C4)(["rc",{"rc--checked":e.modelValue,"rc--indeterminate":e.indeterminate,"rc--disabled":e.disabled,"rc--error":e.error}]),style:(0,c.Tr)(e.styles),for:e.id||void 0},[(0,o.Lk)("span",{class:"rc__control",role:"checkbox","aria-checked":e.ariaChecked,"aria-disabled":e.disabled?"true":"false","aria-readonly":e.readonly?"true":"false",tabindex:"0",onKeydown:t[0]||(t[0]=(...t)=>e.onKeydown&&e.onKeydown(...t)),onFocus:t[1]||(t[1]=t=>e.$emit("focus")),onBlur:t[2]||(t[2]=t=>e.$emit("blur")),onClick:t[3]||(t[3]=(...t)=>e.toggle&&e.toggle(...t))},[...t[5]||(t[5]=[(0,o.Lk)("span",{class:"rc__ring"},null,-1),(0,o.Lk)("span",{class:"rc__fill"},null,-1),(0,o.Lk)("span",{class:"rc__mark"},null,-1)])],40,ha),e.label?((0,o.uX)(),(0,o.CE)("span",fa,(0,c.v_)(e.t(e.label)),1)):(0,o.Q3)("",!0),e.id?((0,o.uX)(),(0,o.CE)("input",{key:1,id:e.id,type:"checkbox",class:"rc__native",checked:e.modelValue,disabled:e.disabled,readonly:e.readonly,onChange:t[4]||(t[4]=(...t)=>e.toggle&&e.toggle(...t))},null,40,ba)):(0,o.Q3)("",!0)],14,va)}var ya=(0,o.pM)({props:{modelValue:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},label:{type:String,default:""},size:{type:Number,default:24},error:{type:Boolean,default:!1},id:{type:String,default:""}},emits:["update:modelValue","change","focus","blur"],setup(e,{emit:t}){const{t:a}=(0,r.s9)(),{modelValue:l,disabled:s,readonly:i,indeterminate:c,size:d}=(0,n.QW)(e),u=(0,o.EW)(()=>c.value?"mixed":l.value?"true":"false"),p=()=>{if(s.value||i.value)return;const e=!l.value;t("update:modelValue",e),t("change",e)},m=e=>{" "!==e.key&&"Enter"!==e.key||(e.preventDefault(),p())},g=(0,o.EW)(()=>({"--rc-size":`${d.value}px`}));return{toggle:p,onKeydown:m,ariaChecked:u,styles:g,t:a}}});const Ca=(0,h.A)(ya,[["render",ka],["__scopeId","data-v-49453e15"]]);var Ea=Ca;const Fa=e=>new Promise((t,a)=>{const l=new FileReader;l.onload=e=>t(e.target?.result),l.onerror=a,l.readAsDataURL(e)}),wa={ref:"modalRef",class:"modal-content neon"},Aa=["src"],Ia={class:"info-section"},La={class:"info-section-wrapper"},Da={class:"badge-wrapper"},Sa={key:0,class:"badge darkBadge"},Ba={key:1,class:"badge darkBadge"},_a={key:2,class:"badge darkBadge"},Ma={key:3,class:"badge darkBadge"},Ta={class:"actions"},xa={class:"btn"},Ra={class:"btn"};function Pa(e,t,a,l,s,n){const i=(0,o.g2)("app-modal-header"),r=(0,o.g2)("app-input"),d=(0,o.g2)("app-button");return(0,o.uX)(),(0,o.CE)("div",wa,[(0,o.bF)(i,{onClose:e.close},null,8,["onClose"]),(0,o.Lk)("img",{src:e.url,alt:""},null,8,Aa),(0,o.Lk)("section",Ia,[(0,o.Lk)("div",La,[(0,o.Lk)("div",Da,[e.folder?((0,o.uX)(),(0,o.CE)("span",Sa,(0,c.v_)(e.folder?.name),1)):(0,o.Q3)("",!0),e.coloristicType?((0,o.uX)(),(0,o.CE)("span",Ba,(0,c.v_)(e.t(e.coloristicType)),1)):(0,o.Q3)("",!0),e.maskType?((0,o.uX)(),(0,o.CE)("span",_a,(0,c.v_)(e.t(e.maskType)),1)):(0,o.Q3)("",!0),e.paletteType?((0,o.uX)(),(0,o.CE)("span",Ma,(0,c.v_)(e.getPaletteName()),1)):(0,o.Q3)("",!0)]),(0,o.bF)(r,{modelValue:e.signIn,"onUpdate:modelValue":t[0]||(t[0]=t=>e.signIn=t),icon:["fas","fa-pencil"],"is-label":!1,onFocus:e.focusInput,onBlur:e.focusOutInput},null,8,["modelValue","onFocus","onBlur"]),(0,o.Lk)("div",Ta,[(0,o.Lk)("div",xa,[(0,o.bF)(d,{severity:"info",title:"addFolder",onClick:e.openFolderModal},null,8,["onClick"])]),(0,o.Lk)("div",Ra,[(0,o.bF)(d,{loading:e.isSaveToGallery,severity:"warning",title:"saveToGallery",onClick:e.saveToGallery},null,8,["loading","onClick"])])])])])],512)}var Wa=a(9041);const Xa={class:"modal-header-section"},Ka={key:1,class:"modal-header-title"};function Oa(e,t,a,l,s,n){const i=(0,o.g2)("font-awesome-icon");return(0,o.uX)(),(0,o.CE)("section",Xa,[e.isMobile?((0,o.uX)(),(0,o.Wv)(i,{key:0,size:"lg",icon:["fas","arrow-left"],onClick:e.close},null,8,["onClick"])):(0,o.Q3)("",!0),e.title?((0,o.uX)(),(0,o.CE)("div",Ka,(0,c.v_)(e.title),1)):(0,o.Q3)("",!0),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",{key:2,class:"close",onClick:t[0]||(t[0]=(...t)=>e.close&&e.close(...t))},[(0,o.bF)(i,{size:"lg",icon:["fas","fa-times"]})]))])}var Ua=(0,o.pM)({props:{title:{type:String,default:""}},emits:["close"],setup(e,{emit:t}){const a=(0,i.Pj)(),l=(0,o.EW)(()=>"mobile"===a.getters["mobile/breakPoint"]),s=()=>{t("close")};return{isMobile:l,close:s}}});const Va=(0,h.A)(Ua,[["render",Oa],["__scopeId","data-v-3cc1b0b1"]]);var Ga=Va;const za={ref:"modalRef",class:"modal-content"},Qa={class:"folder-section"},Ha={class:"folder-section-create"},Na={class:"search"},ja={class:"folder-section-folders"},$a={class:"folder-section-actions"};function Ya(e,t,a,l,s,n){const i=(0,o.g2)("app-modal-header"),r=(0,o.g2)("app-loader"),c=(0,o.g2)("app-input"),d=(0,o.g2)("app-button"),u=(0,o.g2)("app-folder-card");return(0,o.uX)(),(0,o.CE)("div",za,[(0,o.bF)(i,{onClose:e.close},null,8,["onClose"]),(0,o.Lk)("section",Qa,[e.isLoading?((0,o.uX)(),(0,o.Wv)(r,{key:0})):(0,o.Q3)("",!0),(0,o.Lk)("div",Ha,[(0,o.Lk)("div",Na,[(0,o.bF)(c,{modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=t=>e.search=t),placeholder:"search",icon:["fas","search"],"is-label":!1,onFocus:e.focusInput,onBlur:e.focusOutInput},null,8,["modelValue","onFocus","onBlur"])]),(0,o.bF)(d,{icon:["fas","plus"],severity:"info",onClick:e.openCreateFolderModal},null,8,["onClick"])]),(0,o.Lk)("div",ja,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.folders,t=>((0,o.uX)(),(0,o.Wv)(u,{key:t.id,folder:t,"is-selected":e.selectedFolder?.id===t?.id,onSelected:e.selected},null,8,["folder","is-selected","onSelected"]))),128))]),(0,o.Lk)("div",$a,[(0,o.Lk)("div",{class:"btn",onClick:t[1]||(t[1]=(...t)=>e.choose&&e.choose(...t))},[(0,o.bF)(d,{disabled:!e.selectedFolder,title:"choose",severity:"warning"},null,8,["disabled"])])])])],512)}const qa={class:"folder-wrapper"},Ja=["src"],Za={class:"title"},el={class:"overlay-folder"};function tl(e,t,l,s,n,i){const r=(0,o.g2)("font-awesome-icon"),d=(0,o.g2)("app-overlay-panel");return(0,o.uX)(),(0,o.CE)("section",qa,[(0,o.Lk)("div",{ref:"targetRef",class:"icon",onClick:t[0]||(t[0]=(...t)=>e.toggleCardOverlayPanel&&e.toggleCardOverlayPanel(...t))},[(0,o.bF)(r,{size:"sm",icon:["fas","ellipsis-v"]})],512),(0,o.Lk)("div",{class:(0,c.C4)(["folder-card",{cardSelected:e.isSelected}]),onClick:t[5]||(t[5]=(...t)=>e.selected&&e.selected(...t))},[(0,o.Lk)("img",{loading:"lazy",class:(0,c.C4)({"fade-in":e.onLoad}),src:a(2823),alt:"Rainbow Folder",onLoad:t[1]||(t[1]=(...t)=>e.onLoad&&e.onLoad(...t))},null,42,Ja),(0,o.Lk)("div",Za,[(0,o.Lk)("span",null,(0,c.v_)(e.folder.name),1)]),e.targetRef?((0,o.uX)(),(0,o.Wv)(d,{key:0,visible:e.visible,"onUpdate:visible":t[4]||(t[4]=t=>e.visible=t),width:150,target:e.targetRef,position:{x:"right",y:"center"}},{default:(0,o.k6)(()=>[(0,o.Lk)("div",el,[(0,o.Lk)("div",{class:"overlay-folder-item",onClick:t[2]||(t[2]=(...t)=>e.openCreateFolderModal&&e.openCreateFolderModal(...t))},[(0,o.bF)(r,{size:"sm",icon:["fas","fa-pencil"]}),(0,o.Lk)("span",null,(0,c.v_)(e.t("edit")),1)]),(0,o.Lk)("div",{class:"overlay-folder-item",onClick:t[3]||(t[3]=(...t)=>e.deleteFolder&&e.deleteFolder(...t))},[(0,o.bF)(r,{size:"sm",icon:["fas","fa-trash"]}),(0,o.Lk)("span",null,(0,c.v_)(e.t("delete")),1)])])]),_:1},8,["visible","target"])):(0,o.Q3)("",!0)],2)])}const al={ref:"modalRef",class:"modal-content neon"},ll={class:"header"},ol={class:"input"},sl={class:"actions"},nl={class:"btn"};function il(e,t,a,l,s,n){const i=(0,o.g2)("app-input"),r=(0,o.g2)("app-button");return(0,o.uX)(),(0,o.CE)("div",al,[(0,o.Lk)("header",ll,[(0,o.Lk)("span",null,(0,c.v_)(e.t("newFolder")),1)]),(0,o.Lk)("div",ol,[(0,o.bF)(i,{modelValue:e.folderName,"onUpdate:modelValue":t[0]||(t[0]=t=>e.folderName=t),"is-focused":!0,"is-label":!1,placeholder:"nameFolder",onFocus:e.focusInput,onBlur:e.focusOutInput},null,8,["modelValue","onFocus","onBlur"])]),(0,o.Lk)("div",sl,[(0,o.Lk)("div",{class:"btn",onClick:t[1]||(t[1]=(...t)=>e.close&&e.close(...t))},[(0,o.bF)(r,{title:"cancel",severity:"error",onClick:e.close},null,8,["onClick"])]),(0,o.Lk)("div",nl,[(0,o.bF)(r,{disabled:!e.folderName,title:"ok",severity:"info",onClick:e.setName},null,8,["disabled","onClick"])])])],512)}var rl=a(2378),cl=a.n(rl),dl=(0,o.pM)({components:{AppButton:Kt,AppInput:Ie},props:{name:{type:String,default:""}},emits:["resolve","reject","close"],setup(e,{emit:t}){const{t:a}=(0,r.s9)(),l=(0,i.Pj)(),s=(0,n.KR)(e.name),c=(0,o.EW)(()=>l.getters["mobile/getDevice"]),d=()=>{t("close")},u=()=>{t("resolve",s.value)},p=()=>{"ios"===c.value&&cl().enable()},m=()=>{"ios"===c.value&&(cl().disable(),setTimeout(()=>window.scrollTo(0,0),50))};return{folderName:s,close:d,setName:u,t:a,focusInput:p,focusOutInput:m}}});const ul=(0,h.A)(dl,[["render",il],["__scopeId","data-v-70020937"]]);var pl=ul;const ml={ref:"modalRef",class:"modal-content neon"},gl={class:"header"},vl={class:"text"},hl={class:"actions"};function fl(e,t,a,l,s,n){const i=(0,o.g2)("app-button");return(0,o.uX)(),(0,o.CE)("div",ml,[(0,o.Lk)("header",gl,[(0,o.Lk)("span",null,(0,c.v_)(e.title),1)]),(0,o.Lk)("div",vl,[(0,o.Lk)("span",null,(0,c.v_)(e.text),1)]),(0,o.Lk)("div",hl,[(0,o.Lk)("div",{class:"btn",onClick:t[0]||(t[0]=(...t)=>e.close&&e.close(...t))},[(0,o.bF)(i,{title:"cancel",severity:"error"})]),(0,o.Lk)("div",{class:"btn",onClick:t[1]||(t[1]=(...t)=>e.ok&&e.ok(...t))},[(0,o.bF)(i,{title:"ok",severity:"info"})])])],512)}var bl=(0,o.pM)({components:{AppButton:Kt},props:{text:{type:String,default:""},title:{type:String,default:""}},emits:["resolve","reject","close"],setup(e,{emit:t}){const a=()=>{t("close")},l=()=>{t("resolve",!0)};return{close:a,ok:l}}});const kl=(0,h.A)(bl,[["render",fl],["__scopeId","data-v-e1dd9a42"]]);var yl=kl,Cl=(0,o.pM)({components:{AppOverlayPanel:We},props:{isSelected:{type:Boolean,default:!1},folder:{type:Object,required:!0}},emits:["selected"],setup(e,{emit:t}){const{t:a}=(0,r.s9)(),l=(0,i.Pj)(),o=(0,n.KR)(null),s=(0,n.KR)(!1),c=(0,n.KR)(!1),d=()=>{c.value=!0},u=()=>{t("selected",e.folder)},p=()=>{s.value=!s.value},m=async()=>{p(),await F(yl,{text:a("dywDelete"),title:a("delete")}).then(t=>{t&&l.dispatch("folder/deleteFolder",e.folder.id)})},g=async()=>{p(),await F(pl,{name:e.folder.name}).then(t=>{l.dispatch("folder/updateFolder",{id:e.folder.id,name:t})})};return{targetRef:o,toggleCardOverlayPanel:p,visible:s,selected:u,deleteFolder:m,openCreateFolderModal:g,onLoad:d,t:a}}});const El=(0,h.A)(Cl,[["render",tl],["__scopeId","data-v-fe7e2e90"]]);var Fl=El;function wl(e,t,a,l,s,n){return(0,o.uX)(),(0,o.CE)("div",{class:(0,c.C4)(["loader-container",{transparent:e.transparent}])},[...t[0]||(t[0]=[(0,o.Lk)("div",{class:"loader"},null,-1)])],2)}var Al=(0,o.pM)({props:{transparent:{type:Boolean,default:!1}}});const Il=(0,h.A)(Al,[["render",wl],["__scopeId","data-v-485c514e"]]);var Ll=Il,Dl=(0,o.pM)({components:{AppLoader:Ll,AppFolderCard:Fl,AppInput:Ie,AppButton:Kt,AppModalHeader:Ga},props:{folder:{type:Object,default:null}},emits:["resolve","reject","close"],setup(e,{emit:t}){const a=(0,i.Pj)(),l=(0,o.EW)(()=>a.getters["folder/getFilterFolders"]),s=(0,n.KR)(e.folder),r=(0,o.EW)(()=>a.getters["authFirebase/getUserId"]),c=(0,o.EW)(()=>a.getters["folder/isLoading"]),d=(0,n.KR)(""),u=(0,o.EW)(()=>a.getters["mobile/getDevice"]),p=e=>{s.value=e},m=()=>{t("close")};(0,o.sV)(()=>{a.dispatch("folder/getFolders",r.value)});const g=async()=>{await F(pl,{}).then(e=>{a.dispatch("folder/saveFolder",{userId:r.value,name:e})})},v=()=>{t("resolve",s.value)};(0,o.wB)(d,e=>{a.dispatch("folder/filterFolder",e)});const h=()=>{"ios"===u.value&&cl().enable()},f=()=>{"ios"===u.value&&(cl().disable(),setTimeout(()=>window.scrollTo(0,0),50))};return{close:m,folders:l,selected:p,selectedFolder:s,openCreateFolderModal:g,isLoading:c,choose:v,search:d,focusInput:h,focusOutInput:f}}});const Sl=(0,h.A)(Dl,[["render",Ya],["__scopeId","data-v-5c30b58a"]]);var Bl=Sl;const _l=new Map([["softSummerPalette","softSummerPaletteShort"],["darkAutumnPalette","darkAutumnPaletteShort"],["coolSummerPalette","coolSummerPaletteShort"],["lightSpringPalette","lightSpringPaletteShort"],["softAutumnPalette","softAutumnPaletteShort"],["brightSpringPalette","brightSpringPaletteShort"],["warmSpringPalette","warmSpringPaletteShort"],["darkWinterPalette","darkWinterPaletteShort"],["lightSummerPalette","lightSummerPaletteShort"],["warmAutumnPalette","warmAutumnPaletteShort"],["coldWinterPalette","coldWinterPaletteShort"],["brightWinterPalette","brightWinterPaletteShort"]]);var Ml=(0,o.pM)({components:{AppModalHeader:Ga,AppInput:Ie,AppButton:Kt},props:{url:Wa.Yj,coloristicType:{type:String,default:""},maskType:{type:String,default:""},paletteType:{type:String,default:""},canvas:HTMLCanvasElement,currentUserId:Wa.Yj,imageUrl:Wa.Yj},emits:["resolve","reject","close"],setup(e,{emit:t}){const{t:a}=(0,r.s9)(),l=(0,i.Pj)(),s=(0,n.KR)(""),c=(0,n.KR)(!1),d=(0,n.KR)(null),u=(0,o.EW)(()=>l.getters["mobile/getDevice"]),p=()=>{t("close")},m=async()=>{if(e.imageUrl){c.value=!0;try{await l.dispatch("gallery/saveImageToGallery",{canvas:e.canvas,title:s.value,coloristicType:e.coloristicType,maskType:e.maskType,paletteType:e.paletteType,userId:e.currentUserId,folderId:d.value?.id?d.value?.id:""}),t("close")}finally{c.value=!1}}else await l.dispatch("toast/addToast",{message:"uploadImage",severity:"warning"})},g=async()=>{await F(Bl,{},{transparent:!0}).then(e=>{d.value=e})},v=()=>{const t=_l.get(e.paletteType)||"";return a(t)},h=()=>{"ios"===u.value&&cl().enable()},f=()=>{"ios"===u.value&&(cl().disable(),setTimeout(()=>window.scrollTo(0,0),50))};return{close:p,signIn:s,saveToGallery:m,isSaveToGallery:c,openFolderModal:g,folder:d,t:a,getPaletteName:v,focusInput:h,focusOutInput:f}}});const Tl=(0,h.A)(Ml,[["render",Pa],["__scopeId","data-v-d7bd1f30"]]);var xl=Tl;const Rl={ref:"modalRef",class:"modal-content neon"},Pl={ref:"canvas"},Wl={class:"actions"};function Xl(e,t,a,s,n,i){const r=(0,o.g2)("app-modal-header"),c=(0,o.g2)("app-button"),d=(0,o.g2)("app-file-uploader");return(0,o.uX)(),(0,o.CE)("div",Rl,[(0,o.bF)(r,{onClose:e.close},null,8,["onClose"]),(0,o.Lk)("div",{ref:"wrap",class:"canvas-wrap",onPointerdown:t[0]||(t[0]=(...t)=>e.startPan&&e.startPan(...t)),onWheel:t[1]||(t[1]=(0,l.D$)((...t)=>e.onWheel&&e.onWheel(...t),["prevent"])),onPointermove:t[2]||(t[2]=(...t)=>e.onPointerMove&&e.onPointerMove(...t)),onPointerup:t[3]||(t[3]=(...t)=>e.endPan&&e.endPan(...t)),onPointercancel:t[4]||(t[4]=(...t)=>e.endPan&&e.endPan(...t)),onPointerleave:t[5]||(t[5]=(...t)=>e.endPan&&e.endPan(...t))},[(0,o.Lk)("canvas",Pl,null,512)],544),(0,o.Lk)("div",Wl,[(0,o.bF)(c,{severity:"secondary",raised:"",icon:["fas","undo"],onClick:e.reset},null,8,["onClick"]),(0,o.bF)(c,{severity:"secondary",raised:"",icon:["fas","plus"],onClick:e.zoomIn},null,8,["onClick"]),(0,o.bF)(c,{severity:"secondary",raised:"",icon:["fas","minus"],onClick:e.zoomOut},null,8,["onClick"]),(0,o.bF)(c,{severity:"secondary",raised:"",icon:["fas","share"],onClick:e.exportImage},null,8,["onClick"]),(0,o.bF)(d,{"is-show-sign":!1,"is-title":!1,onSelect:e.onFileSelected},null,8,["onSelect"])])],512)}a(4603),a(7566),a(8721);const Kl={class:"file-uploader"},Ol={key:0,class:"upload-btn-title"},Ul={key:0,class:"file-name"};function Vl(e,t,a,l,s,n){const i=(0,o.g2)("font-awesome-icon");return(0,o.uX)(),(0,o.CE)("div",Kl,[(0,o.Lk)("input",{ref:"fileInput",type:"file",accept:"image/*",class:"file-input",onChange:t[0]||(t[0]=(...t)=>e.onFileChange&&e.onFileChange(...t))},null,544),(0,o.Lk)("button",{type:"button",class:"upload-btn",onClick:t[1]||(t[1]=(...t)=>e.triggerInput&&e.triggerInput(...t))},[(0,o.bF)(i,{size:"lg",icon:["fas","file-upload"]}),e.isTitle?((0,o.uX)(),(0,o.CE)("span",Ol,(0,c.v_)(e.t("upload")),1)):(0,o.Q3)("",!0)]),e.fileName&&e.isShowSign?((0,o.uX)(),(0,o.CE)("div",Ul,(0,c.v_)(e.fileName),1)):(0,o.Q3)("",!0)])}var Gl=(0,o.pM)({name:"FileUploader",props:{isTitle:{type:Boolean,default:!0},isShowSign:{type:Boolean,default:!0}},emits:["select"],setup(e,{emit:t}){const{t:a}=(0,r.s9)(),l=(0,n.KR)(null),o=(0,n.KR)(""),s=()=>{l.value?.click()},i=e=>{const a=e.target,l=a.files?.[0];l&&(o.value=l.name,t("select",l)),a.value=""};return{fileInput:l,fileName:o,triggerInput:s,onFileChange:i,t:a}}});const zl=(0,h.A)(Gl,[["render",Vl],["__scopeId","data-v-1feaf254"]]);var Ql=zl,Hl=(0,o.pM)({components:{AppButton:Kt,AppModalHeader:Ga,AppFileUploader:Ql},props:{imageUrl:{type:String,required:!1,default:""}},emits:["resolve","reject","close"],setup(e,{emit:t}){const a=12;let l=360;const s=(0,n.KR)(e.imageUrl),i=(0,n.KR)(null),r=(0,n.KR)(null),c=(0,n.KR)(null),d=(0,n.KR)(null),u=(0,n.KR)(null);let p=0,m=0;const g=2,v=1.15;let h={x:0,y:0};const f=(0,n.KR)(e.imageUrl),b=(0,n.KR)(null),k=(0,n.KR)(null),y=(0,n.Kh)({scale:1,minScale:.5,maxScale:4,x:0,y:0,dragging:!1,lastPointer:null,pointers:new Map,naturalW:0,naturalH:0,_pinchStartDist:null,_pinchStartScale:null}),C=()=>{if(!c.value)return;const e=c.value.getBoundingClientRect();p=e.width,m=e.height;const t=Math.min(window.devicePixelRatio||1,g);c.value.width=Math.round(p*t),c.value.height=Math.round(m*t),c.value.style.width=`${p}px`,c.value.style.height=`${m}px`;const a=c.value.getContext("2d");a.setTransform(t,0,0,t,0,0),u.value=a},E=async e=>{const t=new Image;await new Promise((a,l)=>{t.onload=()=>a(),t.onerror=()=>l(new Error("Image load error")),t.src=e}),b.value=t,y.naturalW=t.naturalWidth,y.naturalH=t.naturalHeight,w(),A()},F=async e=>{if(!e)return;i.value=e;const t=URL.createObjectURL(e);s.value=t,await E(t),URL.revokeObjectURL(t)},w=()=>{if(!b.value)return;const e=b.value,t=l,a=t/e.naturalWidth,o=t/e.naturalHeight;y.scale=Math.max(a,o),y.minScale=y.scale,y.maxScale=4*y.scale,y.x=0,y.y=0,R()},A=()=>{const e=u.value;if(!e||!c.value)return;e.clearRect(0,0,p,m);const t=p/2,l=m/2,o=Math.min(p,m)/2-a;if(!b.value)return e.fillStyle="#efefef",e.fillRect(0,0,p,m),void I(e,o,t,l);const s=b.value,n=s.naturalWidth*y.scale,i=s.naturalHeight*y.scale,r=t-n/2+y.x,d=l-i/2+y.y;e.drawImage(s,r,d,n,i),e.save(),e.fillStyle="rgba(0,0,0,0.45)",e.beginPath(),e.rect(0,0,p,m),e.arc(t,l,o,0,2*Math.PI,!0),e.closePath();try{e.fill("evenodd")}catch{e.globalCompositeOperation="destination-out",e.beginPath(),e.arc(t,l,o,0,2*Math.PI),e.fill(),e.globalCompositeOperation="source-over"}e.restore(),I(e,o,t,l)},I=(e,t,a,l)=>{e.save(),e.strokeStyle="rgba(255,215,0,1)",e.lineWidth=2,e.beginPath(),e.arc(a,l,t,0,2*Math.PI),e.stroke(),e.restore()},L=e=>{d.value?.setPointerCapture(e.pointerId),y.pointers.set(e.pointerId,B(e)),1===y.pointers.size&&(y.dragging=!0,y.lastPointer=B(e))},D=e=>{if(b.value){if(y.pointers.has(e.pointerId)&&y.pointers.set(e.pointerId,B(e)),2===y.pointers.size){const e=Array.from(y.pointers.values()),t=_(e[0],e[1]);if(null==y._pinchStartDist)y._pinchStartDist=t,y._pinchStartScale=y.scale;else{const a=t/y._pinchStartDist;T(y._pinchStartScale*a,{x:(e[0].clientX+e[1].clientX)/2,y:(e[0].clientY+e[1].clientY)/2})}}else if(1===y.pointers.size&&y.dragging&&y.lastPointer){const e=y.pointers.values().next().value,t=e.clientX-y.lastPointer.clientX,a=e.clientY-y.lastPointer.clientY;M(t,a),y.lastPointer=B(e)}else if(y.dragging&&y.lastPointer){const t=e.clientX-y.lastPointer.clientX,a=e.clientY-y.lastPointer.clientY;M(t,a),y.lastPointer=B(e)}A()}},S=e=>{d.value?.releasePointerCapture?.(e.pointerId),y.pointers.delete(e.pointerId),y.pointers.size<2&&(y._pinchStartDist=null,y._pinchStartScale=null),0===y.pointers.size&&(y.dragging=!1,y.lastPointer=null),R(),A()},B=e=>({clientX:e.clientX,clientY:e.clientY,pointerId:e.pointerId}),_=(e,t)=>{const a=e.clientX-t.clientX,l=e.clientY-t.clientY;return Math.sqrt(a*a+l*l)},M=(e,t)=>{if(!c.value)return;const a=c.value.getBoundingClientRect(),o=l/a.width,s=l/a.height;y.x+=e*o,y.y+=t*s,R()},T=(e,t=null)=>{const a=y.scale;if(e=Math.max(y.minScale,Math.min(y.maxScale,e)),!t)return y.scale=e,void R();const o=c.value.getBoundingClientRect(),s=o.left+o.width/2,n=o.top+o.height/2,i=(t.x-s)*(l/o.width),r=(t.y-n)*(l/o.height);y.x=i+(y.x-i)*(e/a),y.y=r+(y.y-r)*(e/a),y.scale=e,R()},x=e=>{if(!b.value)return;const t=-e.deltaY,a=Math.exp(.0012*t);T(y.scale*a,{x:e.clientX,y:e.clientY}),A()},R=()=>{if(!b.value)return;const e=b.value,t=e.naturalWidth*y.scale,a=e.naturalHeight*y.scale,o=l/2,s=o*Math.SQRT2,n=s/2,i=-(t/2-n),r=t/2-n,c=-(a/2-n),d=a/2-n;y.x=i>r?0:Math.max(i,Math.min(r,y.x)),y.y=c>d?0:Math.max(c,Math.min(d,y.y))},P=async()=>{if(!b.value||!c.value)return Promise.resolve(null);const e=document.createElement("canvas");e.width=l,e.height=l;const a=e.getContext("2d"),o=l/2,s=l/2,n=b.value,r=n.naturalWidth*y.scale,d=n.naturalHeight*y.scale,u=o-r/2+y.x,p=s-d/2+y.y;a.clearRect(0,0,l,l),a.drawImage(n,u,p,r,d),a.globalCompositeOperation="destination-in",a.beginPath(),a.arc(o,s,l/2,0,2*Math.PI),a.closePath(),a.fill(),k.value=e.toDataURL("image/png");const m=await new Promise(t=>{e.toBlob(e=>t(e),"image/png")});if(!m)return null;const g=new File([m],"avatar.png",{type:"image/png",lastModified:Date.now()});t("resolve",{file:g,originalFile:i.value})},W=async()=>{if(i.value){const e=URL.createObjectURL(i.value);return await E(e),void URL.revokeObjectURL(e)}e.imageUrl&&await E(e.imageUrl)};let X=null,K=0,O=!1;const U=()=>{O||(O=!0,K=requestAnimationFrame(()=>{O=!1,A()}))};(0,o.sV)(()=>{C(),U(),X=new ResizeObserver(()=>{C(),U()}),c.value?.parentElement&&X.observe(c.value.parentElement),f.value&&E(f.value),window.addEventListener("orientationchange",()=>{C(),U()}),d.value?.addEventListener("pointerdown",e=>{d.value?.setPointerCapture?.(e.pointerId)})}),(0,o.xo)(()=>{X&&c.value?.parentElement&&X.unobserve(c.value.parentElement),X=null,cancelAnimationFrame(K),y.pointers.clear()});const V=()=>{z(),T(y.scale*v,{x:h.x,y:h.y}),A()},G=()=>{z(),T(y.scale/v,{x:h.x,y:h.y}),A()},z=()=>{if(!c.value)return;const e=c.value.getBoundingClientRect();h={x:e.left+e.width/2,y:e.top+e.height/2}},Q=()=>{t("close")};return{fileInput:r,canvas:c,wrap:d,image:f,imgObj:b,onFileSelected:F,reset:W,exportImage:P,startPan:L,onPointerMove:D,endPan:S,onWheel:x,zoomIn:V,zoomOut:G,close:Q}}});const Nl=(0,h.A)(Hl,[["render",Xl],["__scopeId","data-v-8b15a9c2"]]);var jl=Nl;const $l=410,Yl=320,ql=550,Jl=960,Zl=30,eo=20;var to=(0,o.pM)({components:{AppCheckbox:Ea,AppPopover:ga,AppPopoverWrapper:ra,AppPopoverItem:la,AppButton:Kt},emits:["update:imageUrl","isLoading"],setup(e,{emit:t}){const{t:a}=(0,r.s9)(),l=(0,n.KR)(!1),s=(0,i.Pj)(),c=(0,n.KR)(null),d=(0,n.KR)(null),u=(0,n.KR)(Jl),p=(0,n.KR)(ql),m=(0,n.KR)(1),g=(0,n.KR)(null),v=(0,o.EW)(()=>"mobile"===s.getters["mobile/breakPoint"]),h=(0,o.EW)(()=>s.getters["authFirebase/currentUser"]),f=(0,n.KR)(null),b=(0,n.KR)(),k=(0,n.KR)(!1),y=(0,n.KR)(s.getters["imageColor/shareImgMask"]),C=(0,n.KR)(s.getters["imageColor/rememberImgCollage"]);let E=!1;const w=(0,o.EW)(()=>s.getters["mobile/getDevice"]),A=async e=>{E=!1,f.value=await Fa(e),await s.dispatch("imageColor/uploadImgCollage",{file:e}),await I()},I=async()=>{if(!c.value)return;const e=c.value.getContext("2d"),t=window.devicePixelRatio||1;c.value.width=u.value*t,c.value.height=p.value*t,c.value.style.width=u.value+"px",c.value.style.height=p.value+"px",e.setTransform(1,0,0,1,0,0),e.scale(t,t),e.clearRect(0,0,u.value,p.value),f.value&&!E&&(d.value=await S(f.value),E=!0);const a=u.value===Yl,l=a?2:3,o=a?3:2,s=10,n=8,i=a?1.2*m.value:m.value,r=s*(l-1),g=(u.value-r)/l;let v=g/2*i-Zl;v<1&&(v=1);const h=n*(o-1),b=(p.value-h)/o;let k=0;for(let c=0;c<o;c++)for(let t=0;t<l;t++){const a=t*(g+s)+g/2,l=c*(b+n)+b/2,o=Ot[k%Ot.length];_(e,d.value,a,l,v,o.segments),k++}},{getCanvasSrc:L,saveImage:D,loadImage:S,zoom:B}=Jt(c,I,t,g),_=(e,t,a,l,o,s)=>{const n=u.value===Yl?eo:Zl;if(t){e.save(),e.beginPath(),e.arc(a,l,o,0,2*Math.PI),e.closePath(),e.clip();const s=Math.min(t.width,t.height),i=(t.width-s)/2,r=(t.height-s)/2,c=(2*o-2*n)*B.value;e.drawImage(t,i,r,s,s,a-c/2,l-c/2,c,c),e.restore()}const i=s.length,r=2*Math.PI/i;e.lineWidth=n;for(let c=0;c<i;c++){const t=c*r-Math.PI/2,i=(c+1)*r-Math.PI/2;e.beginPath(),e.strokeStyle=s[c].color,e.arc(a,l,o-n/2,t,i),e.stroke()}};(0,o.wB)(()=>s.getters["mobile/clientWidth"],e=>{e<600&&(u.value=Yl,p.value=$l),e>1024&&(u.value=Jl,p.value=ql),I()},{immediate:!0});const M=()=>{l.value=!0},T=async()=>{if(E){k.value=!0,l.value=!1,v.value&&t("isLoading",!0);try{await s.dispatch("gallery/saveImageToGallery",{canvas:c.value,title:"",coloristicType:"collage",maskType:"",userId:h.value?.uid,paletteType:""})}finally{k.value=!1,v.value&&t("isLoading",!1)}}else await s.dispatch("toast/addToast",{message:"uploadImage",severity:"warning"})};(0,o.wB)(()=>y.value,e=>{s.dispatch("imageColor/setShareImgMask",{share:e})}),(0,o.wB)(()=>C.value,e=>{s.dispatch("imageColor/setRememberImgCollage",{remember:e})}),(0,o.wB)(()=>s.getters["imageColor/imgMask"],e=>{s.getters["imageColor/shareImgCollage"]&&A(e)}),(0,o.sV)(()=>{if(I(),s.getters["imageColor/rememberImgCollage"]){const e=s.getters["imageColor/imgCollage"];e&&A(e)}"ios"===w.value&&cl().enable()});const x=async()=>{const e=L();await F(xl,{url:e,coloristicType:"collage",currentUserId:h.value?.uid,canvas:c.value,imageUrl:f.value})},R=async()=>{l.value=!1;const e=s.getters["imageColor/getOriginalImgCollage"];let t=null;e&&(t=await Fa(e)),await F(jl,{imageUrl:t}).then(e=>{e.originalFile&&s.dispatch("imageColor/setOriginalImgCollage",{file:e.originalFile}),s.dispatch("imageColor/uploadImgCollage",{file:e.file}),A(e.file)})};return{canvas:c,saveImage:D,isMobile:v,openPopover:M,visiblePopover:l,t:a,isSaveToGallery:k,saveToGallery:T,sharedWithMask:y,rememberChoose:C,onFileSelected:A,uploader:b,openImageModal:x,openImageSettingsModal:R}}});const ao=(0,h.A)(to,[["render",Bt],["__scopeId","data-v-7276607c"]]);var lo=ao;const oo={class:"color-wrapper"},so={class:"selected"},no={class:"editor"},io={key:0,class:"btn"},ro={key:1,class:"btn"},co={key:2,class:"btn"},uo={key:3,class:"btn"},po={key:4,class:"btn"},mo={key:5,class:"checkbox"},go={key:6,class:"checkbox"};function vo(e,t,a,s,n,i){const r=(0,o.g2)("app-color-card"),d=(0,o.g2)("app-editor-canvas"),u=(0,o.g2)("app-button"),p=(0,o.g2)("AppCheckbox"),m=(0,o.g2)("font-awesome-icon"),g=(0,o.g2)("app-popover-item"),v=(0,o.g2)("app-popover-wrapper"),h=(0,o.g2)("app-popover");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",oo,[(0,o.Lk)("section",so,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.cards,t=>((0,o.uX)(),(0,o.Wv)(r,{key:t.id,card:t,"is-selected":e.selectedCard?.id===t?.id,onSelected:e.selected},null,8,["card","is-selected","onSelected"]))),128))]),(0,o.Lk)("section",no,[(0,o.bF)(d,{ref:"editorCanvasRef","image-url":e.imageUrl,"onUpdate:imageUrl":t[0]||(t[0]=t=>e.imageUrl=t),segments:e.frameColors},null,8,["image-url","segments"])]),(0,o.Lk)("section",{class:(0,c.C4)(["buttons",{isMobile:e.isMobile}])},[e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",io,[(0,o.bF)(u,{raised:"",title:"pickPhoto",severity:"secondary",icon:["fas","sliders"],onClick:e.openImageSettingsModal},null,8,["onClick"])])),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",ro,[(0,o.bF)(u,{raised:"",icon:["fas","camera"],severity:"secondary",title:"takePhoto",onClick:e.openCameraModal},null,8,["onClick"])])),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",co,[(0,o.bF)(u,{severity:"success",title:"download",onClick:e.saveToDevice},null,8,["onClick"])])),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",uo,[(0,o.bF)(u,{severity:"warning",title:"saveToGallery",loading:e.isSaveToGallery,onClick:e.saveToGallery},null,8,["loading","onClick"])])),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",po,[(0,o.bF)(u,{severity:"info",title:"addSign",onClick:e.openImageModal},null,8,["onClick"])])),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",mo,[(0,o.bF)(p,{modelValue:e.sharedWithCollage,"onUpdate:modelValue":t[1]||(t[1]=t=>e.sharedWithCollage=t),label:"shareImageWithCollage"},null,8,["modelValue"])])),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",go,[(0,o.bF)(p,{modelValue:e.rememberChoose,"onUpdate:modelValue":t[2]||(t[2]=t=>e.rememberChoose=t),label:"rememberChoose"},null,8,["modelValue"])])),e.isMobile?((0,o.uX)(),(0,o.Wv)(m,{key:7,icon:["fas","ellipsis-h"],size:"lg",onClick:(0,l.D$)(e.openPopover,["stop"])},null,8,["onClick"])):(0,o.Q3)("",!0)],2)]),(0,o.bF)(h,{visible:e.visiblePopover,"onUpdate:visible":t[5]||(t[5]=t=>e.visiblePopover=t)},{default:(0,o.k6)(()=>[(0,o.bF)(v,null,{default:(0,o.k6)(()=>[(0,o.bF)(g,{onClick:e.openImageSettingsModal},{default:(0,o.k6)(()=>[(0,o.bF)(m,{size:"xl",icon:["fas","sliders"]}),(0,o.Lk)("span",null,(0,c.v_)(e.t("pickPhoto")),1)]),_:1},8,["onClick"]),(0,o.bF)(g,{onClick:e.openCameraModal},{default:(0,o.k6)(()=>[(0,o.bF)(m,{size:"xl",icon:["fas","camera"]}),(0,o.Lk)("span",null,(0,c.v_)(e.t("takePhoto")),1)]),_:1},8,["onClick"]),(0,o.bF)(g,{onClick:e.saveToDevice},{default:(0,o.k6)(()=>[(0,o.bF)(m,{size:"xl",icon:["fas","download"]}),(0,o.Lk)("span",null,(0,c.v_)(e.t("download")),1)]),_:1},8,["onClick"])]),_:1}),(0,o.bF)(v,null,{default:(0,o.k6)(()=>[(0,o.bF)(g,{onClick:e.saveToGallery},{default:(0,o.k6)(()=>[(0,o.bF)(m,{size:"xl",icon:["fas","images"]}),(0,o.Lk)("span",null,(0,c.v_)(e.t("saveToGallery")),1)]),_:1},8,["onClick"]),(0,o.bF)(g,{onClick:e.openImageModal},{default:(0,o.k6)(()=>[(0,o.bF)(m,{size:"xl",icon:["fas","fa-pencil-square"]}),(0,o.Lk)("span",null,(0,c.v_)(e.t("addSign")),1)]),_:1},8,["onClick"])]),_:1}),(0,o.bF)(v,null,{default:(0,o.k6)(()=>[(0,o.bF)(g,null,{default:(0,o.k6)(()=>[(0,o.bF)(p,{modelValue:e.sharedWithCollage,"onUpdate:modelValue":t[3]||(t[3]=t=>e.sharedWithCollage=t)},null,8,["modelValue"]),(0,o.Lk)("span",null,(0,c.v_)(e.t("shareImageWithCollage")),1)]),_:1}),(0,o.bF)(g,null,{default:(0,o.k6)(()=>[(0,o.bF)(p,{modelValue:e.rememberChoose,"onUpdate:modelValue":t[4]||(t[4]=t=>e.rememberChoose=t)},null,8,["modelValue"]),(0,o.Lk)("span",null,(0,c.v_)(e.t("rememberChoose")),1)]),_:1})]),_:1})]),_:1},8,["visible"])],64)}const ho={class:"card-number"},fo={class:"segments"};function bo(e,t,a,l,s,n){return(0,o.uX)(),(0,o.CE)("div",{class:(0,c.C4)(["card",{cardSelected:e.isSelected}]),onClick:t[0]||(t[0]=(...t)=>e.selected&&e.selected(...t))},[(0,o.Lk)("div",ho,(0,c.v_)(e.card.id),1),(0,o.Lk)("div",fo,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.card.segments,e=>((0,o.uX)(),(0,o.CE)("div",{key:e,class:"segment",style:(0,c.Tr)({backgroundColor:e.color})},null,4))),128))])],2)}var ko=(0,o.pM)({props:{card:{type:Object,required:!0},isSelected:{type:Boolean,default:!1}},emits:["selected"],setup(e,{emit:t}){const a=()=>{t("selected",e.card)};return{selected:a}}});const yo=(0,h.A)(ko,[["render",bo],["__scopeId","data-v-fdc7b896"]]);var Co=yo;const Eo=["width","height"];function Fo(e,t,a,l,s,n){return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.Lk)("canvas",{ref:"canvasRef",width:e.sizeRef,height:e.sizeRef},null,8,Eo)])}a(7588);var wo=(0,o.pM)({name:"AppEditorCanvas",props:{segments:{type:Array,required:!0},imageUrl:{type:[String,null],default:null}},emits:["update:imageUrl"],setup(e,{emit:t}){const a=(0,i.Pj)(),l=(0,n.KR)(null),s=(0,n.KR)(null),r=(0,n.KR)(null),c=(0,n.KR)(90),d=(0,n.KR)(480),u=(0,n.KR)(0),p=(0,n.KR)(null),m=(0,n.KR)(0),g=(0,n.KR)(0);let v=!1;const h=async()=>{if(!l.value)return;const t=l.value.getContext("2d");t.clearRect(0,0,d.value,d.value),e.imageUrl&&!v&&(s.value=await k(e.imageUrl),v=!0),w(t),A(t)},{getCanvasSrc:f,saveImage:b,loadImage:k,zoom:y}=Jt(l,h,t),C=()=>l.value,E=()=>f(),F=()=>{b()},w=e=>{const t=d.value/2,a=c.value,l=s.value;if(!l)return;e.save(),e.beginPath(),e.arc(t,t,t-a,0,2*Math.PI),e.closePath(),e.clip(),e.translate(t+(m.value??0),t+(g.value??0)),e.rotate(u.value*Math.PI/180);const o=d.value-2*a,n=Math.min(l.width,l.height),i=o*y.value;e.drawImage(l,(l.width-n)/2,(l.height-n)/2,n,n,-i/2,-i/2,i,i),e.restore()},A=t=>{const a=d.value/2,l=c.value,o=2*Math.PI/e.segments.length,s=p.value??-Math.PI/2;t.lineWidth=l,e.segments.forEach((e,n)=>{t.beginPath(),t.strokeStyle=e.color;const i=n*o+s,r=(n+1)*o+s;t.arc(a,a,a-l/2,i,r),t.stroke()})};return(0,o.sV)(h),(0,o.wB)(()=>e.imageUrl,e=>{e&&!r.value&&(r.value=e),e&&r.value&&(v=!1,y.value=1,r.value=e),h()}),(0,o.wB)(()=>a.getters["mobile/clientWidth"],e=>e<600?(c.value=58,d.value=340,void(0,o.dY)(()=>h())):e<1024?(c.value=70,d.value=400,void(0,o.dY)(()=>h())):e>1024?(c.value=90,d.value=520,void(0,o.dY)(()=>h())):void 0,{immediate:!0}),(0,o.wB)(()=>e.segments,()=>{(0,o.dY)(()=>h())}),{canvasRef:l,triggerSaveImage:F,sizeRef:d,getCanvasValue:C,getImageSrc:E}}});const Ao=(0,h.A)(wo,[["render",Fo]]);var Io=Ao;const Lo={class:"modal-content neon"},Do={class:"cards"},So={ref:"viewer",class:"cam-wrap"},Bo={ref:"video",autoplay:"",playsinline:"",muted:""},_o={ref:"overlay",class:"overlay"},Mo={key:2},To=["src"],xo={class:"btn"};function Ro(e,t,a,l,s,n){const i=(0,o.g2)("app-loader"),r=(0,o.g2)("app-color-card"),c=(0,o.g2)("app-overlay-panel"),d=(0,o.g2)("app-modal-header"),u=(0,o.g2)("AppShutterButton"),p=(0,o.g2)("font-awesome-icon");return(0,o.uX)(),(0,o.CE)("div",Lo,[e.isLoader?((0,o.uX)(),(0,o.Wv)(i,{key:0})):(0,o.Q3)("",!0),e.modalRef?((0,o.uX)(),(0,o.Wv)(c,{key:1,visible:e.visible,"onUpdate:visible":t[0]||(t[0]=t=>e.visible=t),width:e.isMobile?300:550,target:e.modalRef,position:{x:"left",y:"center"}},{default:(0,o.k6)(()=>[(0,o.Lk)("section",Do,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.cards,t=>((0,o.uX)(),(0,o.Wv)(r,{key:t.id,card:t,"is-selected":e.selectedCard?.id===t?.id,onSelected:e.selected},null,8,["card","is-selected","onSelected"]))),128))])]),_:1},8,["visible","width","target"])):(0,o.Q3)("",!0),(0,o.bF)(d,{onClose:e.close},null,8,["onClose"]),(0,o.Lk)("div",So,[(0,o.Lk)("video",Bo,null,512),(0,o.Lk)("canvas",_o,null,512)],512),e.isLoader?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("footer",Mo,[(0,o.Lk)("div",{class:"image",onClick:t[1]||(t[1]=(...t)=>e.goBackWithResult&&e.goBackWithResult(...t))},[e.photo?((0,o.uX)(),(0,o.CE)("img",{key:0,src:e.photo,alt:"photo"},null,8,To)):(0,o.Q3)("",!0)]),(0,o.Lk)("div",xo,[(0,o.bF)(u,{onCapture:e.takePhotoWithFrameMasked},null,8,["onCapture"])]),(0,o.Lk)("div",{ref:"modalRef",class:"settings",onClick:t[2]||(t[2]=(...t)=>e.openOverlayPanel&&e.openOverlayPanel(...t))},[(0,o.bF)(p,{size:"xl",icon:["fas","sliders"]})],512)]))])}function Po(e,t,a,s,n,i){return(0,o.uX)(),(0,o.CE)("button",{ref:"btn",class:(0,c.C4)(["shutter",{active:e.isActive,pressed:e.isPressed}]),"aria-label":"Сделать снимок",type:"button",onPointerdown:t[0]||(t[0]=(...t)=>e.onPointerDown&&e.onPointerDown(...t)),onPointerup:t[1]||(t[1]=(...t)=>e.onPointerUp&&e.onPointerUp(...t)),onPointercancel:t[2]||(t[2]=(...t)=>e.onPointerCancel&&e.onPointerCancel(...t)),onPointerleave:t[3]||(t[3]=(...t)=>e.onPointerCancel&&e.onPointerCancel(...t)),onClick:t[4]||(t[4]=(...t)=>e.emitCapture&&e.emitCapture(...t)),onKeydown:[t[5]||(t[5]=(0,l.jR)((0,l.D$)((...t)=>e.onKeyPress&&e.onKeyPress(...t),["prevent"]),["space"])),t[6]||(t[6]=(0,l.jR)((0,l.D$)((...t)=>e.onKeyPress&&e.onKeyPress(...t),["prevent"]),["enter"]))]},[t[7]||(t[7]=(0,o.Lk)("span",{class:"ring","aria-hidden":"true"},null,-1)),t[8]||(t[8]=(0,o.Lk)("span",{class:"inner","aria-hidden":"true"},null,-1)),e.ripple.visible?((0,o.uX)(),(0,o.CE)("span",{key:0,class:"ripple",style:(0,c.Tr)(e.ripple.style)},null,4)):(0,o.Q3)("",!0)],34)}var Wo=(0,o.pM)({emits:["capture"],setup(e,{emit:t}){const a=(0,n.KR)(null),l=(0,n.KR)(!1),s=(0,n.KR)(!1),i=(0,n.KR)({visible:!1,style:{}}),r=()=>{t("capture"),c()},c=()=>{a.value&&(l.value=!0,setTimeout(()=>l.value=!1,120))},d=()=>{s.value=!0,g()},u=()=>{s.value=!1},p=()=>{s.value=!1},m=()=>{s.value=!0,setTimeout(()=>s.value=!1,150),r()},g=()=>{const e=a.value;if(!e)return;const t=e.getBoundingClientRect(),l=t.width/2,s=t.height/2,n=1.6*Math.max(t.width,t.height);i.value.style={width:`${n}px`,height:`${n}px`,left:l-n/2+"px",top:s-n/2+"px",transform:"scale(0.1)",opacity:"0.28"},i.value.visible=!0,(0,o.dY)(()=>{requestAnimationFrame(()=>{i.value.style={...i.value.style,transition:"transform 420ms cubic-bezier(.2,.9,.2,1), opacity 420ms linear",transform:"scale(1)",opacity:"0"},setTimeout(()=>{i.value.visible=!1,i.value.style={}},450)})})};return{btn:a,isActive:l,isPressed:s,ripple:i,onPointerDown:d,onPointerUp:u,onPointerCancel:p,onKeyPress:m,emitCapture:r}}});const Xo=(0,h.A)(Wo,[["render",Po],["__scopeId","data-v-d104a512"]]);var Ko=Xo,Oo=(0,o.pM)({components:{AppLoader:Ll,AppOverlayPanel:We,AppShutterButton:Ko,AppColorCard:Co,AppModalHeader:Ga},emits:["resolve","reject","close"],setup(e,{emit:t}){const a=(0,i.Pj)(),l=(0,o.EW)(()=>"mobile"===a.getters["mobile/breakPoint"]),s=Ot,r=(0,n.KR)(null),c=(0,n.KR)(null),d=(0,n.KR)(null),u=(0,n.KR)(null),p=(0,n.KR)(null),m=(0,n.KR)(null),g=(0,n.KR)(null),v=(0,n.KR)(null),h=(0,n.KR)(!1),f=(0,n.KR)(null),b=(0,n.KR)(),k=(0,n.KR)(!1);(0,o.KC)(()=>{const[e]=s;f.value=e,b.value=e.segments}),(0,o.sV)(()=>{E()}),(0,o.xo)(()=>{p.value&&(p.value.getTracks().forEach(e=>e.stop()),p.value=null)});const y=()=>{t("close")},C=()=>{const e=c.value;if(!e)return;const t=e.getBoundingClientRect(),a=t.width,o=t.height,s=window.devicePixelRatio||1,n=Math.round(a*s),i=Math.round(o*s);e.width===n&&e.height===i||(e.width=n,e.height=i);const r=e.getContext("2d");if(!r)return;r.setTransform(s,0,0,s,0,0),r.clearRect(0,0,a,o);const d=Math.max(6,Math.round(.02*Math.min(a,o))),u=l.value?65:80,p=2,m=a/2,g=o/2,v=Math.max(10,Math.min(a,o)/2-d-u/p),h=b.value.length,f=2*Math.PI/h,k=-Math.PI/2;r.save(),r.lineWidth=u,r.lineCap="butt";for(let l=0;l<h;l++){const e=l*f+k,t=(l+1)*f+k;r.beginPath(),r.strokeStyle=b.value[l].color,r.arc(m,g,v,e,t,!1),r.stroke()}r.restore()},E=async()=>{k.value=!0;try{if(p.value=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}),!r.value)return;r.value.srcObject=p.value,await new Promise(e=>{const t=()=>{r.value?.removeEventListener("loadedmetadata",t),e()};r.value?.addEventListener("loadedmetadata",t)}),await r.value.play(),k.value=!1,C()}catch(e){console.error("Camera error",e),k.value=!1}},F=async()=>{const e=r.value,t=l.value?320:520;if(!e||!e.videoWidth||!e.videoHeight)return;const a=document.createElement("canvas"),o=window.devicePixelRatio||1;a.width=Math.round(t*o),a.height=Math.round(t*o),a.style.width=`${t}px`,a.style.height=`${t}px`;const s=a.getContext("2d");s.setTransform(o,0,0,o,0,0),s.clearRect(0,0,t,t);const n=e.videoWidth,i=e.videoHeight,c=n/i,d=1;let p=0,g=0,v=n,h=i;c>d?(h=i,v=Math.round(h*d),p=Math.round(.5*(n-v)),g=0):(v=n,h=Math.round(v/d),p=0,g=Math.round(.5*(i-h)));const f=(l.value,1.6),b=0,k=0,y=Math.max(1,Math.round(v/f)),C=Math.max(1,Math.round(h/f)),E=p+v/2+b*(v/2),F=g+h/2+k*(h/2);p=Math.round(E-y/2),g=Math.round(F-C/2),p=Math.max(0,Math.min(n-y,p)),g=Math.max(0,Math.min(i-C,g)),v=y,h=C,s.imageSmoothingEnabled=!0,s.drawImage(e,p,g,v,h,0,0,t,t),m.value=a.toDataURL("image/png"),u.value=a},w=e=>{f.value=e,b.value=e.segments,C()},A=async()=>{const e=await new Promise(e=>{u.value&&u.value.toBlob(t=>e(t),"image/png")});if(!e)return null;const a=new File([e],"avatar.png",{type:"image/png",lastModified:Date.now()});t("resolve",{file:a,selectedCard:f.value})},I=()=>{h.value=!0};return{video:r,canvas:d,viewer:g,photo:m,overlay:c,takePhotoWithFrameMasked:F,cards:s,selectedCard:f,selected:w,goBackWithResult:A,close:y,modalRef:v,visible:h,openOverlayPanel:I,isMobile:l,isLoader:k}}});const Uo=(0,h.A)(Oo,[["render",Ro],["__scopeId","data-v-5540291c"]]);var Vo=Uo,Go=(0,o.pM)({components:{AppCheckbox:Ea,AppPopoverItem:la,AppPopoverWrapper:ra,AppPopover:ga,AppButton:Kt,AppEditorCanvas:Io,AppColorCard:Co},emits:["fileOnLoad","isLoading"],setup(e,{emit:t}){const a=(0,n.KR)(null),{t:l}=(0,r.s9)(),s=(0,n.KR)(),c=(0,i.Pj)(),d=(0,n.KR)(!1),u=Ot,p=(0,n.KR)(null),m=(0,n.KR)(),g=(0,n.KR)(null),v=(0,n.KR)(!1),h=(0,n.KR)(c.getters["imageColor/shareImgCollage"]),f=(0,n.KR)(c.getters["imageColor/rememberImgMask"]),b=(0,o.EW)(()=>c.getters["imageColor/imgCollage"]),k=(0,o.EW)(()=>c.getters["imageColor/imgMask"]),y=(0,o.EW)(()=>c.getters["imageColor/getOriginalImgMask"]),C=(0,o.EW)(()=>c.getters["authFirebase/currentUser"]),E=(0,o.EW)(()=>"mobile"===c.getters["mobile/breakPoint"]);(0,o.KC)(()=>{const[e]=u;p.value=e,m.value=e.segments}),(0,o.sV)(()=>{if(h.value){const e=k.value;e&&w(e)}});const w=async e=>{g.value=await Fa(e),await c.dispatch("imageColor/uploadImgMask",{file:e})},A=async()=>{if(g.value){v.value=!0,d.value=!1,E.value&&t("isLoading",!0);try{await c.dispatch("gallery/saveImageToGallery",{canvas:a.value?.getCanvasValue(),title:"",coloristicType:"mask",maskType:p.value?.type,userId:C.value?.uid,paletteType:""})}finally{v.value=!1,E.value&&t("isLoading",!1)}}else await c.dispatch("toast/addToast",{message:"uploadImage",severity:"warning"})},I=e=>{p.value=e,m.value=e.segments},L=()=>{d.value=!0},D=async()=>{const e=a.value?.getImageSrc();await F(xl,{url:e,coloristicType:"mask",maskType:p.value?.type,currentUserId:C.value?.uid,canvas:a.value?.getCanvasValue(),imageUrl:g.value})},S=async()=>{d.value=!1;const e=y.value;let t=null;e&&(t=await Fa(e)),await F(jl,{imageUrl:t}).then(e=>{e.originalFile&&c.dispatch("imageColor/setOriginalImgMask",{file:e.originalFile}),c.dispatch("imageColor/uploadImgMask",{file:e.file}),w(e.file)})};(0,o.wB)(h,e=>{c.dispatch("imageColor/setShareImgCollage",{share:e})}),(0,o.wB)(f,e=>{c.dispatch("imageColor/setRememberImgMask",{remember:e})}),(0,o.wB)(b,async e=>{c.getters["imageColor/shareImgMask"]&&(g.value=await Fa(e))});const B=()=>{a.value?.triggerSaveImage()},_=async()=>{await F(Vo,{}).then(e=>{c.dispatch("imageColor/uploadImgMask",{file:e.file}),w(e.file),I(e.selectedCard)})};return{frameColors:m,imageUrl:g,onFileSelected:w,cards:u,selected:I,selectedCard:p,visiblePopover:d,isMobile:E,openPopover:L,uploader:s,t:l,saveToGallery:A,isSaveToGallery:v,editorCanvasRef:a,sharedWithCollage:h,rememberChoose:f,openImageModal:D,openImageSettingsModal:S,saveToDevice:B,openCameraModal:_}}});const zo=(0,h.A)(Go,[["render",vo],["__scopeId","data-v-5d7a11b6"]]);var Qo=zo,Ho=(0,o.pM)({components:{AppLoader:Ll,AppColorMask:Qo,AppCollage:lo,AppTab:Et,AppTabs:bt},setup(){const e=(0,n.KR)(null),t=(0,n.KR)(!1),a=t=>{e.value=t};return{imageUrl:e,fileOnLoad:a,isLoading:t}}});const No=(0,h.A)(Ho,[["render",dt],["__scopeId","data-v-5e94e736"]]);var jo=No;const $o={namespaced:!0,state:()=>({toasts:[],counter:0}),mutations:{ADD_TOAST(e,t){const a=e.counter++;e.toasts.push({id:a,...t}),setTimeout(()=>{const t=e.toasts.findIndex(e=>e.id===a);-1!==t&&e.toasts.splice(t,1)},t.duration)},DELETE_TOAST(e,t){const a=e.toasts.findIndex(e=>e.id===t);-1!==a&&e.toasts.splice(a,1)}},actions:{addToast({commit:e},t){e("ADD_TOAST",{message:t.message,severity:t.severity||"info",duration:t.duration||4e3})},deleteToast({commit:e},t){e("DELETE_TOAST",t.id)}},getters:{getToasts(e){return e.toasts}}},Yo={namespaced:!0,state:()=>({theme:"light",isDark:!1}),mutations:{INIT_THEME(e){let t=localStorage.getItem("theme");t&&(e.theme=t,e.isDark="dark"===t,document.documentElement.classList.toggle("dark",e.isDark))},SET_THEME(e,t){e.theme=t?"dark":"light",e.isDark=t,document.documentElement.classList.toggle("dark",t),localStorage.setItem("theme",e.theme)}},actions:{initTheme({commit:e}){e("INIT_THEME")},setTheme({commit:e},t){e("SET_THEME",t)}},getters:{isDark(e){return e.isDark}}},qo={namespaced:!0,state:()=>({language:"en"}),mutations:{INIT_LANGUAGE(e){let t=localStorage.getItem("language");t&&(e.language=t)},SET_LANGUAGE(e,t){e.language=t.language,localStorage.setItem("language",t.language)}},actions:{initLanguage({commit:e}){e("INIT_LANGUAGE")},setLanguage({commit:e},t){e("SET_LANGUAGE",t)}},getters:{language(e){return e.language}}},Jo={"auth/invalid-credential":"incorrectLoginPassword","auth/user-not-found":"userNotFound","auth/email-already-in-use":"emailExists"},Zo={namespaced:!0,state:()=>({user:null,loading:!1}),getters:{isAuthenticated:e=>{const t=localStorage.getItem("user"),a=t?JSON.parse(t):null;return!!e.user||!!a},currentUser:e=>e.user,isLoading:e=>e.loading,getUserId:()=>{const e=localStorage.getItem("user");return e?JSON.parse(e).uid:null}},mutations:{setUser(e,t){e.user=t,localStorage.setItem("user",JSON.stringify(t))},setLoading(e,t){e.loading=t}},actions:{async register({commit:e,dispatch:t},a){e("setLoading",!0);try{const l=await(0,Gt.eJ)(jt,a.email,a.password),o=(0,zt.rJ)($t,"users","Asbe4RDbnbYilRIWtx4F","items");await(0,zt.gS)(o,{userId:l.user.uid,firstName:a.firstName,lastName:a.lastName,birthDate:a.birthDate,email:a.email,role:a.role,createdAt:(0,zt.O5)()}),e("setUser",l.user),t("toast/addToast",{message:"Регистрация прошла успешно!",severity:"success",duration:3e3},{root:!0})}catch(l){const e=l;throw t("toast/addToast",{message:e.code?Jo[e.code]:"unknownError",severity:"error",duration:3e3},{root:!0}),l}finally{e("setLoading",!1)}},async login({commit:e,dispatch:t},{email:a,password:l}){e("setLoading",!0);try{const t=await(0,Gt.x9)(jt,a,l);e("setUser",t.user)}catch(o){const a=o;throw t("toast/addToast",{message:a.code?Jo[a.code]:"unknownError",severity:"error",duration:3e3},{root:!0}),e("setLoading",!1),o}finally{e("setLoading",!1)}},async logout({commit:e}){await(0,Gt.CI)(jt),e("setUser",null)}}},es={namespaced:!0,state:()=>({clientWidth:0,breakPoint:"desktop",device:"desktop"}),mutations:{SET_CLIENT_WIDTH(e,t){e.clientWidth=t.clientWidth,t.clientWidth<600&&(e.breakPoint="mobile"),t.clientWidth>600&&t.clientWidth<1024&&(e.breakPoint="tablet"),t.clientWidth>1024&&t.clientWidth<1440&&(e.breakPoint="desktop"),t.clientWidth>1440&&(e.breakPoint="fullScreen")},SET_DEVICE(e,t){e.device=t.device}},actions:{setClientWidth({commit:e},t){e("SET_CLIENT_WIDTH",t)},setDevice({commit:e},t){e("SET_DEVICE",t)}},getters:{clientWidth(e){return e.clientWidth},breakPoint(e){return e.breakPoint},getDevice(e){return e.device}}},ts={namespaced:!0,state:()=>({isOpen:!1}),mutations:{SET_BURGER(e,t){e.isOpen=t.isOpen}},actions:{setBurger({commit:e},t){e("SET_BURGER",t)}},getters:{isOpen(e){return e.isOpen}}},as={namespaced:!0,state:()=>({rememberImgMask:!0,rememberImgCollage:!0,shareImgMask:!0,shareImgCollage:!0,imgMask:null,imgCollage:null,originalImgMask:null,originalImgCollage:null}),mutations:{UPLOAD_IMG_MASK(e,t){e.imgMask=t.file},SET_ORIGINAL_IMG_MASK(e,t){e.originalImgMask=t.file},UPLOAD_IMG_COLLAGE(e,t){e.imgCollage=t.file},SET_ORIGINAL_IMG_COLLAGE(e,t){e.originalImgCollage=t.file},SET_REMEMBER_IMG_MASK(e,t){e.rememberImgMask=t.remember},SET_REMEMBER_IMG_COLLAGE(e,t){e.rememberImgCollage=t.remember},SET_SHARE_IMG_COLLAGE(e,t){e.shareImgCollage=t.share},SET_SHARE_IMG_MASK(e,t){e.shareImgMask=t.share}},actions:{uploadImgMask({commit:e},t){e("UPLOAD_IMG_MASK",t)},setOriginalImgMask({commit:e},t){e("SET_ORIGINAL_IMG_MASK",t)},uploadImgCollage({commit:e},t){e("UPLOAD_IMG_COLLAGE",t)},setOriginalImgCollage({commit:e},t){e("SET_ORIGINAL_IMG_COLLAGE",t)},setRememberImgCollage({commit:e},t){e("SET_REMEMBER_IMG_COLLAGE",t)},setRememberImgMask({commit:e},t){e("SET_REMEMBER_IMG_MASK",t)},setShareImgCollage({commit:e},t){e("SET_SHARE_IMG_COLLAGE",t)},setShareImgMask({commit:e},t){e("SET_SHARE_IMG_MASK",t)}},getters:{rememberImgMask(e){return e.rememberImgMask},rememberImgCollage(e){return e.rememberImgCollage},shareImgMask(e){return e.shareImgMask},shareImgCollage(e){return e.shareImgCollage},imgMask(e){return e.imgMask},imgCollage(e){return e.imgCollage},getOriginalImgMask(e){return e.originalImgMask},getOriginalImgCollage(e){return e.originalImgCollage}}};a(1701),a(7642),a(8004),a(3853),a(5876),a(2475),a(5024),a(1698);function ls(e){const t=[],a=e.toLowerCase().split(/\s+/);for(const l of a){for(let e=1;e<=l.length;e++)t.push(l.substring(0,e));for(let e=0;e<l.length;e++)t.push(l[e])}return t}const os={namespaced:!0,state:()=>({images:[],isLoading:!1,lastDoc:null,totalImages:0,filter:null,isSelectedMode:!1,selectedImages:new Map}),mutations:{SET_IMAGES(e,t){e.images=[...e.images,...t.items],e.lastDoc=t.lastDoc,e.totalImages=t.totalImages},RESET_IMAGES(e){e.images=[],e.lastDoc=null,e.totalImages=0},SET_LOADING(e,t){e.isLoading=t},SET_FILTER(e,t){e.filter=t},UPDATE_IMAGE(e,t){const a=e.images.findIndex(e=>e.id===t.id);-1!==a&&(e.images[a]={...e.images[a],...t})},DELETE_IMAGE(e,t){e.images=e.images.filter(e=>e.id!==t),e.totalImages=Math.max(0,e.totalImages-1)},DELETE_IMAGES(e,t){const a=new Set(t);e.images=e.images.filter(e=>!a.has(e.id)),e.totalImages=Math.max(0,e.totalImages-t.length);const l=e.selectedImages;t.forEach(e=>l.delete(e)),e.selectedImages=l},SET_SELECTED_MODE(e,t){e.isSelectedMode=t},SET_SELECTED(e,t){const a=e.selectedImages;a.has(t.id)?a.delete(t.id):a.set(t.id,t),e.selectedImages=a},SET_SELECTED_ALL(e,t){const a=e.selectedImages;t.forEach(e=>a.set(e.id,e)),e.selectedImages=a},CLEAR_SELECTED(e){e.selectedImages=new Map}},actions:{async saveImageToGallery({dispatch:e},{canvas:t,path:a=`avatar/${Date.now()}.png`,title:l="",paletteType:o,coloristicType:s,maskType:n,userId:i,folderId:r="",deprecated:c=!1}){return new Promise((d,u)=>{t.toBlob(async t=>{if(!t)return u(new Error("Не удалось получить Blob из canvas"));try{const u=(0,Ut.KR)(Yt,a);await(0,Ut.D)(u,t);const p=await(0,Ut.qk)(u);await(0,zt.gS)((0,zt.rJ)($t,"gallery","NoUcXcCCYhRoogXFHJfV","items"),{userId:i,url:p,title:l,coloristicType:s,paletteType:o,maskType:n,folderId:r,createdAt:(0,zt.O5)(),deprecated:c,tokens:ls(l)}),await e("toast/addToast",{message:"successImage",severity:"success"},{root:!0}),d(p)}catch(p){const t=p;await e("toast/addToast",{message:t.code?Jo[t.code]:"unknownError",severity:"error"},{root:!0}),u(p)}},"image/png")})},async initUserGalleryItems({dispatch:e,commit:t,rootGetters:a},{userId:l,options:o={},reset:s=!1}){t("SET_LOADING",!0);try{s&&t("RESET_IMAGES");const{paletteType:e,maskType:n,coloristicType:i,title:r,pageSize:c=20,lastDoc:d,folderId:u}=o,p=(0,zt.rJ)($t,"gallery","NoUcXcCCYhRoogXFHJfV","items"),m=[(0,zt._M)("userId","==",l)],g=[(0,zt._M)("userId","==",l)];i&&(m.push((0,zt._M)("coloristicType","==",i)),g.push((0,zt._M)("coloristicType","==",i))),n&&(m.push((0,zt._M)("maskType","==",n)),g.push((0,zt._M)("maskType","==",n))),e&&(m.push((0,zt._M)("paletteType","==",e)),g.push((0,zt._M)("paletteType","==",e))),u&&(m.push((0,zt._M)("folderId","==",u)),g.push((0,zt._M)("folderId","==",u))),r&&(m.push((0,zt._M)("tokens","array-contains",r.toLowerCase())),g.push((0,zt._M)("tokens","array-contains",r.toLowerCase()))),m.push((0,zt.My)("createdAt","desc")),d&&m.push((0,zt.HM)(d)),m.push((0,zt.AB)(c));const v=(0,zt.P)(p,...m),h=(0,zt.P)(p,...g),f=await(0,zt.d_)(h),b=await(0,zt.GG)(v),k=b.docs.map(e=>{const t=e.data();return{id:e.id,src:t.url,title:t.title,coloristicType:t.coloristicType,maskType:t.maskType,paletteType:t.paletteType,folder:a["folder/getFolderById"](t.folderId)}});t("SET_IMAGES",{items:k,lastDoc:b.docs.length>0?b.docs[b.docs.length-1]:null,totalImages:f.data().count})}catch(n){console.error(n);const t=n;await e("toast/addToast",{message:t.code?Jo[t.code]:"unknownError",severity:"error"},{root:!0})}finally{t("SET_LOADING",!1)}},async updateImageInGallery({dispatch:e,commit:t},a){try{const l=(0,zt.H9)($t,"gallery","NoUcXcCCYhRoogXFHJfV","items",a.id);await(0,zt.mZ)(l,{...a,updatedAt:new Date,tokens:a?.title?ls(a.title):[]}),t("UPDATE_IMAGE",a),await e("toast/addToast",{message:"successUpdateImage",severity:"success"},{root:!0})}catch(l){const t=l;throw await e("toast/addToast",{message:t.code?Jo[t.code]:"unknownError",severity:"error"},{root:!0}),l}},async deleteImageFromGallery({dispatch:e,commit:t},{id:a}){try{const l=(0,zt.H9)($t,"gallery","NoUcXcCCYhRoogXFHJfV","items",a);await(0,zt.kd)(l),t("DELETE_IMAGE",a),await e("toast/addToast",{message:"successDeleteImage",severity:"success"},{root:!0})}catch(l){const t=l;throw await e("toast/addToast",{message:t.code?Jo[t.code]:"unknownError",severity:"error"},{root:!0}),l}},async deleteImagesFromGallery({dispatch:e,commit:t},a){try{await Promise.all(a.map(e=>{const t=(0,zt.H9)($t,"gallery","NoUcXcCCYhRoogXFHJfV","items",e);return(0,zt.kd)(t)})),t("DELETE_IMAGES",a),await e("toast/addToast",{message:"successDeleteImages",severity:"success"},{root:!0})}catch(l){const t=l;throw await e("toast/addToast",{message:t.code?Jo[t.code]:"unknownError",severity:"error"},{root:!0}),l}},setFilter(e,t){e.commit("SET_FILTER",t)},setSelectedMode(e,t){e.commit("SET_SELECTED_MODE",t)},setSelected(e,t){e.commit("SET_SELECTED",t)},setSelectedAll(e,t){e.commit("SET_SELECTED_ALL",t)},clearSelected(e){e.commit("CLEAR_SELECTED")}},getters:{getImages(e){return e.images},getTotalImages(e){return e.totalImages},getLastDoc(e){return e.lastDoc},isLoading(e){return e.isLoading},getFilter(e){return e.filter},getSelectedMode(e){return e.isSelectedMode},getSelected(e){return[...e.selectedImages.values()]},isSelected:e=>t=>e.selectedImages.has(t)}},ss={namespaced:!0,state:()=>({items:[],filterItems:[],isLoading:!1}),mutations:{SET_FOLDERS(e,t){e.items=t,e.filterItems=t},ADD_FOLDERS(e,t){e.items.push(t)},SET_LOADING(e,t){e.isLoading=t},REMOVE_FOLDER(e,t){e.items=e.items.filter(e=>e.id!==t),e.filterItems=e.items},UPDATE_FOLDER(e,t){const a=e.items.findIndex(e=>e.id===t.id);-1!==a&&(e.items[a]={...e.items[a],...t},e.filterItems[a]={...e.items[a],...t})},FILTER_FOLDER(e,t){e.filterItems=t?e.items.filter(e=>e.name.toLowerCase().trim().includes(t.toLowerCase().trim())):e.items}},actions:{async saveFolder({dispatch:e,commit:t},{userId:a,name:l}){t("SET_LOADING",!0);try{const o=(0,zt.rJ)($t,"folder","bCxB7W5QIQZQAOSBcbfa","items"),s=await(0,zt.gS)(o,{userId:a,name:l,createdAt:(0,zt.O5)()});t("ADD_FOLDERS",{id:s.id,userId:a,name:l,createdAt:(0,zt.O5)()}),await e("toast/addToast",{message:"successFolderCreate",severity:"success"},{root:!0})}catch(o){const t=o;await e("toast/addToast",{message:t.code?Jo[t.code]:"unknownError",severity:"error"},{root:!0})}finally{t("SET_LOADING",!1)}},async getFolders({dispatch:e,commit:t},a){t("SET_LOADING",!0);try{const e=(0,zt.rJ)($t,"folder","bCxB7W5QIQZQAOSBcbfa","items"),l=(0,zt.P)(e,(0,zt._M)("userId","==",a)),o=await(0,zt.GG)(l),s=o.docs.map(e=>({id:e.id,...e.data()}));return t("SET_FOLDERS",s),s}catch(l){const t=l;return await e("toast/addToast",{message:t.code?Jo[t.code]:"unknownError",severity:"error"},{root:!0}),[]}finally{t("SET_LOADING",!1)}},async deleteFolder({dispatch:e,commit:t},a){t("SET_LOADING",!0);try{const l=(0,zt.H9)($t,"folder","bCxB7W5QIQZQAOSBcbfa","items",a);await(0,zt.kd)(l),t("REMOVE_FOLDER",a),await e("toast/addToast",{message:"successDeleteFolder",severity:"success"},{root:!0})}catch(l){const t=l;await e("toast/addToast",{message:t.code?Jo[t.code]:"unknownError",severity:"error"},{root:!0})}finally{t("SET_LOADING",!1)}},async updateFolder({dispatch:e,commit:t},{id:a,name:l}){t("SET_LOADING",!0);try{const o=(0,zt.H9)($t,"folder","bCxB7W5QIQZQAOSBcbfa","items",a);await(0,zt.mZ)(o,{name:l}),t("UPDATE_FOLDER",{id:a,name:l}),await e("toast/addToast",{message:"successUpdateFolder",severity:"success"},{root:!0})}catch(o){const t=o;await e("toast/addToast",{message:t.code?Jo[t.code]:"unknownError",severity:"error"},{root:!0})}finally{t("SET_LOADING",!1)}},filterFolder(e,t){e.commit("FILTER_FOLDER",t)}},getters:{getFolders(e){return e.items},getFilterFolders(e){return e.filterItems},isLoading(e){return e.isLoading},getFolderById:e=>t=>e.items.find(e=>e.id===t)}};var ns=(0,i.y$)({state:{},getters:{},mutations:{},actions:{},modules:{toast:$o,theme:Yo,language:qo,authFirebase:Zo,mobile:es,burgerMenu:ts,imageColor:as,gallery:os,folder:ss},plugins:[(0,i.h)()]});const is={class:"gallery-container"},rs={ref:"galleryRef",class:"gallery-wrapper"},cs={class:"search"},ds={class:"actions-mode"},us={key:0,class:"choose-checkbox"},ps={key:1,class:"choose-checkbox"},ms={key:2,class:"filter-fill"},gs={class:"icon-list-ol"},vs={class:"icon-ellipsis-h"},hs={key:0,class:"icon"};function fs(e,t,a,s,n,i){const r=(0,o.g2)("AppLoader"),d=(0,o.g2)("app-input"),u=(0,o.g2)("AppCheckbox"),p=(0,o.g2)("app-button"),m=(0,o.g2)("app-image-card"),g=(0,o.g2)("app-virtual-scroll-grid"),v=(0,o.g2)("font-awesome-icon"),h=(0,o.g2)("app-popover-item"),f=(0,o.g2)("app-popover-wrapper"),b=(0,o.g2)("app-popover");return(0,o.uX)(),(0,o.CE)("div",is,[e.isLoading?((0,o.uX)(),(0,o.Wv)(r,{key:0})):(0,o.Q3)("",!0),(0,o.Lk)("div",rs,[(0,o.Lk)("section",{class:(0,c.C4)(["gallery-helper",{hidden:e.isHidden}])},[(0,o.Lk)("div",cs,[(0,o.bF)(d,{modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=t=>e.search=t),placeholder:"search",icon:["fas","search"],"is-label":!1},null,8,["modelValue"])]),(0,o.Lk)("section",ds,[e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",us,[(0,o.bF)(u,{modelValue:e.isSelectedMode,"onUpdate:modelValue":t[1]||(t[1]=t=>e.isSelectedMode=t),label:"choose"},null,8,["modelValue"])])),e.isSelectedMode&&!e.isMobile?((0,o.uX)(),(0,o.CE)("div",ps,[(0,o.bF)(u,{modelValue:e.chooseAll,"onUpdate:modelValue":t[2]||(t[2]=t=>e.chooseAll=t),label:"Выбрать все"},null,8,["modelValue"])])):(0,o.Q3)("",!0),(0,o.bF)(p,{severity:"secondary",raised:"",icon:["fas","filter"],onClick:e.openFilterModal},null,8,["onClick"]),e.isFilterEmpty?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",ms))])],2),(0,o.Lk)("section",{ref:"imagesContainer",class:(0,c.C4)(["images",{hidden:e.isHidden}])},[(0,o.bF)(g,{items:e.images,"item-key":e=>e.id,"min-column-width":e.isMobile?100:250,"row-height":e.isMobile?150:300,height:e.heightImagesContainer,onScroll:e.onScroll},{default:(0,o.k6)(({item:t,index:a})=>[(0,o.bF)(m,{src:t.src,image:t,onClick:t=>e.openCardModal(a)},{default:(0,o.k6)(()=>[(0,o.eW)((0,c.v_)(e.t("photo"))+" "+(0,c.v_)(e.getCurrentIndex(t)+1),1)]),_:2},1032,["src","image","onClick"])]),_:1},8,["items","item-key","min-column-width","row-height","height","onScroll"])],2),(0,o.Lk)("footer",{class:(0,c.C4)(["footer",{hidden:e.isHidden}])},[(0,o.Lk)("div",gs,[(0,o.bF)(v,{size:"sm",icon:["fas","list-ol"]}),(0,o.eW)(" "+(0,c.v_)(e.totalImages),1)]),(0,o.Lk)("div",vs,[e.isMobile?((0,o.uX)(),(0,o.Wv)(v,{key:0,icon:["fas","ellipsis-h"],size:"lg",onClick:(0,l.D$)(e.openPopover,["stop"])},null,8,["onClick"])):(0,o.Q3)("",!0)]),(0,o.Lk)("section",{class:(0,c.C4)(["selected-section",{mobile:e.isMobile}])},[e.isSelectedMode&&e.selected.length?((0,o.uX)(),(0,o.CE)("div",hs,[(0,o.bF)(v,{size:"sm",icon:["fas","check"]}),(0,o.eW)(" "+(0,c.v_)(e.selected.length),1)])):(0,o.Q3)("",!0),e.isSelectedMode&&e.selected.length?((0,o.uX)(),(0,o.CE)("div",{key:1,class:"icon",onClick:t[3]||(t[3]=(...t)=>e.openDeleteModal&&e.openDeleteModal(...t))},[(0,o.bF)(v,{size:"sm",icon:["fas","fa-trash"]})])):(0,o.Q3)("",!0),e.isSelectedMode&&e.selected.length?((0,o.uX)(),(0,o.CE)("div",{key:2,class:"icon",onClick:t[4]||(t[4]=(...t)=>e.clearSelected&&e.clearSelected(...t))},[(0,o.bF)(v,{size:"sm",icon:["fas","broom"]})])):(0,o.Q3)("",!0)],2)],2),(0,o.bF)(b,{visible:e.visiblePopover,"onUpdate:visible":t[7]||(t[7]=t=>e.visiblePopover=t)},{default:(0,o.k6)(()=>[(0,o.bF)(f,null,{default:(0,o.k6)(()=>[(0,o.bF)(h,null,{default:(0,o.k6)(()=>[(0,o.bF)(u,{modelValue:e.isSelectedMode,"onUpdate:modelValue":t[5]||(t[5]=t=>e.isSelectedMode=t)},null,8,["modelValue"]),(0,o.Lk)("span",null,(0,c.v_)(e.t("choose")),1)]),_:1}),e.isSelectedMode?((0,o.uX)(),(0,o.Wv)(h,{key:0},{default:(0,o.k6)(()=>[(0,o.bF)(u,{modelValue:e.chooseAll,"onUpdate:modelValue":t[6]||(t[6]=t=>e.chooseAll=t)},null,8,["modelValue"]),(0,o.Lk)("span",null,(0,c.v_)(e.t("chooseAll")),1)]),_:1})):(0,o.Q3)("",!0)]),_:1})]),_:1},8,["visible"])],512)])}const bs={class:"image-card"},ks=["src","alt"],ys={key:1,class:"fallback"},Cs={class:"overlay"};function Es(e,t,a,s,n,i){const r=(0,o.g2)("AppCheckbox");return(0,o.uX)(),(0,o.CE)("div",bs,[(0,o.Lk)("div",{class:"checkbox",onClick:t[1]||(t[1]=(0,l.D$)((...t)=>e.selected&&e.selected(...t),["stop"]))},[e.isSelectedMode?((0,o.uX)(),(0,o.Wv)(r,{key:0,modelValue:e.selectedImage,"onUpdate:modelValue":t[0]||(t[0]=t=>e.selectedImage=t)},null,8,["modelValue"])):(0,o.Q3)("",!0)]),e.error?((0,o.uX)(),(0,o.CE)("div",ys,[(0,o.RG)(e.$slots,"fallback",{},()=>[t[4]||(t[4]=(0,o.eW)("⚠️ Ошибка загрузки",-1))],!0)])):((0,o.uX)(),(0,o.CE)("img",{key:0,src:e.src,alt:e.alt,style:(0,c.Tr)({objectFit:e.fit}),loading:"lazy",class:(0,c.C4)({"fade-in":e.loaded}),onError:t[2]||(t[2]=(...t)=>e.onError&&e.onError(...t)),onLoad:t[3]||(t[3]=(...t)=>e.onLoad&&e.onLoad(...t))},null,46,ks)),(0,o.Lk)("div",Cs,[(0,o.RG)(e.$slots,"default",{},void 0,!0)])])}var Fs=(0,o.pM)({components:{AppCheckbox:Ea},props:{src:{type:String,required:!0},alt:{type:String,default:""},fit:{type:String,default:"cover"},rounded:{type:Boolean,default:!0},image:{type:Object,required:!0}},setup(e){const t=(0,i.Pj)(),a=(0,n.KR)(!1),l=(0,n.KR)(!1),s=(0,o.EW)(()=>t.getters["gallery/getSelectedMode"]),r=(0,o.EW)(()=>t.getters["gallery/isSelected"](e.image.id)),c=()=>{t.dispatch("gallery/setSelected",e.image)},d=()=>{a.value=!0},u=()=>{l.value=!0};return{error:a,loaded:l,onError:d,onLoad:u,isSelectedMode:s,selected:c,selectedImage:r}}});const ws=(0,h.A)(Fs,[["render",Es],["__scopeId","data-v-226ca505"]]);var As=ws;const Is={ref:"modalRef",class:"modal-content neon"},Ls={class:"overlay-image"},Ds=["src"],Ss={class:"info-section scroll-area"},Bs={class:"info-section-wrapper"},_s={class:"info"},Ms={class:"badge-wrapper"},Ts={key:0,class:"badge darkBadge"},xs={key:1,class:"badge darkBadge"},Rs={key:2,class:"badge darkBadge"},Ps={key:3,class:"badge darkBadge"},Ws={key:0,class:"info-title"},Xs={key:1,class:"edit-title"},Ks={class:"actions"},Os={class:"btn"};function Us(e,t,a,s,n,i){const r=(0,o.g2)("app-modal-header"),d=(0,o.g2)("font-awesome-icon"),u=(0,o.g2)("AppCheckbox"),p=(0,o.g2)("app-overlay-panel"),m=(0,o.g2)("app-input"),g=(0,o.g2)("app-button");return(0,o.uX)(),(0,o.CE)("div",Is,[(0,o.bF)(r,{onClose:e.close},null,8,["onClose"]),(0,o.Lk)("div",{ref:"targetRef",class:"ellipsis-vertical",onClick:t[0]||(t[0]=(...t)=>e.toggleImageOverlayPanel&&e.toggleImageOverlayPanel(...t))},[(0,o.bF)(d,{size:"lg",icon:["fas","fa-ellipsis-vertical"]})],512),(0,o.Lk)("div",{class:"modal-image-choose-checkbox",onClick:t[2]||(t[2]=(0,l.D$)((...t)=>e.selected&&e.selected(...t),["stop"]))},[e.isSelectedMode?((0,o.uX)(),(0,o.Wv)(u,{key:0,modelValue:e.selectedImage,"onUpdate:modelValue":t[1]||(t[1]=t=>e.selectedImage=t)},null,8,["modelValue"])):(0,o.Q3)("",!0)]),e.targetRef?((0,o.uX)(),(0,o.Wv)(p,{key:0,visible:e.visible,"onUpdate:visible":t[6]||(t[6]=t=>e.visible=t),width:250,target:e.targetRef,position:{x:"left",y:"center"}},{default:(0,o.k6)(()=>[(0,o.Lk)("div",Ls,[(0,o.Lk)("div",{class:"overlay-image-item",onClick:t[3]||(t[3]=(...t)=>e.openFolderModal&&e.openFolderModal(...t))},[(0,o.bF)(d,{size:"sm",icon:["fas","fa-folder"]}),(0,o.eW)(" "+(0,c.v_)(e.t("addFolder")),1)]),(0,o.Lk)("div",{class:"overlay-image-item",onClick:t[4]||(t[4]=(...t)=>e.updateFolder&&e.updateFolder(...t))},[(0,o.bF)(d,{size:"sm",icon:["fas","undo"]}),(0,o.eW)(" "+(0,c.v_)(e.t("update")),1)]),(0,o.Lk)("div",{class:"overlay-image-item",onClick:t[5]||(t[5]=(...t)=>e.copyLink&&e.copyLink(...t))},[(0,o.bF)(d,{size:"sm",icon:["fas","fa-link"]}),(0,o.eW)(" "+(0,c.v_)(e.t("copyLink")),1)])])]),_:1},8,["visible","target"])):(0,o.Q3)("",!0),(0,o.Lk)("img",{src:e.currentImage.src,alt:"",class:"modal-image"},null,8,Ds),(0,o.Lk)("section",Ss,[(0,o.Lk)("div",Bs,[(0,o.Lk)("div",{class:(0,c.C4)(["slider-dots",{many:e.images.length>5}])},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.images,(t,a)=>((0,o.uX)(),(0,o.CE)("div",{key:t.id,class:(0,c.C4)(["dot",{active:a===e.index}])},null,2))),128))],2),(0,o.Lk)("div",_s,[(0,o.Lk)("div",Ms,[e.localImages[e.index].folder?((0,o.uX)(),(0,o.CE)("span",Ts,(0,c.v_)(e.localImages[e.index].folder.name),1)):(0,o.Q3)("",!0),e.currentImage.maskType?((0,o.uX)(),(0,o.CE)("span",xs,(0,c.v_)(e.t(e.currentImage.maskType)),1)):(0,o.Q3)("",!0),e.currentImage.coloristicType?((0,o.uX)(),(0,o.CE)("span",Rs,(0,c.v_)(e.t(e.currentImage.coloristicType)),1)):(0,o.Q3)("",!0),e.currentImage.paletteType?((0,o.uX)(),(0,o.CE)("span",Ps,(0,c.v_)(e.getPaletteName(e.currentImage.paletteType)),1)):(0,o.Q3)("",!0)]),e.isEditTitle?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",Ws,[(0,o.bF)(d,{size:"xs",icon:["fas","fa-pencil"],onClick:t[7]||(t[7]=t=>e.toggleTitle(e.currentImage.title))}),(0,o.Lk)("span",null,(0,c.v_)(e.currentImage.title?e.currentImage.title:e.t("noName")),1)])),e.isEditTitle?((0,o.uX)(),(0,o.CE)("div",Xs,[(0,o.bF)(m,{modelValue:e.sign,"onUpdate:modelValue":t[8]||(t[8]=t=>e.sign=t),icon:["fas","fa-pencil"],"is-label":!1,"is-focused":"",onFocus:e.focusInput,onBlur:e.focusOutInput},null,8,["modelValue","onFocus","onBlur"]),(0,o.Lk)("div",{class:"edit-title-save-icon",onClick:t[9]||(t[9]=(...t)=>e.updateSign&&e.updateSign(...t))},[(0,o.bF)(d,{size:"sm",icon:["fas","undo"]})])])):(0,o.Q3)("",!0)]),(0,o.Lk)("div",Ks,[(0,o.Lk)("div",Os,[(0,o.bF)(g,{severity:"error",icon:["fas","fa-trash"],onClick:e.deleteImage},null,8,["onClick"])])])])]),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",{key:1,class:"next",onClick:t[10]||(t[10]=(...t)=>e.next&&e.next(...t))},[(0,o.bF)(d,{icon:["fas","fa-arrow-right"]})])),e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",{key:2,class:"prev",onClick:t[11]||(t[11]=(...t)=>e.prev&&e.prev(...t))},[(0,o.bF)(d,{icon:["fas","fa-arrow-left"]})]))],512)}var Vs=(0,o.pM)({components:{AppCheckbox:Ea,AppOverlayPanel:We,AppModalHeader:Ga,AppInput:Ie,AppButton:Kt},props:{images:{type:Array,required:!0},startIndex:{type:Number,required:!0}},emits:["close"],setup(e,{emit:t}){const{t:a}=(0,r.s9)(),l=(0,i.Pj)(),s=(0,n.KR)(e.startIndex),c=(0,n.KR)(null),d=(0,n.KR)(!1),u=(0,n.KR)(""),p=(0,o.EW)(()=>"mobile"===l.getters["mobile/breakPoint"]),m=(0,o.EW)(()=>e.images[s.value]),g=(0,n.KR)(!1),v=(0,n.KR)(null),h=(0,n.KR)([...e.images]),f=(0,o.EW)(()=>l.getters["gallery/getSelectedMode"]),b=(0,o.EW)(()=>l.getters["gallery/isSelected"](e.images[s.value].id)),k=(0,o.EW)(()=>l.getters["mobile/getDevice"]);(0,o.wB)(()=>e.startIndex,e=>{s.value=e});const y=()=>{s.value=(s.value+1)%e.images.length,d.value=!1},C=()=>{s.value=(s.value-1+e.images.length)%e.images.length,d.value=!1},E=()=>{t("close")},w=e=>{d.value=!0,u.value=e},A=async()=>{await F(yl,{text:a("dywDelete"),title:a("delete")}).then(a=>{a&&(l.dispatch("gallery/deleteImageFromGallery",{id:e.images[s.value].id}),t("close"))})},I=()=>{const t=e.images[s.value];d.value=!1,t?.title!==u.value&&l.dispatch("gallery/updateImageInGallery",{...D(t,u.value)})},L=()=>{S(),l.dispatch("gallery/updateImageInGallery",{...D(e.images[s.value])})},D=(e,t)=>({id:e.id,src:e.src,title:t||e.title,coloristicType:e.coloristicType,maskType:e.maskType,folderId:e?.folder?.id??null,paletteType:e.paletteType});(0,o.sV)(()=>{let e=0;const t=t=>{e=t.touches[0].clientX},a=t=>{const a=t.changedTouches[0].clientX;e-a>50&&y(),a-e>50&&C()};c.value&&(c.value.addEventListener("touchstart",t),c.value.addEventListener("touchend",a),c.value&&(c.value._touchHandlers={handleTouchStart:t,handleTouchEnd:a}))}),(0,o.hi)(()=>{if(c.value&&c.value._touchHandlers){const{handleTouchStart:e,handleTouchEnd:t}=c.value._touchHandlers;c.value.removeEventListener("touchstart",e),c.value.removeEventListener("touchend",t)}});const S=()=>{g.value=!g.value},B=e=>{const t=_l.get(e)||"";return a(t)},_=async()=>{S(),await F(Bl,{folder:e.images[s.value].folder},{transparent:!0}).then(e=>{h.value[s.value].folder=e})},M=async()=>{S();const t=e.images[s.value].src;try{await navigator.clipboard.writeText(t),await l.dispatch("toast/addToast",{message:"Ссылка скопирована!",severity:"success"})}catch(a){await l.dispatch("toast/addToast",{message:"Ошибка копирования!",severity:"error"})}};(0,o.wB)(s,async e=>{await(0,o.dY)();const t=document.querySelectorAll(".slider-dots .dot"),a=t[e];a&&a.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})},{immediate:!0});const T=()=>{l.dispatch("gallery/setSelected",e.images[s.value])},x=()=>{"ios"===k.value&&cl().enable()},R=()=>{"ios"===k.value&&(cl().disable(),setTimeout(()=>window.scrollTo(0,0),50))};return{index:s,next:y,prev:C,close:E,modalRef:c,isMobile:p,isEditTitle:d,toggleTitle:w,sign:u,deleteImage:A,updateSign:I,currentImage:m,toggleImageOverlayPanel:S,targetRef:v,visible:g,t:a,openFolderModal:_,localImages:h,updateFolder:L,copyLink:M,isSelectedMode:f,selectedImage:b,selected:T,getPaletteName:B,focusInput:x,focusOutInput:R}}});const Gs=(0,h.A)(Vs,[["render",Us],["__scopeId","data-v-bf2d0b16"]]);var zs=Gs;const Qs={ref:"modalRef",class:"modal-content neon"},Hs={class:"wrapper-filter"},Ns={class:"filter-dropdown"},js={class:"folders-overlay-container"},$s={class:"folders-options-wrapper"},Ys={class:"option-folder-item"},qs=["src"],Js={class:"filter-dropdown"},Zs={class:"wrapper-palette"},en={class:"mask-type-wrapper"},tn={class:"segments"},an={class:"filter-dropdown"},ln={class:"mask-type-wrapper"},on={class:"segments"},sn={class:"filter-dropdown"},nn={class:"type-maks-option"},rn={class:"footer"};function cn(e,t,l,s,n,i){const r=(0,o.g2)("app-modal-header"),d=(0,o.g2)("app-option"),u=(0,o.g2)("app-dropdown"),p=(0,o.g2)("font-awesome-icon"),m=(0,o.g2)("app-button");return(0,o.uX)(),(0,o.CE)("div",Qs,[(0,o.bF)(r,{onClose:e.close},null,8,["onClose"]),(0,o.Lk)("section",Hs,[(0,o.Lk)("div",Ns,[(0,o.bF)(u,{modelValue:e.folder,"onUpdate:modelValue":t[1]||(t[1]=t=>e.folder=t),"is-search":!0,"is-title":"",title:"folder",label:"name",height:"48px",onSearch:e.searchFolder,onFocusInput:e.focusInput,onFocusOutInput:e.focusOutInput},{default:(0,o.k6)(()=>[(0,o.Lk)("div",js,[(0,o.Lk)("div",$s,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.folders,l=>((0,o.uX)(),(0,o.Wv)(d,{key:l,value:l},{default:(0,o.k6)(()=>[(0,o.Lk)("div",Ys,[(0,o.Lk)("img",{loading:"lazy",class:(0,c.C4)({"fade-in":e.onLoad}),src:a(2823),alt:"Rainbow Folder",onLoad:t[0]||(t[0]=(...t)=>e.onLoad&&e.onLoad(...t))},null,42,qs),(0,o.Lk)("span",null,(0,c.v_)(l.name),1)])]),_:2},1032,["value"]))),128))])])]),_:1},8,["modelValue","onSearch","onFocusInput","onFocusOutInput"])]),(0,o.Lk)("div",Js,[(0,o.bF)(u,{modelValue:e.paletteType,"onUpdate:modelValue":t[2]||(t[2]=t=>e.paletteType=t),height:"48px",label:"name","is-title":"",title:"palette"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",Zs,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.palettesCards,e=>((0,o.uX)(),(0,o.Wv)(d,{key:e.id,value:e},{default:(0,o.k6)(()=>[(0,o.Lk)("div",en,[(0,o.Lk)("div",tn,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.colors,e=>((0,o.uX)(),(0,o.CE)("div",{key:e,style:(0,c.Tr)({backgroundColor:e}),class:"segment"},null,4))),128))]),(0,o.Lk)("span",null,(0,c.v_)(e.name),1)])]),_:2},1032,["value"]))),128))])]),_:1},8,["modelValue"])]),(0,o.Lk)("div",an,[(0,o.bF)(u,{modelValue:e.maskType,"onUpdate:modelValue":t[3]||(t[3]=t=>e.maskType=t),height:"48px",label:"name","is-title":"",title:"mask"},{default:(0,o.k6)(()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.cards,e=>((0,o.uX)(),(0,o.Wv)(d,{key:e,value:e},{default:(0,o.k6)(()=>[(0,o.Lk)("div",ln,[(0,o.Lk)("div",on,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.segments,e=>((0,o.uX)(),(0,o.CE)("div",{key:e,style:(0,c.Tr)({backgroundColor:e.color}),class:"segment"},null,4))),128))]),(0,o.Lk)("span",null,(0,c.v_)(e.name),1)])]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),(0,o.Lk)("div",sn,[(0,o.bF)(u,{modelValue:e.coloristicType,"onUpdate:modelValue":t[4]||(t[4]=t=>e.coloristicType=t),height:"48px",label:"name","is-title":"",title:"typeMasks"},{default:(0,o.k6)(()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.coloristicTypes,e=>((0,o.uX)(),(0,o.Wv)(d,{key:e,value:e},{default:(0,o.k6)(()=>[(0,o.Lk)("div",nn,[(0,o.bF)(p,{icon:["fa",e.icon]},null,8,["icon"]),(0,o.Lk)("span",null,(0,c.v_)(e.name),1)])]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])])]),(0,o.Lk)("footer",rn,[(0,o.Lk)("div",{class:"btn",onClick:t[5]||(t[5]=(...t)=>e.clearFilter&&e.clearFilter(...t))},[(0,o.bF)(m,{severity:"info",title:"clear"})]),(0,o.Lk)("div",{class:"btn",onClick:t[6]||(t[6]=(...t)=>e.applyFilter&&e.applyFilter(...t))},[(0,o.bF)(m,{severity:"warning",title:"apply"})])])],512)}const dn=["#DEDCCD","#DDD4C3","#C5C5B9","#9B8E88","#72655F","#C3BCB4","#ADA694","#8D8175","#8F746B","#503D3F","#B0B0AE","#686C6D","#7C7B76","#5D5553","#413F40","#F3B8BE","#E4A09D","#C88A8D","#B48285","#713743","#FA9DA8","#F87B89","#E4566E","#C3445F","#983645","#FAA0BC","#E87F96","#D85076","#A03851","#60303C","#E5A1B8","#CD899E","#AF6F7F","#88495E","#503345","#E3D99E","#D4CC84","#89C099","#5E927C","#36564B","#7EBCAD","#5AA088","#417060","#438279","#2E514B","#78BAC6","#57969F","#48757A","#598D89","#285155","#90C0CC","#71AAB5","#477F8E","#527A93","#2E4452","#A4AEC7","#8892B5","#777BA1","#5A5E7B","#35364A","#9E9BAE","#7F7C8F","#55485A"],un=["#E5D6C1","#CEBAA2","#E9D1AF","#EDCBA6","#CDAA82","#E0D7AE","#D3D5A4","#EED8A6","#F8C2B6","#9BD2CD","#C4BDB5","#8C857D","#58504D","#A59482","#5D4D4E","#392933","#1B3430","#263356","#213454","#252525","#F4C581","#D5AC6A","#B88C5B","#EBA77A","#C17960","#F6858B","#D34D58","#E87F6A","#BF6658","#713535","#F3948E","#F07B74","#C65454","#9A3D47","#6E272F","#D36C65","#D83D4D","#BC344A","#9E2A41","#4A2127","#A6BB82","#ADBF69","#8D9C59","#5F6738","#2B3127","#4EC5BF","#2D9F97","#3E9283","#296452","#1C3B36","#5FB8CA","#2798B6","#1D738A","#156773","#1C403E","#D9A7C0","#C1759B","#9D4F76","#6F3450","#224058","#998755","#827146","#4C442F"],pn=["#DCDACD","#D0CCC3","#BEBBB2","#908B85","#605752","#E8E0A1","#E1D799","#9FA696","#7C8276","#5B5851","#C5C4C2","#B9AFAE","#8A7E80","#6F6065","#4A4448","#CEC4C3","#B1A49E","#987B7F","#634E53","#413539","#A2B1B6","#7A8B9B","#95A6AD","#6D747A","#3F464C","#9BBABC","#708C8D","#4E8693","#2C6E7A","#21515D","#F17889","#DF4F66","#DE7089","#AC3E5B","#722D3F","#FDC4D7","#EB9FBD","#D58AA8","#B45E85","#852F54","#63C6A9","#379273","#1F7960","#1B897E","#135855","#53CEBC","#2A947E","#1A8662","#146749","#174731","#5CC1DD","#2A87A6","#3DB8BD","#238F99","#195B67","#8AC0E4","#62ABCB","#508EB5","#346EA0","#23456B","#9EA7D2","#7C7FB2","#4B4978","#504776"],mn=["#ECDCC3","#E1D4C4","#EDD8B9","#E4D1A7","#D6BC97","#EEC7B6","#F3B39A","#CFC9A7","#A2A588","#6A6D66","#CAC4B6","#B5B1A5","#7E7B72","#67625C","#69574B","#B4B6B3","#7C7C7A","#626866","#857456","#805F50","#F4DF76","#F8D47C","#F1C969","#FCD08F","#F6C36A","#F1BB97","#F89D6E","#F69680","#F26B65","#E65856","#F1A0A9","#F59D9C","#F48282","#F0646F","#E74F64","#F9B5C2","#F17E9F","#F15B80","#F2778C","#DF3F59","#BBDA97","#98CD89","#79C270","#52B855","#16A36E","#7ECDCA","#4EC1BC","#73C7B0","#30BAA0","#348878","#90C7E5","#70B3DD","#70C7DB","#2FB1C7","#278B9A","#86AFDD","#6987C5","#3860A8","#276B9A","#315086","#B0A7D2","#9782BD","#604D85"],gn=["#DBDCD4","#DFDECC","#DDD7C7","#C3C1AA","#B7B096","#C2C2B8","#9D968C","#66635C","#848A88","#3B4345","#A7A781","#7E7D5E","#535041","#84926E","#3D4635","#D7AA81","#C59776","#98795D","#6E5843","#433431","#906253","#895351","#673735","#553634","#4E2F34","#E5CF93","#F1C995","#EECB89","#DDB779","#C5A870","#EF9795","#E7797A","#B64F58","#E67571","#A4484B","#FAC7C3","#FFA99C","#EE7D7F","#C45657","#8E2F35","#FDC0C7","#FEA6B2","#EB7084","#C14A5E","#862A39","#96D5BA","#77BE9E","#46846B","#348A7D","#1A423A","#57C2B8","#36A698","#14635E","#277357","#1C3F29","#67AAC7","#367BA5","#174C6E","#5474A5","#203256","#8792C0","#55608D","#2E3351"],vn=["#FFFFFF","#E2DFD8","#D1D1C7","#9C938C","#776F6C","#CED2D3","#B8C1C0","#8A9493","#3B4345","#0E0E0E","#F5D4DF","#FBF097","#B0E8C5","#A7E8EC","#C9D4F0","#FAEB74","#FDE55F","#FFD95C","#DC364C","#AD2742","#33C475","#15B764","#107C42","#125C3B","#1C372E","#18BE8E","#127B5D","#124A3F","#24ADB7","#136772","#41B8D6","#2299C3","#0E6085","#2D84C7","#0D60AE","#FEC2E8","#FE98DA","#FA77B9","#F863B4","#AA2A67","#FE93C1","#F45E8C","#F65D9E","#A63168","#542339","#F59DCF","#DC5892","#A63168","#752444","#3A2230","#C981CD","#89509F","#5E3579","#A058A2","#442A59","#7B3569","#5A3771","#383979","#2F2C59","#1E2F4D","#3B66B4","#20418E","#222E54","#292021"],hn=["#ECE0CA","#E5D7BD","#D5CAB4","#EDDFB8","#F2D6A4","#F4D5C3","#F6C6B0","#C2C4B6","#948F8B","#64504F","#C5C9AE","#90957F","#958472","#716A5A","#544E42","#D1B590","#B89C77","#837061","#57473A","#4A3B3E","#EDBC93","#B39C7A","#AE6F5D","#8A4D4C","#502D31","#F6CA71","#F6BA71","#DCAA65","#BC8B51","#765836","#F3A66E","#E08654","#DF7C53","#C05241","#8A3636","#FEA98A","#FA807D","#F97F7A","#ED6057","#D73741","#EE978E","#E97081","#AB3E51","#7E2D36","#44232A","#C6C38E","#A2AD75","#ADA14B","#776A35","#423C24","#8CB976","#477A37","#2D8052","#216041","#1D3E29","#3FB9BE","#25848A","#51BBCB","#1D7C8E","#16515F","#6788B5","#384B76","#7A6892","#4F425C"],fn=["#DCDACD","#D7D2BF","#BFBDB1","#A59D92","#827D77","#AFB5B5","#8A9493","#6E7474","#7D949C","#4F6976","#C3BFB6","#90777A","#685656","#5C4C4D","#553743","#F1DAB0","#ECD2A1","#F0DA8E","#FCDD8D","#F9D081","#F7888E","#ED5965","#F66C7B","#E03C55","#BB324E","#F9959F","#F7788D","#F15C79","#E94C69","#CD2D53","#F2AAB5","#F398B7","#F982A8","#DD5885","#AF476C","#78DCB8","#1DC796","#1EA384","#199E73","#1F674F","#63DBBF","#1BC8AA","#33CFC4","#23B7AB","#207D75","#6FCFDF","#38B5C7","#25C3C2","#299FA9","#258093","#83C9EA","#6BB8E6","#4292CF","#1E68A5","#155B8E","#8FABDD","#7A98D4","#5177BE","#36629F","#1E457E","#9782C7","#6E5A9F","#524783"],bn=["#FFFFFF","#E3E0D7","#CACBC3","#A6A39E","#78736D","#D4D8D9","#C9CFCF","#A3A7A6","#434D4F","#000000","#EEE8AE","#EED4D7","#BEE4D9","#B3DAE9","#C5CCE8","#F9E680","#FAD57C","#F0C777","#90C55D","#4C7032","#D33953","#E65671","#F985AA","#E2537E","#83253F","#BA2542","#97253F","#A52B38","#7D2436","#622534","#F07786","#DF4D64","#892935","#6C272C","#382322","#23B783","#146449","#1A4239","#30362A","#362724","#3ACAB3","#147063","#28A0B1","#147585","#194143","#60C1E1","#1686AC","#155674","#1C73A0","#1C394B","#70BBE3","#1C71A8","#609EF1","#215B9A","#1C3353","#B897C6","#A373A7","#59335A","#2D2439","#312026","#E788A8","#973D59","#3D222B"],kn=["#F5E0C5","#ECD1BC","#FAD6A6","#E7BE7C","#DEAD82","#C2C4B9","#AEAD9B","#989687","#7F7B6F","#584E44","#D6CC8F","#C8AC84","#B79363","#735539","#463229","#F5BB96","#DC976E","#8C4835","#794537","#5B322C","#F0C98E","#F1D582","#F4CD72","#F0BB51","#F0AF53","#F1A38D","#F37656","#F98077","#EF5861","#DE3844","#EE7675","#E34D4E","#D93649","#F1616B","#D9374F","#C8DA74","#AFC547","#8C9D35","#33A948","#227235","#74DA74","#59CA56","#209836","#117E45","#0F7752","#5AD271","#40C971","#48CEA9","#16A47C","#10795B","#57D0AF","#2FBA9D","#20C5B4","#20A799","#1B908A","#A1B9E7","#7399D8","#587DCB","#0063A7","#124270","#C993D1","#996ABA","#683E88","#463B87"],yn=["#E4E2D3","#E1DAC8","#E6D8BB","#D5CAB8","#C0C4B3","#ABAFAE","#969F9A","#595F5D","#394241","#202020","#BAB6AD","#685E55","#322C2C","#0F5591","#17416B","#E6DFA9","#FBCBBF","#A2E4D8","#A5E3EE","#BAC1EB","#FBD05F","#FBC56B","#ECAB45","#DB9454","#B13C32","#F9AAAD","#FD8C84","#EE5558","#FD7B61","#E54449","#F5A2BC","#F784A5","#DD476A","#FD7C90","#D93F5B","#FF9ACA","#FC7FB9","#EC488F","#F9659F","#C73063","#C1DA74","#8FBB4A","#4F9636","#2F7030","#264B2C","#27C76F","#148F4E","#116939","#15A769","#125B3E","#4BD5D7","#21B7B6","#1A857D","#28ADBC","#14626C","#449FD8","#1070BC","#9E79C9","#7151A4","#382F72","#EE89C1","#DB5296","#88275A"],Cn=["#FFFFFF","#E4E2D6","#DDD7C7","#9E9D99","#605D56","#CFD1D0","#B9BFBD","#97A09B","#3C4242","#141414","#EFE5AA","#F7D1D0","#B2E5DE","#FBD3ED","#D7D1ED","#F3DD78","#FED96E","#FCCD65","#ABD454","#81A54E","#F47C86","#E54D5C","#D3363F","#D9406C","#9A2947","#F378A6","#DC4A71","#E64F70","#CC2B4A","#842336","#F078BF","#C54894","#812B6A","#BF3277","#662247","#E078C7","#9B4292","#632D6B","#604E9A","#2F2F6D","#41D287","#1AA856","#13643B","#1FA793","#16534C","#50D4E0","#259FA2","#4CC7E9","#24A1CD","#135F7F","#71B5E2","#264F9F","#5C94CD","#2058A5","#1B305F","#587EC7","#264F9F","#1E2C53","#2C2022","#241E20","#857DC6","#6059A7","#232959"],En=[{id:1,color:"#fff"},{id:2,color:"#fff"},{id:3,color:"#fff"},{id:4,color:"#fff"},{id:5,color:"#fff"}],Fn={softSummerPalette:dn,darkAutumnPalette:un,coolSummerPalette:pn,lightSpringPalette:mn,softAutumnPalette:gn,brightSpringPalette:yn,warmSpringPalette:kn,darkWinterPalette:bn,lightSummerPalette:fn,warmAutumnPalette:hn,coldWinterPalette:vn,brightWinterPalette:Cn};var wn=(0,o.pM)({components:{AppOption:ze,AppButton:Kt,AppDropdown:Oe,AppModalHeader:Ga},emits:["resolve","reject","close"],setup(e,{emit:t}){const{t:a}=(0,r.s9)(),l=(0,i.Pj)(),s=(0,o.EW)(()=>l.getters["mobile/getDevice"]),c=(0,n.KR)(Ot.map(e=>({...e,name:a(e.type)}))),d=(0,n.KR)(Object.entries(Fn).map(([e,t])=>({id:e,name:a(e),colors:t}))),u=(0,n.KR)(l.getters["gallery/getFilter"]?.maskType),p=(0,n.KR)(l.getters["gallery/getFilter"]?.paletteType),m=(0,n.KR)(l.getters["gallery/getFilter"]?.coloristicType),g=(0,n.KR)([{id:"mask",name:a("mask"),icon:"mask"},{id:"collage",name:a("collage"),icon:"images"}]),v=(0,o.EW)(()=>l.getters["folder/getFilterFolders"]),h=(0,n.KR)(l.getters["gallery/getFilter"]?.folder),f=()=>{t("close")},b=e=>{l.dispatch("folder/filterFolder",e)},k=()=>{l.dispatch("gallery/setFilter",{folder:h.value,coloristicType:m.value,maskType:u.value,paletteType:p.value}),t("resolve",!0)},y=()=>{h.value=null,m.value=null,u.value=null,p.value=null,l.dispatch("gallery/setFilter",null)};(0,o.sV)(()=>{m.value&&(m.value={id:m.value.id,name:a(m.value.id)}),p.value&&(p.value={...p.value,name:a(p.value.id)}),u.value&&(u.value={...u.value,name:a(u.value.type)})});const C=()=>{"ios"===s.value&&cl().enable()},E=()=>{"ios"===s.value&&setTimeout(()=>window.scrollTo(0,0),50)};return(0,o.wB)(h,()=>{setTimeout(()=>window.scrollTo(0,0),50)}),{close:f,folder:h,folders:v,searchFolder:b,cards:c,maskType:u,coloristicType:m,coloristicTypes:g,applyFilter:k,clearFilter:y,t:a,paletteType:p,palettesCards:d,focusInput:C,focusOutInput:E}}});const An=(0,h.A)(wn,[["render",cn],["__scopeId","data-v-843d530e"]]);var In=An;const Ln=e=>0===Object.keys(e).length,Dn=e=>Object.fromEntries(Object.entries(e).filter(([,e])=>e));function Sn(e,t,a,l,s,n){return(0,o.uX)(),(0,o.CE)("div",{ref:"container",class:"virtual-grid",style:(0,c.Tr)(e.containerStyle),onScroll:t[0]||(t[0]=(...t)=>e.onScroll&&e.onScroll(...t))},[(0,o.Lk)("div",{class:"spacer",style:(0,c.Tr)({height:e.totalHeight+"px"})},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.visibleItems,(t,a)=>((0,o.uX)(),(0,o.CE)("div",{key:e.itemKey(t),class:"cell",style:(0,c.Tr)(e.cellStyle(e.startIndex+a))},[(0,o.RG)(e.$slots,"default",{item:t,index:e.startIndex+a},void 0,!0)],4))),128))],4)],36)}var Bn=(0,o.pM)({props:{items:{type:Array,required:!0},itemKey:{type:Function,default:e=>e?.id??JSON.stringify(e)},minColumnWidth:{type:Number,default:250},rowHeight:{type:Number,default:300},gap:{type:Number,default:5},bufferRows:{type:Number,default:20},height:{type:[Number,String],default:400}},emits:["scroll"],setup(e,{emit:t}){const a=(0,n.KR)(null),l=(0,n.KR)(0),s=(0,n.KR)(0),i=(0,n.KR)(0);let r=null;const c=(0,o.EW)(()=>({height:"number"===typeof e.height?`${e.height}px`:String(e.height)})),d=(0,o.EW)(()=>Math.max(1,Math.floor((i.value+e.gap)/(e.minColumnWidth+e.gap)))),u=(0,o.EW)(()=>{const t=d.value;return(i.value-(t-1)*e.gap)/t}),p=(0,o.EW)(()=>Math.ceil(e.items.length/d.value)),m=(0,o.EW)(()=>p.value*e.rowHeight+Math.max(0,p.value-1)*e.gap),g=(0,o.EW)(()=>Math.max(0,m.value-s.value)),v=(0,o.EW)(()=>Math.ceil(s.value/(e.rowHeight+e.gap))+e.bufferRows),h=(0,o.EW)(()=>{const t=Math.floor(l.value/(e.rowHeight+e.gap)),a=Math.max(0,Math.ceil(p.value-v.value));return Math.min(t,a)}),f=(0,o.EW)(()=>h.value*d.value),b=(0,o.EW)(()=>{const t=e.items.length,a=v.value*d.value;return Math.min(f.value+a,t)}),k=(0,o.EW)(()=>e.items.slice(f.value,b.value)),y=(0,o.EW)(()=>h.value*(e.rowHeight+e.gap)),C=(0,o.EW)(()=>Math.floor(b.value/d.value)),E=(0,o.EW)(()=>{const t=Math.max(0,p.value-C.value);return t*(e.rowHeight+e.gap)}),F=()=>{const e=a.value;e&&(s.value=e.clientHeight,i.value=e.clientWidth)},w=t=>{const a=Math.floor(t/d.value),l=t%d.value,o=l*(u.value+e.gap),s=a*(e.rowHeight+e.gap);return{position:"absolute",transform:`translate3d(${Math.round(o)}px, ${Math.round(s)}px, 0)`,width:`${Math.round(u.value)}px`,height:`${e.rowHeight}px`}};let A=null;const I=e=>{t("scroll",e);const a=e.target,o=a.scrollTop;null!=A&&cancelAnimationFrame(A),A=requestAnimationFrame(()=>{l.value=Math.max(0,Math.min(o,g.value)),A=null})};return(0,o.sV)(()=>{(0,o.dY)(()=>F()),a.value&&"ResizeObserver"in window&&(r=new ResizeObserver(()=>F()),r.observe(a.value)),window.addEventListener("resize",F)}),(0,o.xo)(()=>{r?.disconnect(),window.removeEventListener("resize",F)}),{container:a,containerStyle:c,visibleItems:k,startIndex:f,totalHeight:m,topSpacer:y,bottomSpacer:E,cellStyle:w,onScroll:I}}});const _n=(0,h.A)(Bn,[["render",Sn],["__scopeId","data-v-5170dfca"]]);var Mn=_n,Tn=(0,o.pM)({components:{AppVirtualScrollGrid:Mn,AppPopover:ga,AppPopoverWrapper:ra,AppPopoverItem:la,AppCheckbox:Ea,AppLoader:Ll,AppButton:Kt,AppInput:Ie,AppImageCard:As},setup(){const{t:e}=(0,r.s9)(),t=(0,i.Pj)(),a=(0,n.KR)(""),l=(0,n.KR)(null),s=(0,n.KR)(null),c=(0,o.EW)(()=>t.getters["gallery/getImages"]),d=(0,n.KR)(null),u=(0,o.EW)(()=>t.getters["authFirebase/getUserId"]),p=(0,o.EW)(()=>t.getters["gallery/getTotalImages"]),m=(0,o.EW)(()=>t.getters["gallery/getLastDoc"]),g=(0,o.EW)(()=>t.getters["gallery/isLoading"]),v=(0,o.EW)(()=>t.getters["gallery/getFilter"]),h=(0,o.EW)(()=>t.getters["gallery/getSelected"]),f=(0,o.EW)(()=>{const e=v.value;return!e||Ln(Dn(e))}),b=(0,o.EW)(()=>"mobile"===t.getters["mobile/breakPoint"]),k=(0,n.KR)(!1),y=(0,n.KR)(!1),C=(0,n.KR)(!1),E=(0,n.KR)(!1);let w=0,A=null;(0,o.sV)(async()=>{await t.dispatch("folder/getFolders",u.value),await t.dispatch("gallery/initUserGalleryItems",{userId:u.value,options:{title:a.value,coloristicType:v.value?.coloristicType?.id,maskType:v.value?.maskType?.type,folderId:v.value?.folder?.id,paletteType:v.value?.paletteType?.id},reset:!0})});const I=async e=>{await F(zs,{images:c.value,startIndex:e})},L=async()=>{await F(In,{}).then(e=>{e&&t.dispatch("gallery/initUserGalleryItems",{userId:u.value,options:{title:a.value,coloristicType:v.value?.coloristicType?.id,maskType:v.value?.maskType?.type,folderId:v.value?.folder?.id,paletteType:v.value?.paletteType?.id},reset:!0})})},D=async e=>{const l=e.target,o=Math.ceil(l.scrollTop+l.clientHeight),n=l.scrollTop,i=o>=l.scrollHeight;i&&p.value>c.value.length&&!g.value&&await t.dispatch("gallery/initUserGalleryItems",{userId:u.value,options:{title:a.value,coloristicType:v.value?.coloristicType?.id,maskType:v.value?.maskType?.type,folderId:v.value?.folder?.id,paletteType:v.value?.paletteType?.id,lastDoc:m.value}});const r=o>=l.scrollHeight-20;if(s.value&&s.value.clientHeight>=l.scrollHeight)return E.value=!1,void(w=n<=0?0:n);r||(n>w?E.value=!0:n<w&&(E.value=!1)),w=n<=0?0:n};(0,o.wB)(a,e=>{A&&clearTimeout(A),A=setTimeout(()=>{t.dispatch("gallery/initUserGalleryItems",{userId:u.value,options:{title:e,...v},reset:!0})},300)}),(0,o.wB)(k,e=>{t.dispatch("gallery/setSelectedMode",e)}),(0,o.wB)(y,e=>{e?(t.dispatch("gallery/setSelectedMode",!0),t.dispatch("gallery/setSelectedAll",c.value)):t.dispatch("gallery/clearSelected")});const S=async()=>{await F(yl,{text:e("dyrAllDeleted"),title:e("delete")}).then(e=>{e&&t.dispatch("gallery/deleteImagesFromGallery",h.value.map(e=>e.id))})},B=()=>{t.dispatch("gallery/clearSelected")},_=()=>{C.value=!0},M=e=>c.value.findIndex(t=>t.id===e.id),T=(0,o.EW)(()=>b.value&&E.value?"calc(100dvh - var(--header-height) - 5px)":E.value?"calc(100dvh - var(--header-height) - 25px)":"calc(100dvh - var(--header-height) - 135px)");return{images:c,currentIndex:d,openCardModal:I,isLoading:g,totalImages:p,imagesContainer:l,onScroll:D,search:a,openFilterModal:L,isFilterEmpty:f,t:e,isSelectedMode:k,selected:h,openDeleteModal:S,clearSelected:B,chooseAll:y,isMobile:b,openPopover:_,visiblePopover:C,isHidden:E,getCurrentIndex:M,heightImagesContainer:T,galleryRef:s}}});const xn=(0,h.A)(Tn,[["render",fs],["__scopeId","data-v-096b5e3a"]]);var Rn=xn;const Pn={class:"chroma-wrapper"},Wn={class:"photo-picker"};function Xn(e,t,a,l,s,n){const i=(0,o.g2)("app-image-not-uploaded"),r=(0,o.g2)("app-image-color-picker"),c=(0,o.g2)("app-color-picker");return(0,o.uX)(),(0,o.CE)("div",Pn,[(0,o.Lk)("div",Wn,[e.imgEl?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(i,{key:0,onOnFileSelected:e.onFileSelected},null,8,["onOnFileSelected"])),e.imgEl?((0,o.uX)(),(0,o.Wv)(r,{key:1,"image-element":e.imgEl,"is-show-section-info":!1,onSelectedHex:t[0]||(t[0]=t=>e.selectedHex=t),onIsHiddenOverflow:t[1]||(t[1]=t=>e.isHiddenOverflow=t)},null,8,["image-element"])):(0,o.Q3)("",!0)]),(0,o.bF)(c,{"hex-p":e.selectedHex},null,8,["hex-p"])])}const Kn={class:"color-picker"},On={class:"preview-row"},Un={class:"controls"},Vn={class:"info"},Gn={class:"combos"},zn={class:"row"},Qn={class:"label"},Hn={class:"row"};function Nn(e,t,a,s,n,i){const r=(0,o.g2)("app-input");return(0,o.uX)(),(0,o.CE)("div",Kn,[(0,o.Lk)("div",On,[(0,o.Lk)("div",{class:"preview",style:(0,c.Tr)({background:e.hex}),"aria-hidden":"true"},null,4),(0,o.bF)(r,{modelValue:e.hex,"onUpdate:modelValue":t[0]||(t[0]=t=>e.hex=t),"is-label":!1},null,8,["modelValue"])]),(0,o.Lk)("div",Un,[(0,o.Lk)("div",{ref:"svEl",class:"sv",style:(0,c.Tr)({background:e.svBackground}),onPointerdown:t[1]||(t[1]=(0,l.D$)((...t)=>e.onSvPointerDown&&e.onSvPointerDown(...t),["prevent"]))},[t[3]||(t[3]=(0,o.Lk)("div",{class:"sv-overlay"},null,-1)),(0,o.Lk)("div",{class:"sv-cursor",style:(0,c.Tr)(e.svCursorStyle),"aria-hidden":"true"},null,4)],36),(0,o.Lk)("div",{ref:"hueEl",class:"hue",onPointerdown:t[2]||(t[2]=(0,l.D$)((...t)=>e.onHuePointerDown&&e.onHuePointerDown(...t),["prevent"]))},[(0,o.Lk)("div",{class:"hue-cursor",style:(0,c.Tr)(e.hueCursorStyle),"aria-hidden":"true"},null,4)],544)]),(0,o.Lk)("div",Vn,[(0,o.Lk)("div",null,[t[4]||(t[4]=(0,o.Lk)("strong",null,"HEX:",-1)),(0,o.eW)(" "+(0,c.v_)(e.hex),1)]),(0,o.Lk)("div",null,[t[5]||(t[5]=(0,o.Lk)("strong",null,"RGB:",-1)),(0,o.eW)(" "+(0,c.v_)(e.rgb.join(", ")),1)])]),(0,o.Lk)("section",Gn,[(0,o.Lk)("h4",null,(0,c.v_)(e.t("combinations")),1),(0,o.Lk)("div",zn,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.combos,e=>((0,o.uX)(),(0,o.CE)("div",{key:e.label,class:"combo"},[(0,o.Lk)("div",{class:"swatch",style:(0,c.Tr)({background:e.color})},null,4),(0,o.Lk)("div",Qn,(0,c.v_)(e.label)+" — "+(0,c.v_)(e.color),1)]))),128))]),(0,o.Lk)("h4",null,(0,c.v_)(e.t("scale")),1),(0,o.Lk)("div",Hn,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.scaleColors,e=>((0,o.uX)(),(0,o.CE)("div",{key:e,class:"swatch",style:(0,c.Tr)({background:e})},null,4))),128))])])])}var jn=a(6353),$n=(0,o.pM)({components:{AppInput:Ie},props:{hexP:{type:String,default:"#D4F880"}},setup(e){const{t:t}=(0,r.s9)(),a=(0,n.KR)(e.hexP),l=(0,n.KR)((0,jn.Ay)(a.value).hsl()[0]??0),s=(0,n.KR)((0,jn.Ay)(a.value).hsl()[1]??1),i=(0,n.KR)((0,jn.Ay)(a.value).hsl()[2]??.5),c=(0,n.KR)(null),d=(0,n.KR)(null);(0,o.wB)(()=>e.hexP,e=>{a.value=e},{immediate:!1});const u=(0,o.EW)(()=>jn.Ay.valid(a.value)?(0,jn.Ay)(a.value):(0,jn.Ay)("#000")),p=(0,o.EW)(()=>u.value.rgb()),m=(0,o.EW)(()=>jn.Ay.hsl(l.value,1,.5).hex()),g=(0,o.EW)(()=>({left:`${(100*s.value).toFixed(2)}%`,top:`${(100*(1-i.value)).toFixed(2)}%`,transform:"translate(-50%,-50%)"})),v=(0,o.EW)(()=>({left:`${(l.value%360/360*100).toFixed(2)}%`,transform:"translateX(-50%)"})),h=(0,o.EW)(()=>{const e=u.value.hsl()[0]??0,t=u.value.hsl()[1],a=u.value.hsl()[2];return[{label:"Complement",color:jn.Ay.hsl((e+180)%360,t,a).hex()},{label:"Analog -30",color:jn.Ay.hsl((e-30+360)%360,t,a).hex()},{label:"Analog +30",color:jn.Ay.hsl((e+30)%360,t,a).hex()},{label:"Triad 1",color:jn.Ay.hsl((e+120)%360,t,a).hex()},{label:"Triad 2",color:jn.Ay.hsl((e+240)%360,t,a).hex()}]}),f=(0,o.EW)(()=>{const e=jn.Ay.valid(a.value)?a.value:"#000";return jn.Ay.scale([e,(0,jn.Ay)(e).darken(2)]).mode("lab").colors(5)}),b=()=>{const e=jn.Ay.hsv(l.value,s.value,i.value);a.value=e.hex()},k=()=>{if(jn.Ay.valid(a.value)){const e=(0,jn.Ay)(a.value).hsl();l.value=e[0]??0,s.value=e[1]??1,i.value=e[2]??.5}};let y=!1;const C=(e,t)=>{const a=c.value;if(!a)return;const l=a.getBoundingClientRect(),o=Math.min(Math.max(0,e-l.left),l.width),n=Math.min(Math.max(0,t-l.top),l.height);s.value=o/l.width,i.value=1-n/l.height,b()},E=e=>{y=!0,c.value?.setPointerCapture?.(e.pointerId),C(e.clientX,e.clientY),window.addEventListener("pointermove",F),window.addEventListener("pointerup",w,{once:!0})},F=e=>{y&&C(e.clientX,e.clientY)},w=e=>{y=!1,c.value?.releasePointerCapture?.(e.pointerId),window.removeEventListener("pointermove",F),window.removeEventListener("pointerup",w)};let A=!1;const I=e=>{const t=d.value;if(!t)return;const a=t.getBoundingClientRect(),o=Math.min(Math.max(0,e-a.left),a.width);l.value=o/a.width*360,b()},L=e=>{A=!0,d.value?.setPointerCapture?.(e.pointerId),I(e.clientX),window.addEventListener("pointermove",D),window.addEventListener("pointerup",S,{once:!0})},D=e=>{A&&I(e.clientX)},S=e=>{A=!1,d.value?.releasePointerCapture?.(e.pointerId),window.removeEventListener("pointermove",D),window.removeEventListener("pointerup",S)};return(0,o.xo)(()=>{window.removeEventListener("pointermove",F),window.removeEventListener("pointerup",w),window.removeEventListener("pointermove",D),window.removeEventListener("pointerup",S)}),(0,o.sV)(async()=>{await(0,o.dY)(),k()}),{hex:a,hue:l,sat:s,val:i,svEl:c,hueEl:d,color:u,rgb:p,svBackground:m,svCursorStyle:g,hueCursorStyle:v,onSvPointerDown:E,onHuePointerDown:L,combos:h,scaleColors:f,t:t}}});const Yn=(0,h.A)($n,[["render",Nn],["__scopeId","data-v-e540f4a6"]]);var qn=Yn;const Jn={class:"image-placeholder",role:"button",tabindex:"0","aria-label":"Загрузить фото"},Zn={class:"placeholder-inner"},ei={class:"placeholder-text"};function ti(e,t,a,l,s,n){const i=(0,o.g2)("app-file-uploader");return(0,o.uX)(),(0,o.CE)("div",Jn,[(0,o.Lk)("div",Zn,[t[0]||(t[0]=(0,o.Lk)("svg",{class:"placeholder-icon",width:"48",height:"48",viewBox:"0 0 24 24","aria-hidden":"true"},[(0,o.Lk)("path",{fill:"currentColor",d:"M5 20h14V8l-4-4H5v16zm2-9l2.5 3 3.5-4.5L17 17H7l0-6z"})],-1)),(0,o.Lk)("div",ei,(0,c.v_)(e.t("photoNotUploaded")),1),(0,o.bF)(i,{"is-show-sign":!1,onSelect:e.onFileSelected},null,8,["onSelect"])])])}var ai=(0,o.pM)({components:{AppFileUploader:Ql},emits:["onFileSelected"],setup(e,{emit:t}){const{t:a}=(0,r.s9)(),l=e=>{t("onFileSelected",e)};return{t:a,onFileSelected:l}}});const li=(0,h.A)(ai,[["render",ti],["__scopeId","data-v-a8d42910"]]);var oi=li;const si={class:"viewer-wrap"},ni={ref:"canvasEl"},ii={class:"info-row"},ri={key:0},ci={class:"values"},di={class:"actions"};function ui(e,t,a,l,s,n){const i=(0,o.g2)("app-button"),r=(0,o.g2)("app-file-uploader");return(0,o.uX)(),(0,o.CE)("div",si,[(0,o.Lk)("canvas",ni,null,512),(0,o.Lk)("div",ii,[e.isShowSectionInfo?((0,o.uX)(),(0,o.CE)("section",ri,[(0,o.Lk)("div",{class:"swatch",style:(0,c.Tr)({background:e.currentHex})},null,4),(0,o.Lk)("div",ci,[(0,o.Lk)("div",null,[t[0]||(t[0]=(0,o.Lk)("strong",null,"RGB:",-1)),(0,o.eW)(" "+(0,c.v_)(e.currentRgb.join(", ")),1)]),(0,o.Lk)("div",null,[t[1]||(t[1]=(0,o.Lk)("strong",null,"HEX:",-1)),(0,o.eW)(" "+(0,c.v_)(e.currentHex),1)])])])):(0,o.Q3)("",!0),(0,o.Lk)("div",di,[(0,o.bF)(i,{severity:"secondary",raised:"",icon:["fas","undo"],onClick:e.resetImage},null,8,["onClick"]),(0,o.bF)(i,{severity:"secondary",raised:"",icon:["fas","plus"],onClick:e.zoomPlus},null,8,["onClick"]),(0,o.bF)(i,{severity:"secondary",raised:"",icon:["fas","minus"],onClick:e.zoomMinus},null,8,["onClick"]),(0,o.bF)(r,{"is-show-sign":!1,"is-title":!1,onSelect:e.onFileSelected},null,8,["onSelect"])])])])}var pi=(0,o.pM)({components:{AppButton:Kt,AppFileUploader:Ql},props:{imageElement:{type:Object,default:null,require:!0},isShowSectionInfo:{type:Boolean,default:!0}},emits:["selectedHex","isHiddenOverflow","imageUrlChanged"],setup(e,{emit:t}){const a=(0,i.Pj)(),l=(0,n.KR)(e.imageElement),s=(0,n.KR)(null),r=(0,n.KR)([0,0,0]),c=(0,n.KR)("#D4F880"),d=(0,n.KR)("#D4F880"),u=(0,o.EW)(()=>"mobile"===a.getters["mobile/breakPoint"]),p=u.value?350:450,m=u.value?350:450;let g=null,v=!1;(0,o.sV)(()=>{C(),f()});const h=e=>{if(!e)return;const a=URL.createObjectURL(e);k(a),t("imageUrlChanged",a)},f=()=>{const e=s.value,a=e.getBoundingClientRect();b(100,100);const l=e=>{0===e.button&&(v=!0,t("isHiddenOverflow",!0),cl().enable(),b(e.clientX-a.left,e.clientY-a.top))},o=e=>{v&&(t("isHiddenOverflow",!0),cl().enable(),b(e.clientX-a.left,e.clientY-a.top))},n=()=>{v=!1,cl().disable(),t("isHiddenOverflow",!1)},i=()=>{v=!1,cl().disable(),t("isHiddenOverflow",!1)},r=e=>{v=!0,t("isHiddenOverflow",!0),cl().enable();const l=e.touches[0];b(l.clientX-a.left,l.clientY-a.top)},c=e=>{if(!v)return;const l=e.touches[0];t("isHiddenOverflow",!0),cl().enable(),b(l.clientX-a.left,l.clientY-a.top)},d=()=>{v=!1,t("isHiddenOverflow",!1),cl().disable()};e.addEventListener("mousedown",l),e.addEventListener("mousemove",o),e.addEventListener("mouseup",n),e.addEventListener("mouseleave",i),e.addEventListener("touchstart",r),e.addEventListener("touchmove",c),e.addEventListener("touchend",d),g=()=>{e.removeEventListener("mousedown",l),e.removeEventListener("mousemove",o),e.removeEventListener("mouseup",n),e.removeEventListener("mouseleave",i),e.removeEventListener("touchstart",r),e.removeEventListener("touchmove",c),e.removeEventListener("touchend",d)}},b=(e,a)=>{const l=s.value,o=l.getContext("2d"),n=l.getBoundingClientRect();if(e<0||a<0||e>n.width||a>n.height)return;const i=o.getImageData(e,a,1,1).data,[u,p,m]=i;r.value=[u,p,m],c.value=y(u,p,m),d.value=c.value,t("selectedHex",d.value),C(),o.beginPath(),o.arc(e,a,14,0,2*Math.PI),o.fillStyle="rgba(255,255,255,0)",o.fill(),o.strokeStyle="#fff",o.lineWidth=2,o.stroke()},k=async e=>{const t=new Image;await new Promise((a,l)=>{t.onload=()=>a(),t.onerror=()=>l(new Error("Image load error")),t.src=e}),l.value=t,await(0,o.dY)(),C(),f()},y=(e,t,a)=>("#"+[e,t,a].map(e=>{const t=e.toString(16);return 1===t.length?"0"+t:t}).join("")).toUpperCase();(0,o.xo)(()=>{g&&g()});const C=()=>{const e=s.value;if(!e)return;const t=e.getContext("2d");if(!t)return;if(e.width=p,e.height=m,t.clearRect(0,0,p,m),!l.value)return;const a=l.value.naturalWidth,o=l.value.naturalHeight,n=a/o,i=p/m;let r,c;n>i?(r=p*A.value,c=p/n*A.value):(c=m*A.value,r=m*n*A.value);const d=(p-r)/2,u=(m-c)/2;t.drawImage(l.value,0,0,a,o,d,u,r,c)},{resetImage:E,zoomPlus:F,zoomMinus:w,zoom:A}=Jt(s,C);return{imgEl:l,currentRgb:r,currentHex:c,selectedHex:d,onFileSelected:h,canvasEl:s,resetImage:E,zoomPlus:F,zoomMinus:w}}});const mi=(0,h.A)(pi,[["render",ui],["__scopeId","data-v-46be160e"]]);var gi=mi,vi=(0,o.pM)({components:{AppImageColorPicker:gi,AppImageNotUploaded:oi,AppColorPicker:qn},setup(){const e=(0,n.KR)("#D4F880"),t=(0,n.KR)(null),a=(0,n.KR)(!1),l=e=>{if(!e)return;const t=URL.createObjectURL(e);o(t)},o=async e=>{const a=new Image;await new Promise((t,l)=>{a.onload=()=>t(),a.onerror=()=>l(new Error("Image load error")),a.src=e}),t.value=a};return{imgEl:t,selectedHex:e,onFileSelected:l,isHiddenOverflow:a}}});const hi=(0,h.A)(vi,[["render",Xn],["__scopeId","data-v-4e368884"]]);var fi=hi;const bi={class:"container"},ki={class:"header-section"},yi={class:"app-dropdown"},Ci={class:"open-layout"},Ei={class:"sidebar-item"},Fi={class:"icon"},wi={key:0,class:"title"},Ai={class:"sidebar-item"},Ii={class:"icon"},Li={key:0,class:"title"},Di={class:"sidebar-item"},Si={class:"icon"},Bi={key:0,class:"title"},_i=["onClick"],Mi={class:"main"};function Ti(e,t,a,l,s,n){const i=(0,o.g2)("app-toggle"),r=(0,o.g2)("app-option"),d=(0,o.g2)("app-dropdown"),u=(0,o.g2)("app-burger-menu"),p=(0,o.g2)("app-header"),m=(0,o.g2)("font-awesome-icon"),g=(0,o.g2)("router-link"),v=(0,o.g2)("app-sidebar"),h=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)("div",bi,[(0,o.bF)(p,null,{default:(0,o.k6)(()=>[(0,o.Lk)("section",ki,[t[2]||(t[2]=(0,o.Lk)("img",{src:M,alt:"App Logo",width:"32",height:"32"},null,-1)),(0,o.Lk)("section",null,[(0,o.bF)(i,{modelValue:e.isDark,"onUpdate:modelValue":t[0]||(t[0]=t=>e.isDark=t),variant:"theme",onToggled:e.toggled},null,8,["modelValue","onToggled"]),(0,o.Lk)("div",yi,[(0,o.bF)(d,{modelValue:e.language,"onUpdate:modelValue":t[1]||(t[1]=t=>e.language=t),label:"name"},{default:(0,o.k6)(()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.languages,e=>((0,o.uX)(),(0,o.Wv)(r,{key:e,value:e},{default:(0,o.k6)(()=>[(0,o.eW)((0,c.v_)(e),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),e.isMobile?((0,o.uX)(),(0,o.Wv)(u,{key:0})):(0,o.Q3)("",!0)])])]),_:1}),(0,o.Lk)("section",Ci,[(0,o.bF)(v,null,{main:(0,o.k6)(({isShort:t})=>[(0,o.bF)(g,{to:"/home","active-class":"active-link"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",Ei,[(0,o.Lk)("div",Fi,[(0,o.bF)(m,{size:"xl",icon:["fas","home"]})]),t?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",wi,(0,c.v_)(e.t("home")),1))])]),_:2},1024),(0,o.bF)(g,{to:"/signIn","active-class":"active-link"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",Ai,[(0,o.Lk)("div",Ii,[(0,o.bF)(m,{size:"xl",icon:["fas","sign-in"]})]),t?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",Li,(0,c.v_)(e.t("login")),1))])]),_:2},1024),(0,o.bF)(g,{to:"/signUp","active-class":"active-link"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",Di,[(0,o.Lk)("div",Si,[(0,o.bF)(m,{size:"xl",icon:["fas","user-plus"]})]),t?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",Bi,(0,c.v_)(e.t("signUp")),1))])]),_:2},1024)]),additional:(0,o.k6)(({isShort:t,toggle:a})=>[e.isMobile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",{key:0,class:"sidebar-item",onClick:a},[(0,o.bF)(m,{size:"xl",icon:t?["fas","arrow-left"]:["fas","arrow-right"]},null,8,["icon"])],8,_i))]),_:1}),(0,o.Lk)("main",Mi,[(0,o.bF)(h)])])])}var xi=(0,o.pM)({components:{AppBurgerMenu:st,AppSidebar:tt,AppOption:ze,AppDropdown:Oe,AppHeader:$e,AppToggle:re},setup(){const{t:e}=(0,r.s9)(),t=(0,i.Pj)(),a=(0,n.KR)(["en","ru"]),l=(0,n.KR)(t.getters["language/language"]),s=(0,n.KR)(t.getters["theme/isDark"]),c=(0,o.EW)(()=>"mobile"===t.getters["mobile/breakPoint"]),d=e=>{t.dispatch("theme/setTheme",e)};return(0,o.wB)(l,e=>{t.dispatch("language/setLanguage",{language:e})}),{toggled:d,isDark:s,language:l,languages:a,isMobile:c,t:e}}});const Ri=(0,h.A)(xi,[["render",Ti]]);var Pi=Ri;const Wi={class:"container"},Xi={class:"wrap-login"},Ki={class:"login-form"},Oi={class:"title"},Ui={class:"login-inputs"},Vi={class:"btn-password"},Gi={class:"text-center"},zi={class:"txt1"};function Qi(e,t,a,l,s,n){const i=(0,o.g2)("app-image-login"),r=(0,o.g2)("app-input"),d=(0,o.g2)("Field"),u=(0,o.g2)("font-awesome-icon"),p=(0,o.g2)("app-button"),m=(0,o.g2)("VForm"),g=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("section",Wi,[(0,o.Lk)("div",Xi,[(0,o.bF)(i),(0,o.Lk)("div",Ki,[(0,o.Lk)("h1",Oi,(0,c.v_)(e.t("login")),1),(0,o.bF)(m,{"validation-schema":e.formGroup,onSubmit:e.onSubmit},{default:(0,o.k6)(()=>[(0,o.Lk)("section",Ui,[(0,o.bF)(d,{name:"email"},{default:(0,o.k6)(({field:a,meta:l,errorMessage:s})=>[(0,o.bF)(r,(0,o.v6)(a,{modelValue:e.email,"onUpdate:modelValue":t[0]||(t[0]=t=>e.email=t),placeholder:"example@gmail.com",label:"email",icon:["fas","envelope"],"z-index-tooltip":8,error:l.touched?s:"",type:"email",onFocus:e.focusInput,onBlur:e.focusOutInput}),null,16,["modelValue","error","onFocus","onBlur"])]),_:1}),(0,o.bF)(d,{name:"password"},{default:(0,o.k6)(({field:a,meta:l,errorMessage:s})=>[(0,o.Lk)("div",Vi,[(0,o.bF)(r,(0,o.v6)(a,{modelValue:e.password,"onUpdate:modelValue":t[1]||(t[1]=t=>e.password=t),placeholder:"password",label:"password",type:e.typeInput,"z-index-tooltip":8,icon:["fas","lock"],error:l.touched?s:"",onFocus:e.focusInput,onBlur:e.focusOutInput}),null,16,["modelValue","type","error","onFocus","onBlur"]),(0,o.Lk)("div",{class:"icon-eye",onClick:t[2]||(t[2]=(...t)=>e.toggleEye&&e.toggleEye(...t))},[(0,o.bF)(u,{icon:e.eyeIcon},null,8,["icon"])])])]),_:1})]),(0,o.bF)(p,{loading:e.loading,type:"submit",title:"login"},null,8,["loading"])]),_:1},8,["validation-schema","onSubmit"]),(0,o.Lk)("section",null,[(0,o.Lk)("div",Gi,[(0,o.Lk)("span",zi,(0,c.v_)(e.t("forgot")),1),(0,o.bF)(g,{class:"txt2",to:{name:"forgot"}},{default:(0,o.k6)(()=>[(0,o.eW)((0,c.v_)(e.t("userName"))+" / "+(0,c.v_)(e.t("password"))+"? ",1)]),_:1})])])])])])}var Hi=a(482),Ni=a.p+"img/img-01.65cd3f0f.png";const ji={ref:"imageRef",src:Ni,alt:""};function $i(e,t,a,l,s,n){return(0,o.uX)(),(0,o.CE)("div",{class:"login-pic",onMousemove:t[0]||(t[0]=(...t)=>e.handleMouseMove&&e.handleMouseMove(...t)),onMouseleave:t[1]||(t[1]=(...t)=>e.resetTransform&&e.resetTransform(...t))},[(0,o.Lk)("img",ji,null,512)],32)}var Yi=(0,o.pM)({setup(){const e=(0,n.KR)(null),t=t=>{const a=e.value;if(!a)return;const l=a.getBoundingClientRect(),o=t.clientX-l.left,s=t.clientY-l.top,n=l.width/2,i=l.height/2,r=(o-n)/n*10,c=-(s-i)/i*10;a.style.transform=`perspective(300px) rotateX(${c}deg) rotateY(${r}deg)`},a=()=>{e.value&&(e.value.style.transform="perspective(300px) rotateX(0deg) rotateY(0deg)")};return{handleMouseMove:t,resetTransform:a,imageRef:e}}});const qi=(0,h.A)(Yi,[["render",$i],["__scopeId","data-v-1db25032"]]);var Ji=qi;function Zi(e="password"){const t=(0,n.KR)(e),a=(0,o.EW)(()=>"password"===t.value?["fas","eye-slash"]:["fas","eye"]),l=()=>{t.value="password"===t.value?"text":"password"};return{typeInput:t,eyeIcon:a,toggleEye:l}}var er=(0,o.pM)({components:{AppImageLogin:Ji,Field:Hi.D0,VForm:Hi.lV,AppInput:Ie,AppButton:Kt},setup(){const e=(0,_.rd)(),t=(0,i.Pj)(),{t:a}=(0,r.s9)(),l=(0,n.KR)(""),s=(0,n.KR)(""),{typeInput:c,eyeIcon:d,toggleEye:u}=Zi(),p=(0,o.EW)(()=>t.getters["authFirebase/isLoading"]),m=(0,o.EW)(()=>t.getters["mobile/getDevice"]),g=new Map,v=Wa.Ik({email:Wa.Yj().required("validation.required").email("validation.invalidEmail"),password:Wa.Yj().required("validation.required").min(6,{key:"validation.min",values:{count:6}})}),h=async a=>{try{await t.dispatch("authFirebase/login",a),await e.push("/main")}catch(l){console.error(l)}},f=()=>{"ios"===m.value&&(cl().enable(),g.set("focus",!0))},b=()=>{"ios"===m.value&&(g.set("focus",!1),setTimeout(()=>{g.get("focus")||(cl().disable(),setTimeout(()=>window.scrollTo(0,0),50))},100))};return{formGroup:v,onSubmit:h,email:l,password:s,loading:p,t:a,typeInput:c,eyeIcon:d,toggleEye:u,focusInput:f,focusOutInput:b}}});const tr=(0,h.A)(er,[["render",Qi],["__scopeId","data-v-c3ef3064"]]);var ar=tr;function lr(e,t){return(0,o.uX)(),(0,o.CE)("div",null,"Forgot")}const or={},sr=(0,h.A)(or,[["render",lr]]);var nr=sr,ir=a.p+"img/rainbow-bg.1e8096b9.png",rr=a.p+"media/ai.7eb9ed3d.mp4",cr=a(231),dr=a(6590),ur=a(651);const pr={class:"home-container"},mr={class:"welcome-section"},gr={class:"welcome-text"},vr={class:"welcomeSubText"},hr={class:"section-wrapper"},fr={class:"who-for-section"},br={class:"section-title fade-in-down"},kr={class:"section-subtitle fade-in-down"},yr={class:"who-for-list"},Cr={class:"fade-in-left delay-1"},Er={class:"fade-in-left delay-2"},Fr={class:"fade-in-left delay-3"},wr={class:"fade-in-left delay-4"},Ar={class:"btn fade-in-up"},Ir={class:"who-for-section"},Lr={class:"section-title"},Dr={class:"section-subtitle"},Sr={class:"frames-carousel"},Br={class:"frame-card"},_r=["src"],Mr={class:"palette-explore"},Tr={class:"palette-explore-section"},xr={class:"section-title fade-in-down"},Rr={class:"who-for-list"},Pr={class:"fade-in-left delay-1"},Wr={class:"fade-in-left delay-2"},Xr={class:"fade-in-left delay-3"},Kr={class:"palettes"},Or={class:"frames-carousel"},Ur={class:"frame-card"},Vr=["src"],Gr={class:"picker"},zr={class:"section-wrapper"},Qr={class:"who-for-section"},Hr={class:"section-title fade-in-down"},Nr={class:"who-for-list"},jr={class:"fade-in-left delay-1"},$r={class:"fade-in-left delay-2"},Yr={class:"fade-in-left delay-3"},qr={class:"who-for-section"},Jr={class:"section-title"},Zr={class:"section-subtitle"},ec={class:"gallery-cards"},tc={class:"gallery-card fade-in-left delay-1"},ac={class:"icon"},lc={class:"gallery-card fade-in-left delay-2"},oc={class:"icon"},sc={class:"gallery-card fade-in-left delay-3"},nc={class:"icon"},ic={class:"btn fade-in-up"};function rc(e,t,a,l,s,n){const i=(0,o.g2)("app-button"),r=(0,o.g2)("app-palette"),d=(0,o.g2)("app-color-picker"),u=(0,o.g2)("font-awesome-icon");return(0,o.uX)(),(0,o.CE)("div",pr,[(0,o.Lk)("div",mr,[t[0]||(t[0]=(0,o.Lk)("img",{src:ir,alt:"Background photo",class:"background-photo"},null,-1)),(0,o.Lk)("div",gr,[(0,o.Lk)("h1",null,(0,c.v_)(e.t("welcomeText")),1),(0,o.Lk)("p",vr,(0,c.v_)(e.t("welcomeSubText")),1)])]),(0,o.Lk)("div",hr,[(0,o.Lk)("section",fr,[(0,o.Lk)("h2",br,"👥 "+(0,c.v_)(e.t("whoIsThisAppFor")),1),(0,o.Lk)("p",kr,(0,c.v_)(e.t("discoverColorText")),1),(0,o.Lk)("ul",yr,[(0,o.Lk)("li",Cr,[t[1]||(t[1]=(0,o.Lk)("span",{class:"marker gradient-1"},null,-1)),(0,o.eW)(" "+(0,c.v_)(e.t("individualReadyText")),1)]),(0,o.Lk)("li",Er,[t[2]||(t[2]=(0,o.Lk)("span",{class:"marker gradient-2"},null,-1)),(0,o.eW)(" "+(0,c.v_)(e.t("fashionLoversText")),1)]),(0,o.Lk)("li",Fr,[t[3]||(t[3]=(0,o.Lk)("span",{class:"marker gradient-3"},null,-1)),(0,o.eW)(" "+(0,c.v_)(e.t("designersCravingText")),1)]),(0,o.Lk)("li",wr,[t[4]||(t[4]=(0,o.Lk)("span",{class:"marker gradient-4"},null,-1)),(0,o.eW)(" "+(0,c.v_)(e.t("curiosMindText")),1)])]),(0,o.Lk)("div",Ar,[(0,o.bF)(i,{severity:"gradient",gradient:"",title:"getStarted",onClick:e.getStarted},null,8,["onClick"])])]),(0,o.Lk)("section",Ir,[(0,o.Lk)("h2",Lr,"📸 "+(0,c.v_)(e.t("instantFramedPhotos")),1),(0,o.Lk)("p",Dr,(0,c.v_)(e.t("capturePhotoText")),1),(0,o.Lk)("div",Sr,[(0,o.Lk)("div",Br,[(0,o.Lk)("img",{src:e.src,alt:"Background photo",class:"img-carousel"},null,8,_r)])])])]),(0,o.Lk)("div",Mr,[(0,o.Lk)("section",Tr,[(0,o.Lk)("h2",xr,"🌈 "+(0,c.v_)(e.t("paletteExplorerText")),1),(0,o.Lk)("ul",Rr,[(0,o.Lk)("li",Pr,[t[5]||(t[5]=(0,o.Lk)("span",{class:"marker gradient-1"},null,-1)),(0,o.eW)(" "+(0,c.v_)(e.t("selectAnyColorsText")),1)]),(0,o.Lk)("li",Wr,[t[6]||(t[6]=(0,o.Lk)("span",{class:"marker gradient-2"},null,-1)),(0,o.eW)(" "+(0,c.v_)(e.t("optionalColorChromaText")),1)]),(0,o.Lk)("li",Xr,[t[7]||(t[7]=(0,o.Lk)("span",{class:"marker gradient-3"},null,-1)),(0,o.eW)(" "+(0,c.v_)(e.t("buildPaletteText")),1)])]),(0,o.Lk)("div",Kr,[(0,o.Lk)("div",Or,[(0,o.Lk)("div",Ur,[(0,o.Lk)("img",{src:e.srcPalette,alt:"Background photo",class:"img-carousel"},null,8,Vr)])]),(0,o.bF)(r,{item:e.palette},null,8,["item"])])]),(0,o.Lk)("div",Gr,[(0,o.bF)(d,{"hex-p":e.selectedHex},null,8,["hex-p"])])]),(0,o.Lk)("div",zr,[(0,o.Lk)("section",Qr,[(0,o.Lk)("h2",Hr,"🤖 "+(0,c.v_)(e.t("aiAgent")),1),(0,o.Lk)("ul",Nr,[(0,o.Lk)("li",jr,[t[8]||(t[8]=(0,o.Lk)("span",{class:"marker gradient-1"},null,-1)),(0,o.eW)(" "+(0,c.v_)(e.t("askQuestionAiText")),1)]),(0,o.Lk)("li",$r,[t[9]||(t[9]=(0,o.Lk)("span",{class:"marker gradient-2"},null,-1)),(0,o.eW)(" "+(0,c.v_)(e.t("learnPreferColorText")),1)]),(0,o.Lk)("li",Yr,[t[10]||(t[10]=(0,o.Lk)("span",{class:"marker gradient-3"},null,-1)),(0,o.eW)(" "+(0,c.v_)(e.t("afterAllText")),1)])]),t[11]||(t[11]=(0,o.Lk)("section",{class:"video-section"},[(0,o.Lk)("video",{class:"video-bg",autoplay:"",muted:"",loop:"",playsinline:""},[(0,o.Lk)("source",{src:rr,type:"video/mp4"}),(0,o.eW)(" Your browser does not support the video tag. ")])],-1))]),(0,o.Lk)("section",qr,[(0,o.Lk)("h2",Jr,"🖼️ "+(0,c.v_)(e.t("yourGallery")),1),(0,o.Lk)("p",Zr,(0,c.v_)(e.t("organizeGalleryText")),1),(0,o.Lk)("div",ec,[(0,o.Lk)("div",tc,[(0,o.Lk)("div",ac,[(0,o.bF)(u,{size:"lg",icon:["fas","folder"]})]),(0,o.Lk)("span",null,(0,c.v_)(e.t("allYourPhotoText")),1)]),(0,o.Lk)("div",lc,[(0,o.Lk)("div",oc,[(0,o.bF)(u,{size:"lg",icon:["fas","search"]})]),(0,o.Lk)("span",null,(0,c.v_)(e.t("searchGalleryText")),1)]),(0,o.Lk)("div",sc,[(0,o.Lk)("div",nc,[(0,o.bF)(u,{size:"lg",icon:["fas","lock"]})]),(0,o.Lk)("span",null,(0,c.v_)(e.t("storedText")),1)])]),t[12]||(t[12]=(0,o.Fv)('<div class="gallery-preview" data-v-a2e01b1c><img src="'+cr+'" alt="Preview 1" data-v-a2e01b1c><img src="'+dr+'" alt="Preview 2" data-v-a2e01b1c><img src="'+ur+'" alt="Preview 3" data-v-a2e01b1c><img src="'+cr+'" alt="Preview 1" data-v-a2e01b1c><img src="'+dr+'" alt="Preview 2" data-v-a2e01b1c><img src="'+ur+'" alt="Preview 3" data-v-a2e01b1c><img src="'+cr+'" alt="Preview 1" data-v-a2e01b1c><img src="'+dr+'" alt="Preview 2" data-v-a2e01b1c><img src="'+ur+'" alt="Preview 3" data-v-a2e01b1c><img src="'+cr+'" alt="Preview 1" data-v-a2e01b1c><img src="'+dr+'" alt="Preview 2" data-v-a2e01b1c><img src="'+ur+'" alt="Preview 3" data-v-a2e01b1c></div>',1)),(0,o.Lk)("div",ic,[(0,o.bF)(i,{severity:"gradient",gradient:"",title:"getStarted",onClick:e.getStarted},null,8,["onClick"])])])])])}const cc={class:"palette"},dc={class:"palette-left"},uc={class:"palette-right"},pc={key:0,class:"my-color"};function mc(e,t,a,l,s,n){return(0,o.uX)(),(0,o.CE)("div",cc,[(0,o.Lk)("div",dc,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.item.segments.slice(0,35),e=>((0,o.uX)(),(0,o.CE)("div",{key:e,class:"palette-item",style:(0,c.Tr)({backgroundColor:e.color})},null,4))),128))]),(0,o.Lk)("div",uc,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.item.segments.slice(35,65),e=>((0,o.uX)(),(0,o.CE)("div",{key:e,class:"palette-item",style:(0,c.Tr)({backgroundColor:e.color})},null,4))),128))]),e.paletteCards.length?((0,o.uX)(),(0,o.CE)("div",pc,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.paletteCards,e=>((0,o.uX)(),(0,o.CE)("div",{key:e,class:"palette-item",style:(0,c.Tr)({backgroundColor:e.color})},null,4))),128))])):(0,o.Q3)("",!0)])}var gc=(0,o.pM)({props:{paletteCards:{type:Array,default:()=>[]},item:{type:Object,required:!0}}});const vc=(0,h.A)(gc,[["render",mc],["__scopeId","data-v-6f24147e"]]);var hc=vc,fc=(0,o.pM)({components:{AppButton:Kt,AppPalette:hc,AppColorPicker:qn},setup(){const{t:e}=(0,r.s9)(),t=new Array(7),l=(0,_.rd)(),s=new Array(12),i=(0,n.KR)(0),c=(0,n.KR)(0);let d;const u=Object.entries(Fn).map(([e,t])=>({segments:t.map(e=>({color:e}))})),p=(0,o.EW)(()=>a(4156)(`./buba-${i.value}.png`)),m=(0,o.EW)(()=>a(5306)(`./buba-c-${c.value}.png`)),g=(0,o.EW)(()=>u[c.value]);(0,o.sV)(()=>{d=setInterval(()=>{i.value=(i.value+1)%t.length,c.value=(c.value+1)%s.length},3e3)}),(0,o.hi)(()=>{clearInterval(d)});const v=async()=>{await l.push("/signUp")};return{frames:t,currentIndex:i,src:p,srcPalette:m,palette:g,t:e,getStarted:v}}});const bc=(0,h.A)(fc,[["render",rc],["__scopeId","data-v-a2e01b1c"]]);var kc=bc;const yc={class:"container"},Cc={class:"wrap-signUp"},Ec={class:"signUp-form"},Fc={class:"title"},wc={class:"current-step"},Ac={class:"signUp-inputs"},Ic={class:"btn-password"},Lc={class:"btn-password"};function Dc(e,t,a,s,n,i){const r=(0,o.g2)("app-image-login"),d=(0,o.g2)("app-input"),u=(0,o.g2)("Field"),p=(0,o.g2)("font-awesome-icon"),m=(0,o.g2)("app-button"),g=(0,o.g2)("VForm"),v=(0,o.g2)("app-stepper");return(0,o.uX)(),(0,o.CE)("section",yc,[(0,o.Lk)("div",Cc,[(0,o.bF)(r),(0,o.Lk)("div",Ec,[(0,o.Lk)("h1",Fc,(0,c.v_)(e.t("signUp")),1),(0,o.bF)(v,{"active-index":e.idx,"onUpdate:activeIndex":t[8]||(t[8]=t=>e.idx=t),steps:e.steps,orientation:"horizontal",clickable:e.isNextStep,linear:!0,"show-panel":!0},{panel:(0,o.k6)(({index:a})=>[(0,o.Lk)("div",wc,[(0,o.bF)(g,{"validation-schema":e.formGroup,onSubmit:e.onSubmit},{default:(0,o.k6)(()=>[(0,o.Lk)("section",Ac,[(0,o.bF)(u,{name:"firstName"},{default:(0,o.k6)(({field:s,meta:n,errorMessage:i})=>[(0,o.bo)((0,o.bF)(d,(0,o.v6)(s,{modelValue:e.firstName,"onUpdate:modelValue":t[0]||(t[0]=t=>e.firstName=t),label:"firstName",placeholder:"firstName",icon:["fas","pencil"],"z-index-tooltip":8,error:n.touched&&0===a?i:"",type:"text",onFocus:e.focusInput,onBlur:e.focusOutInput}),null,16,["modelValue","error","onFocus","onBlur"]),[[l.aG,0===a]])]),_:2},1024),(0,o.bF)(u,{name:"lastName"},{default:(0,o.k6)(({field:s,meta:n,errorMessage:i})=>[(0,o.bo)((0,o.bF)(d,(0,o.v6)(s,{modelValue:e.lastName,"onUpdate:modelValue":t[1]||(t[1]=t=>e.lastName=t),label:"lastName",placeholder:"lastName",icon:["fas","pencil"],"z-index-tooltip":8,error:n.touched&&0===a?i:"",onFocus:e.focusInput,onBlur:e.focusOutInput}),null,16,["modelValue","error","onFocus","onBlur"]),[[l.aG,0===a]])]),_:2},1024),(0,o.bF)(u,{name:"birthDate"},{default:(0,o.k6)(({field:s,meta:n,errorMessage:i})=>[(0,o.bo)((0,o.bF)(d,(0,o.v6)(s,{modelValue:e.birthDate,"onUpdate:modelValue":t[2]||(t[2]=t=>e.birthDate=t),label:"birthDate",placeholder:"birthDateMask",icon:["fas","birthday-cake"],"z-index-tooltip":8,error:n.touched&&0===a?i:"",onFocus:e.focusInput,onBlur:e.focusOutInput}),null,16,["modelValue","error","onFocus","onBlur"]),[[l.aG,0===a]])]),_:2},1024),(0,o.bF)(u,{name:"email"},{default:(0,o.k6)(({field:s,meta:n,errorMessage:i})=>[(0,o.bo)((0,o.bF)(d,(0,o.v6)(s,{modelValue:e.email,"onUpdate:modelValue":t[3]||(t[3]=t=>e.email=t),placeholder:"example@gmail.com",label:"email",icon:["fas","envelope"],"z-index-tooltip":8,error:n.touched&&1===a?i:"",type:"email",onFocus:e.focusInput,onBlur:e.focusOutInput}),null,16,["modelValue","error","onFocus","onBlur"]),[[l.aG,1===a]])]),_:2},1024),(0,o.bF)(u,{name:"password"},{default:(0,o.k6)(({field:s,meta:n,errorMessage:i})=>[(0,o.Lk)("div",Ic,[(0,o.bo)((0,o.bF)(d,(0,o.v6)(s,{modelValue:e.password,"onUpdate:modelValue":t[4]||(t[4]=t=>e.password=t),placeholder:"password",label:"password",type:e.typeInput,"z-index-tooltip":8,icon:["fas","lock"],error:n.touched&&1===a?i:"",onFocus:e.focusInput,onBlur:e.focusOutInput}),null,16,["modelValue","type","error","onFocus","onBlur"]),[[l.aG,1===a]]),(0,o.bo)((0,o.Lk)("div",{class:"icon-eye",onClick:t[5]||(t[5]=(...t)=>e.toggleEye&&e.toggleEye(...t))},[(0,o.bF)(p,{icon:e.eyeIcon},null,8,["icon"])],512),[[l.aG,1===a]])])]),_:2},1024),(0,o.bF)(u,{name:"confirmPassword"},{default:(0,o.k6)(({field:s,meta:n,errorMessage:i})=>[(0,o.Lk)("div",Lc,[(0,o.bo)((0,o.bF)(d,(0,o.v6)(s,{modelValue:e.confirmPassword,"onUpdate:modelValue":t[6]||(t[6]=t=>e.confirmPassword=t),placeholder:"password",label:"confirmPassword",type:e.typeInput,icon:["fas","lock"],"z-index-tooltip":8,error:n.touched&&1===a?i:"",onFocus:e.focusInput,onBlur:e.focusOutInput}),null,16,["modelValue","type","error","onFocus","onBlur"]),[[l.aG,1===a]]),(0,o.bo)((0,o.Lk)("div",{class:"icon-eye",onClick:t[7]||(t[7]=(...t)=>e.toggleEye&&e.toggleEye(...t))},[(0,o.bF)(p,{icon:e.eyeIcon},null,8,["icon"])],512),[[l.aG,1===a]])])]),_:2},1024)]),1===a?((0,o.uX)(),(0,o.Wv)(m,{key:0,loading:e.loading,type:"submit",title:"signUp"},null,8,["loading"])):(0,o.Q3)("",!0)]),_:2},1032,["validation-schema","onSubmit"])])]),_:1},8,["active-index","steps","clickable"])])])])}const Sc=["aria-orientation"],Bc=["id","aria-selected","aria-controls","disabled","onClick","onKeydown"],_c={class:"stepper__marker"},Mc={class:"stepper__index"},Tc={class:"stepper__content"},xc={class:"stepper__title"},Rc={key:0,class:"stepper__subtitle"},Pc=["id","aria-labelledby"];function Wc(e,t,a,l,s,n){return(0,o.uX)(),(0,o.CE)("div",{class:(0,c.C4)(["stepper",["stepper--"+e.orientation]]),role:"tablist","aria-orientation":e.orientation},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.steps,(t,a)=>((0,o.uX)(),(0,o.CE)(o.FK,{key:t.id??a},[(0,o.Lk)("button",{id:e.tabId(a),class:(0,c.C4)(["stepper__item",e.itemClass(a)]),role:"tab","aria-selected":a===e.internalIndex,"aria-controls":e.panelId(a),disabled:e.isStepDisabled(a),onClick:t=>e.onStepClick(a),onKeydown:t=>e.onKey(a,t)},[(0,o.Lk)("span",_c,[(0,o.RG)(e.$slots,"marker",{index:a,state:e.stateOf(a)},()=>[(0,o.Lk)("span",Mc,(0,c.v_)(a+1),1)],!0)]),(0,o.Lk)("span",Tc,[(0,o.RG)(e.$slots,"label",{index:a,state:e.stateOf(a)},()=>[(0,o.Lk)("div",xc,(0,c.v_)(e.t(t.title)),1),t.subtitle?((0,o.uX)(),(0,o.CE)("div",Rc,(0,c.v_)(e.t(t.subtitle)),1)):(0,o.Q3)("",!0)],!0)])],42,Bc),a<e.steps.length-1?((0,o.uX)(),(0,o.CE)("div",{key:0,class:(0,c.C4)(["stepper__connector",e.connectorClass(a)]),"aria-hidden":"true"},null,2)):(0,o.Q3)("",!0)],64))),128)),e.showPanel?((0,o.uX)(),(0,o.CE)("div",{key:0,id:e.panelId(e.internalIndex),class:"stepper__panel",role:"tabpanel","aria-labelledby":e.tabId(e.internalIndex)},[(0,o.RG)(e.$slots,"panel",{index:e.internalIndex,step:e.steps[e.internalIndex]},void 0,!0)],8,Pc)):(0,o.Q3)("",!0)],10,Sc)}var Xc=(0,o.pM)({name:"AppStepper",props:{steps:{type:Array,required:!0},activeIndex:{type:Number,default:0},orientation:{type:String,default:"horizontal"},linear:{type:Boolean,default:!1},clickable:{type:Boolean,default:!0},showPanel:{type:Boolean,default:!0}},emits:["update:activeIndex","change","next","prev"],setup(e,{emit:t,expose:a}){const{t:l}=(0,r.s9)(),s=(0,o.EW)(()=>e.orientation??"horizontal"),i=(0,o.EW)(()=>e.clickable??!0),c=(0,o.EW)(()=>e.linear??!1),d=(0,n.KR)(e.activeIndex??0);(0,o.wB)(()=>e.activeIndex,t=>{t>=0&&t<e.steps.length&&(d.value=t)});const u=(0,n.KR)(d.value),p=()=>!1,m=e=>e<d.value?"completed":e===d.value?"active":"pending",g=t=>[`is-${m(t)}`,e.steps[t]?.disabled?"is-disabled":""],v=e=>{const t=e<d.value;return[t?"is-completed":"is-pending",`connector--${s.value}`]},h=e=>{const a=d.value;e!==a&&(d.value=e,c.value&&(u.value=Math.max(u.value,e)),t("update:activeIndex",e),t("change",e,a))},f=e=>{i.value&&h(e)},b=()=>{const a=Math.min(e.steps.length-1,d.value+1);h(a),t("next",a)},k=()=>{const e=Math.max(0,d.value-1);h(e),t("prev",e)},y=t=>{const a=e.steps[t]?.id??t;return`stepper-tab-${a}`},C=t=>{const a=e.steps[t]?.id??t;return`stepper-panel-${a}`},E=(t,a)=>{if("Enter"===a.key||" "===a.key)return a.preventDefault(),void f(t);"horizontal"===s.value?"ArrowRight"===a.key?(a.preventDefault(),b()):"ArrowLeft"===a.key&&(a.preventDefault(),k()):"ArrowDown"===a.key?(a.preventDefault(),b()):"ArrowUp"===a.key&&(a.preventDefault(),k()),"Home"===a.key&&(a.preventDefault(),h(0)),"End"===a.key&&(a.preventDefault(),h(e.steps.length-1))};return a({next:b,prev:k,setActive:h}),{internalIndex:d,completedUntil:u,isStepDisabled:p,stateOf:m,itemClass:g,connectorClass:v,setActive:h,onStepClick:f,next:b,prev:k,tabId:y,panelId:C,onKey:E,t:l}}});const Kc=(0,h.A)(Xc,[["render",Wc],["__scopeId","data-v-07676be8"]]);var Oc=Kc;function Uc(e){if(!e||"string"!==typeof e)return null;const t=e.trim().match(/^(\d{1,2})[.\-/](\d{1,2})[.\-/](\d{4})$/);if(!t)return null;const a=Number(t[1]),l=Number(t[2]),o=Number(t[3]);if(o<1e3||o>9999)return null;if(l<1||l>12)return null;if(a<1||a>31)return null;const s=new Date(o,l-1,a);return Number.isNaN(s.getTime())||s.getFullYear()!==o||s.getMonth()+1!==l||s.getDate()!==a?null:s}var Vc=(0,o.pM)({components:{AppImageLogin:Ji,AppStepper:Oc,Field:Hi.D0,VForm:Hi.lV,AppInput:Ie,AppButton:Kt},setup(){const e=(0,n.KR)(0),{t:t}=(0,r.s9)(),a=[{id:"s2",title:"profile"},{id:"s3",title:"confirmation"}],l=(0,_.rd)(),s=(0,i.Pj)(),c=(0,n.KR)(""),d=(0,n.KR)(""),u=(0,n.KR)(""),p=(0,n.KR)(""),m=(0,n.KR)(""),g=(0,n.KR)(""),{typeInput:v,eyeIcon:h,toggleEye:f}=Zi(),b=new Map,k=(0,o.EW)(()=>s.getters["authFirebase/isLoading"]),y=(0,o.EW)(()=>s.getters["mobile/getDevice"]),C=Wa.Ik({firstName:Wa.Yj().required("validation.required"),lastName:Wa.Yj().required("validation.required"),birthDate:Wa.p6().transform((e,t)=>{if(!t)return null;const a=Uc(t);return a||new Date("invalid")}).typeError("validation.invalidDate").required("validation.required"),email:Wa.Yj().required("validation.required").email("validation.invalidEmail"),password:Wa.Yj().required("validation.required").min(6,{key:"validation.min",values:{count:6}}),confirmPassword:Wa.Yj().required("validation.required").oneOf([Wa.KR("password")],"validation.passwordsMatch")}),E=async e=>{try{await s.dispatch("authFirebase/register",{firstName:e.firstName,lastName:e.lastName,birthDate:Uc(e.birthDate),email:e.email,password:e.password,role:"USER"}),await l.push("/main")}catch(t){console.error(t)}},F=()=>{"ios"===y.value&&(cl().enable(),b.set("focus",!0))},w=()=>{"ios"===y.value&&(b.set("focus",!1),setTimeout(()=>{b.get("focus")||(cl().disable(),setTimeout(()=>window.scrollTo(0,0),50))},100))},A=(0,o.EW)(()=>""!==c.value.trim()&&""!==d.value.trim()&&""!==u.value.trim()&&null!==Uc(u.value));return{formGroup:C,onSubmit:E,email:p,password:m,loading:k,t:t,idx:e,steps:a,firstName:c,lastName:d,birthDate:u,confirmPassword:g,toggleEye:f,typeInput:v,eyeIcon:h,focusInput:F,focusOutInput:w,isNextStep:A}}});const Gc=(0,h.A)(Vc,[["render",Dc],["__scopeId","data-v-158c68dd"]]);var zc=Gc;const Qc={ref:"containerRef",class:"ai-container"},Hc={class:"ai-answers"},Nc={key:0,class:"ai-answers-area"},jc={class:"ai-answers-area"},$c={key:0,class:"answer-item-wrapper"},Yc={class:"image"},qc=["src"],Jc={key:1,class:"answer-item-wrapper"},Zc={class:"answer-item"},ed={key:2,class:"asked-item-wrapper"},td=["innerHTML"],ad={class:"ai-ask"},ld={class:"ai-ask-area"};function od(e,t,a,l,s,n){const i=(0,o.g2)("app-textarea");return(0,o.uX)(),(0,o.CE)("div",Qc,[(0,o.Lk)("section",Hc,[0===e.answers.length?((0,o.uX)(),(0,o.CE)("div",Nc,[(0,o.Lk)("h2",null,(0,c.v_)(e.t("greedyAI")),1)])):(0,o.Q3)("",!0),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.answers,e=>((0,o.uX)(),(0,o.CE)("section",{key:e.id},[(0,o.Lk)("div",jc,[e.url?((0,o.uX)(),(0,o.CE)("div",$c,[(0,o.Lk)("div",Yc,[(0,o.Lk)("img",{src:e.url,alt:"image"},null,8,qc)])])):(0,o.Q3)("",!0),e.ask?((0,o.uX)(),(0,o.CE)("div",Jc,[(0,o.Lk)("div",Zc,(0,c.v_)(e.ask),1)])):(0,o.Q3)("",!0),e.answerHtml?((0,o.uX)(),(0,o.CE)("div",ed,[(0,o.Lk)("div",{innerHTML:e.answerHtml},null,8,td)])):(0,o.Q3)("",!0)])]))),128))]),(0,o.Lk)("section",ad,[(0,o.Lk)("div",ld,[(0,o.bF)(i,{loader:e.loader,onApply:e.apply,onFocus:e.focusInput,onBlur:e.focusOutInput},null,8,["loader","onApply","onFocus","onBlur"])])])],512)}const sd={class:"textarea-wrapper"},nd={key:0,class:"image"},id=["src"],rd=["placeholder"],cd={class:"area-actions"},dd={class:"btn"};function ud(e,t,a,s,n,i){const r=(0,o.g2)("font-awesome-icon"),d=(0,o.g2)("app-file-uploader"),u=(0,o.g2)("app-button");return(0,o.uX)(),(0,o.CE)("div",sd,[(0,o.Lk)("section",{class:(0,c.C4)(["area-image",{fly:e.urlRef}])},[e.urlRef?((0,o.uX)(),(0,o.CE)("div",nd,[(0,o.Lk)("img",{src:e.urlRef,alt:"image"},null,8,id),(0,o.Lk)("div",{class:"icon",onClick:t[0]||(t[0]=(...t)=>e.clearImage&&e.clearImage(...t))},[(0,o.bF)(r,{size:"sm",icon:["fas","fa-times"]})])])):(0,o.Q3)("",!0)],2),(0,o.bo)((0,o.Lk)("textarea",{id:"textarea","onUpdate:modelValue":t[1]||(t[1]=t=>e.textareaRef=t),placeholder:e.t("writeSomething"),class:"textarea__field",onBlur:t[2]||(t[2]=(...t)=>e.handleBlur&&e.handleBlur(...t)),onFocus:t[3]||(t[3]=(...t)=>e.focus&&e.focus(...t))},null,40,rd),[[l.Jo,e.textareaRef]]),t[4]||(t[4]=(0,o.Lk)("span",{class:"focus-input100"},null,-1)),(0,o.Lk)("section",cd,[(0,o.bF)(d,{"is-show-sign":!1,"is-title":!1,onSelect:e.onFileSelected},null,8,["onSelect"]),(0,o.Lk)("div",dd,[(0,o.bF)(u,{severity:"secondary",icon:["fas","arrow-up"],raised:"",loading:e.loader,onClick:e.apply},null,8,["loading","onClick"])])])])}var pd=(0,o.pM)({components:{AppFileUploader:Ql,AppButton:Kt},props:{label:{type:String,default:""},loader:{type:Boolean,default:!1}},emits:["apply","focus","blur"],setup(e,{emit:t}){const{t:a}=(0,r.s9)(),l=(0,n.KR)(""),s=(0,n.KR)("");let i="";const c=async e=>{e&&(s.value=URL.createObjectURL(e),await d(e))},d=e=>new Promise((t,a)=>{const l=new FileReader;l.onload=()=>{const e=l.result;i=e.split(",")[1]},l.onerror=a,l.readAsDataURL(e)}),u=()=>{s.value=""},p=()=>{t("apply",{text:l.value,url:s.value,base64Data:i}),l.value="",s.value=""};(0,o.xo)(()=>{s.value&&URL.revokeObjectURL(s.value)});const m=()=>{t("focus")},g=()=>{t("blur")};return{textareaRef:l,onFileSelected:c,urlRef:s,clearImage:u,apply:p,t:a,focus:m,handleBlur:g}}});const md=(0,h.A)(pd,[["render",ud],["__scopeId","data-v-cc2b536a"]]);var gd=md,vd=a(357),hd=(0,o.pM)({components:{AppTextarea:gd},setup(){const e=(0,i.Pj)(),t=(0,n.KR)(null),a=(0,o.EW)(()=>e.getters["language/language"]),l=(0,n.KR)([]),s=(0,Qt.oc)(qt,{model:"gemini-2.5-flash-lite"}),c=(0,n.KR)(!1),{t:d}=(0,r.s9)(),u=(0,o.EW)(()=>e.getters["mobile/getDevice"]),p=(0,o.EW)(()=>"mobile"===e.getters["mobile/breakPoint"]),m=(0,n.KR)(!1),g=async e=>{c.value=!0;const n=Math.random();l.value=[...l.value,{id:n,ask:e.text,url:e.url,answerHtml:null}],await(0,o.dY)(),t.value&&(t.value.scrollTop=t.value.scrollHeight);const i="en"===a.value?`${e.text}. Answer in English`:`${e.text}. Ответь на русском`,r=e.base64Data?[i,{inlineData:{mimeType:"image/jpeg",data:e.base64Data}}]:[i],d=await s.generateContent(r),u=d.response.text(),p=vd.xI.parse(u),m=l.value.findIndex(e=>e.id===n);-1!==m&&(l.value[m]={...l.value[m],answerHtml:p}),await(0,o.dY)(),t.value&&(t.value.scrollTop=t.value.scrollTop+70),c.value=!1},v=()=>{"ios"===u.value&&(cl().enable(),m.value=!0)},h=()=>{"ios"===u.value&&setTimeout(()=>{cl().disable(),window.scrollTo(0,0),m.value=!1},50)},f=(0,o.EW)(()=>"ios"===u.value&&p.value&&m.value?"0 20px 0 20px":"ios"===u.value&&p.value&&!m.value?"0 20px 50px 20px":"");return(0,o.sV)(()=>{"ios"===u.value&&cl().enable()}),{apply:g,answers:l,containerRef:t,loader:c,t:d,focusInput:v,focusOutInput:h,device:u,isMobile:p,paddingAreaIos:f}}});const fd=(0,h.A)(hd,[["render",od],["__scopeId","data-v-475c20c6"]]);var bd=fd;const kd={class:"chroma-wrapper"},yd={class:"palette-fill"},Cd={class:"reminder"},Ed={class:"preview-row"},Fd={class:"btn-wrap"},wd={class:"btn"};function Ad(e,t,a,l,s,n){const i=(0,o.g2)("app-image-not-uploaded"),r=(0,o.g2)("app-image-color-picker"),d=(0,o.g2)("font-awesome-icon"),u=(0,o.g2)("app-palette-fill-card"),p=(0,o.g2)("app-button");return(0,o.uX)(),(0,o.CE)("div",kd,[(0,o.Lk)("div",{class:(0,c.C4)(["photo-picker",{hiddenOverflow:e.isHiddenOverflow}])},[e.imgEl?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(i,{key:0,onOnFileSelected:e.onFileSelected},null,8,["onOnFileSelected"])),e.imgEl?((0,o.uX)(),(0,o.Wv)(r,{key:1,ref:"imageColorPickerRef","image-element":e.imgEl,"is-show-section-info":!1,onSelectedHex:e.onSelectedHex,onIsHiddenOverflow:t[0]||(t[0]=t=>e.isHiddenOverflow=t),onImageUrlChanged:e.imageUrlChange},null,8,["image-element","onSelectedHex","onImageUrlChanged"])):(0,o.Q3)("",!0)],2),(0,o.Lk)("div",yd,[(0,o.Lk)("span",Cd,[(0,o.bF)(d,{size:"xl",icon:["fas","exclamation-triangle"]}),(0,o.eW)(" "+(0,c.v_)(e.t("reminderPickColor")),1)]),(0,o.Lk)("div",Ed,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.paletteCards,t=>((0,o.uX)(),(0,o.Wv)(u,{key:t.id,"selected-hex":t,"is-selected":e.selectedCard?.id===t?.id,onSelected:e.onSelectedCard},null,8,["selected-hex","is-selected","onSelected"]))),128))]),(0,o.Lk)("div",Fd,[(0,o.Lk)("div",wd,[(0,o.bF)(p,{title:"define",onClick:e.range},null,8,["onClick"])])])])])}a(8237);function Id(e,t,a,l,s,n){return(0,o.uX)(),(0,o.CE)("div",{class:(0,c.C4)([{cardSelected:e.isSelected},"preview"]),style:(0,c.Tr)({background:e.selectedHex.color}),"aria-hidden":"true",onClick:t[0]||(t[0]=(...t)=>e.selected&&e.selected(...t))},null,6)}var Ld=(0,o.pM)({props:{selectedHex:{type:Object,required:!0},isSelected:{type:Boolean,default:!1}},emits:["selected"],setup(e,{emit:t}){const a=()=>{t("selected",e.selectedHex)};return{selected:a}}});const Dd=(0,h.A)(Ld,[["render",Id],["__scopeId","data-v-b3ad5660"]]);var Sd=Dd;const Bd={ref:"modalRef",class:"modal-content neon"},_d={class:"wrapper"},Md={class:"canvas-item"},Td={class:"rating"},xd={class:"palette-wrap"},Rd={class:"buttons"},Pd={key:0,class:"see-more"};function Wd(e,t,a,l,s,n){const i=(0,o.g2)("app-modal-header"),r=(0,o.g2)("app-editor-canvas"),d=(0,o.g2)("app-palette"),u=(0,o.g2)("app-button");return(0,o.uX)(),(0,o.CE)("div",Bd,[(0,o.bF)(i,{title:e.t("top3"),onClose:e.close},null,8,["title","onClose"]),(0,o.Lk)("div",_d,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.results.slice(0,e.end),(t,a)=>((0,o.uX)(),(0,o.CE)("section",{key:t,class:"wrapper-item"},[(0,o.Lk)("div",Md,[(0,o.Lk)("span",Td,(0,c.v_)(a+1)+". "+(0,c.v_)(e.t(t.name)),1),(0,o.bF)(r,{ref_for:!0,ref:t=>e.editorCanvasRefs[a]=t,"image-url":e.imageUrl,segments:t.segments},null,8,["image-url","segments"])]),(0,o.Lk)("section",xd,[(0,o.bF)(d,{item:t,"palette-cards":e.paletteCards},null,8,["item","palette-cards"]),(0,o.Lk)("div",Rd,[(0,o.bF)(u,{severity:"success",title:"download",onClick:t=>e.saveToDevice(e.editorCanvasRefs[a])},null,8,["onClick"]),(0,o.bF)(u,{severity:"info",title:"addSign",onClick:l=>e.openImageModal(e.editorCanvasRefs[a],t.name)},null,8,["onClick"]),(0,o.bF)(u,{severity:"warning",title:"saveToGallery",loading:e.isSaveToGallery,onClick:l=>e.saveToGallery(e.editorCanvasRefs[a],t.name)},null,8,["loading","onClick"])])])]))),128)),3===e.end?((0,o.uX)(),(0,o.CE)("div",Pd,[(0,o.Lk)("a",{onClick:t[0]||(t[0]=t=>e.end=12)},(0,c.v_)(e.t("seeMore")),1)])):(0,o.Q3)("",!0)])],512)}var Xd=(0,o.pM)({components:{AppPalette:hc,AppButton:Kt,AppModalHeader:Ga,AppEditorCanvas:Io},props:{results:{type:Array,required:!0},imageUrl:{type:String,default:""},paletteCards:{type:Array,required:!0}},emits:["resolve","reject","close"],setup(e,{emit:t}){const{t:a}=(0,r.s9)(),l=(0,i.Pj)(),s=(0,n.KR)(3),c=(0,n.KR)([]),d=(0,n.KR)(!1),u=(0,o.EW)(()=>l.getters["authFirebase/currentUser"]),p=()=>{t("close")},m=e=>{e.triggerSaveImage()},g=async(t,a)=>{const l=t.getImageSrc();await F(xl,{url:l,coloristicType:"mask",currentUserId:u.value?.uid,canvas:t.getCanvasValue(),imageUrl:e.imageUrl,paletteType:a},{transparent:!0})},v=async(e,t)=>{d.value=!0;try{await l.dispatch("gallery/saveImageToGallery",{canvas:e.getCanvasValue(),title:"",coloristicType:"mask",maskType:"",paletteType:t,userId:u.value?.uid})}finally{d.value=!1}};return{close:p,t:a,saveToDevice:m,editorCanvasRefs:c,openImageModal:g,isSaveToGallery:d,saveToGallery:v,end:s}}});const Kd=(0,h.A)(Xd,[["render",Wd],["__scopeId","data-v-65c5bae9"]]);var Od=Kd,Ud=(0,o.pM)({components:{AppButton:Kt,AppPaletteFillCard:Sd,AppImageColorPicker:gi,AppImageNotUploaded:oi},setup(){const e=(0,n.KR)(null),{t:t}=(0,r.s9)(),a=(0,i.Pj)(),l=(0,n.KR)("#fff"),s=(0,n.KR)(null),c=(0,n.KR)(""),d=(0,n.KR)(!1),u=En.map(e=>({...e})),p=(0,n.KR)([...u]),m=(0,n.KR)(null),g={l:1,c:1,h:1.5},v={l:10,c:20,h:15},h=Fn;(0,o.KC)(()=>{k()});const f=e=>{e&&(c.value=URL.createObjectURL(e),y(c.value),k())},b=e=>{c.value=e,p.value=En.map(e=>({...e})),k()},k=()=>{const[e]=p.value;m.value=e},y=async e=>{const t=new Image;await new Promise((a,l)=>{t.onload=()=>a(),t.onerror=()=>l(new Error("Image load error")),t.src=e}),s.value=t},C=e=>{m.value=e},E=e=>{if(m.value){const t=p.value.findIndex(e=>e.id===m.value?.id);-1!==t&&(p.value[t].color=e)}},w=()=>{if(!c.value)return void a.dispatch("toast/addToast",{message:"uploadImage",severity:"warning"});const e=p.value.map(e=>e.color),t=Object.entries(h).map(([t,a])=>{const l=e.map(e=>{let t={hex:"",distance:1/0,hit:!1};for(const l of a){const a=I(e,l);a<t.distance&&(t={hex:l,distance:a,hit:L(e,l)})}return{source:e,closest:t.hex,distance:t.distance,hit:t.hit}}),o=l.reduce((e,t)=>e+t.distance,0)/Math.max(1,l.length),s=l.filter(e=>e.hit).length;return{name:t,score:o,hits:s,closestMap:l}}).sort((e,t)=>t.hits-e.hits||e.score-t.score).map(e=>({name:e.name,segments:h[e.name].map(e=>({color:e}))}));F(Od,{results:t,imageUrl:c.value,paletteCards:p.value})},A=(e,t)=>Math.abs((e-t+180)%360-180),I=(e,t)=>{const[a,l,o]=(0,jn.Ay)(e).lch(),[s,n,i]=(0,jn.Ay)(t).lch(),r=Math.abs(a-s),c=Math.abs(l-n),d=A(o,i);return g.l*r+g.c*c+g.h*d},L=(e,t)=>{const[a,l,o]=(0,jn.Ay)(e).lch(),[s,n,i]=(0,jn.Ay)(t).lch();return Math.abs(a-s)<=v.l&&Math.abs(l-n)<=v.c&&A(o,i)<=v.h};return{imgEl:s,selectedHex:l,onFileSelected:f,isHiddenOverflow:d,paletteCards:p,onSelectedCard:C,selectedCard:m,onSelectedHex:E,range:w,imageUrlChange:b,t:t,imageColorPickerRef:e}}});const Vd=(0,h.A)(Ud,[["render",Ad],["__scopeId","data-v-1685ba28"]]);var Gd=Vd;const zd=[{path:"/",name:"open",component:Pi,redirect:"/signIn",children:[{path:"home",name:"home",component:kc},{path:"signIn",name:"signIn",component:ar},{path:"signUp",name:"signUp",component:zc},{path:"forgot",name:"forgot",component:nr}]},{path:"/main",name:"main",component:rt,redirect:"/main/color",meta:{requiresAuth:!0},children:[{path:"color",name:"color",component:jo,meta:{requiresAuth:!0}},{path:"chroma",name:"chroma",component:fi,meta:{requiresAuth:!0}},{path:"palette",name:"palette",component:Gd,meta:{requiresAuth:!0}},{path:"ai-agent",name:"ai-agent",component:bd,meta:{requiresAuth:!0}},{path:"gallery",name:"gallery",component:Rn,meta:{requiresAuth:!0}}]}],Qd=(0,_.aE)({history:(0,_.Bt)("/RM_Rainbow-Manager/"),routes:zd});Qd.beforeEach((e,t,a)=>{const l=ns.getters["authFirebase/isAuthenticated"];e.matched.some(e=>e.meta.requiresAuth)?l?a():a({name:"signIn"}):"signIn"===e.name&&l?a({name:"color"}):a()});var Hd=Qd,Nd=a(8950),jd=a(2353),$d=a(292);const Yd={en:{login:"Sign in",email:"Email",password:"Password",confirmPassword:"Confirm password",firstName:"First name",lastName:"Last name",forgot:"Forgot",userName:"Username",incorrectLoginPassword:"Incorrect login or password",userNotFound:"User not found",validation:{required:"This field is required",email:"Invalid email address",min:"Minimum {count} characters",passwordsMatch:"The passwords did not match",invalidDate:"Invalid date"},masks:"Masks",typeMasks:"Type of masks",gallery:"Gallery",upload:"Upload",uploadImage:"Upload a photo",mask:"Mask",collage:"Collage",logout:"Logout",saveToGallery:"Save to gallery",download:"Download",addSign:"Add Sign",shareImageWithCollage:"Share image with collage",shareImageWithMask:"Share image with mask",rememberChoose:"Remember choose",successImage:"Photo saved to gallery",successUpdateFolder:"Update folder",errorImage:"Error image uploaded",addFolder:"Add folder",delete:"Delete",newFolder:"New folder",nameFolder:"name folder",choose:"Choose",chooseAll:"Choose all",edit:"Edit",cancel:"Cancel",ok:"Ок",search:"search",dywDelete:"Do you want delete 1 element?",dyrAllDeleted:"Do you really want to delete the selected items?",clear:"Clear",apply:"Apply",folder:"Folder",total:"Total",photo:"Photo",update:"Update",copyLink:"Copy link",noName:"No name",pickPhoto:"Pick a photo",successFolderCreate:"Create folder",successDeleteFolder:"Delete folder",successDeleteImage:"Delete image",successDeleteImages:"Delete images",successUpdateImage:"Update image",unknownError:"Unknown error",takePhoto:"Take a photo",characteristicColor:"Colors",photoNotUploaded:"Photo not uploaded",combinations:"Combinations",scale:"Scale",home:"Home",signUp:"Sign up",birthDate:"Date of birth",birthDateMask:"DD.MM.YYYY",emailExists:"Email already exists!",profile:"Profile",confirmation:"Confirmation",writeSomething:"Write something.....",aiAgent:"AI agent",greedyAI:"Hello, I’d be glad to help you with any question! Would you like me to identify the colors in a photo? Just upload it and I’ll assist you.",reminderPickColor:"For a more accurate palette definition, please fill in all the squares with colors!",palette:"Palette",define:"Define",top3:"Top 3 possible palettes",softSummerPalette:"Soft Summer — soft and cool palette",darkAutumnPalette:"Dark Autumn — warm and dark palette",coolSummerPalette:"Cool Summer — cool and soft palette",lightSpringPalette:"Light Spring — light and warm palette",softAutumnPalette:"Soft Autumn — soft and warm palette",brightSpringPalette:"Bright Spring — bright and warm palette",warmSpringPalette:"Warm Spring — warm and bright palette",darkWinterPalette:"Dark Winter — dark and cool palette",lightSummerPalette:"Light Summer — light and cool palette",warmAutumnPalette:"Warm Autumn — warm and soft palette",coldWinterPalette:"Cold Winter — cool and bright palette",brightWinterPalette:"Bright Winter — bright and cool palette",softSummerPaletteShort:"Soft Summer",darkAutumnPaletteShort:"Dark Autumn",coolSummerPaletteShort:"Cool Summer",lightSpringPaletteShort:"Light Spring",softAutumnPaletteShort:"Soft Autumn",brightSpringPaletteShort:"Bright Spring",warmSpringPaletteShort:"Warm Spring",darkWinterPaletteShort:"Dark Winter",lightSummerPaletteShort:"Light Summer",warmAutumnPaletteShort:"Warm Autumn",coldWinterPaletteShort:"Cold Winter",brightWinterPaletteShort:"Bright Winter",cold:"Cold",warm:"Warm",dark:"Dark",light:"Light",mute:"Mute",bright:"Bright",seeMore:"See more",welcomeText:"Welcome to Your Personal Color Guide",welcomeSubText:"Discover your unique color harmony through smart analysis, intuitive tools, and personalized visuals.",whoIsThisAppFor:"Who Is This App For?",discoverColorText:"Discover how this app empowers your color journey.",individualReadyText:"Individuals ready to unlock the power of color in their personal style journey.",fashionLoversText:"Fashion lovers seeking clarity and confidence in every outfit choice.",designersCravingText:"Designers craving palettes that spark creativity and harmony.",curiosMindText:"Curious minds exploring the science and emotion behind color aesthetics.",getStarted:"Start Your Color Journey",instantFramedPhotos:"Instant Framed Photos",capturePhotoText:"Capture photos directly with elegant frames. Save to your gallery with custom folder and caption options",paletteExplorerText:"Palette Explorer",selectAnyColorsText:"Pick up any color from your photo.",optionalColorChromaText:"Get optimal matching colors using Chroma.js.",buildPaletteText:"Build your best palette from five selected tones.",askQuestionAiText:"Ask questions, get guidance, and explore seasonal palettes.",learnPreferColorText:"Learn which color types suit your undertones and preferences.",afterAllText:"After all, you can talk to him about absolutely anything.",yourGallery:"Your Gallery",organizeGalleryText:"Organize, explore, and relive your memories with ease.",allYourPhotoText:"All your saved photos in one place",searchGalleryText:"Search and filter by palette type, masks, or folders",storedText:"Stored securely via Firebase"},ru:{login:"Вход",email:"Почта",password:"Пароль",confirmPassword:"Повторите пароль",firstName:"Имя",lastName:"Фамилия",forgot:"Забыли",userName:"Имя пользователя",incorrectLoginPassword:"Неверный логин или пароль",userNotFound:"Пользователь не найден",validation:{required:"Поле обязательно",email:"Некорректный email",min:"Минимум {count} символов",passwordsMatch:"Пароли не совпали",invalidDate:"Неверный формат"},masks:"Маски",gallery:"Галерея",upload:"Загрузить",uploadImage:"Загрузите фотографию",mask:"Маска",collage:"Коллаж",logout:"Выйти",saveToGallery:"Сохранить в галерею",download:"Скачать",addSign:"Добавить подпись",shareImageWithCollage:"Показывать в коллаже",shareImageWithMask:"Показывать в маске",rememberChoose:"Запомнить",successImage:"Фото сохранено в галерею",errorImage:"Ошибка при загрузке изображения",addFolder:"Добавить папку",delete:"Удалить",newFolder:"Новая папка",choose:"Выбрать",chooseAll:"Выбрать все",edit:"Исправить",cancel:"Отменить",ok:"Ок",search:"поиск",nameFolder:"название папки",dywDelete:"Удалить 1 элемент?",dyrAllDeleted:"Вы уверены, что хотите удалить выбранные элементы?",clear:"Очистить",apply:"Применить",folder:"Папка",total:"Всего",photo:"Фото",update:"Обновить",copyLink:"Скопировать ссылку",noName:"Без названия",pickPhoto:"Выберите фото",successFolderCreate:"Папка добавлена",successDeleteFolder:"Папка удалена",successUpdateFolder:"Папка обновлена",successDeleteImage:"Фотография удалена",successDeleteImages:"Фотографии удалены",successUpdateImage:"Фотография обновлена",unknownError:"Неизвестная ошибка",takePhoto:"Фото",characteristicColor:"Цвета",photoNotUploaded:"Фото не загружено",combinations:"Сочетание",scale:"Шкала",home:"Главная",signUp:"Регистрация",birthDate:"Дата рождения",birthDateMask:"DD.MM.YYYY",emailExists:"Такой email уже существует!",profile:"Профиль",confirmation:"Подтверждение",writeSomething:"Напишите что-нибудь.....",typeMasks:"Вид масок",aiAgent:"ИИ агент",greedyAI:"Привет, буду рад тебе помочь с любым вопросом! Хочешь определим цвета в фотографии? Просто загрузи ее и я помогу!",reminderPickColor:"Для более точного определения палитры заполните все квадраты цветом!",palette:"Палитра",define:"Определить",top3:"Топ 3 вероятных палитры",softSummerPalette:"Мягкое лето — мягкий и холодный колорит",darkAutumnPalette:"Тёмная осень — тёплый и тёмный колорит",coolSummerPalette:"Холодное лето — холодный и мягкий колорит",lightSpringPalette:"Светлая весна — светлый и тёплый колорит",softAutumnPalette:"Мягкая осень — мягкий и тёплый колорит",brightSpringPalette:"Яркая весна — яркий и тёплый колорит",warmSpringPalette:"Тёплая весна — тёплый и яркий колорит",darkWinterPalette:"Тёмная зима — тёмный и холодный колорит",lightSummerPalette:"Светлое лето — светлый и холодный колорит",warmAutumnPalette:"Тёплая осень — тёплый и мягкий колорит",coldWinterPalette:"Холодная зима — холодный и яркий колорит",brightWinterPalette:"Яркая зима — яркий и холодный колорит",softSummerPaletteShort:"Мягкое лето",darkAutumnPaletteShort:"Тёмная осень",coolSummerPaletteShort:"Холодное лето",lightSpringPaletteShort:"Светлая весна",softAutumnPaletteShort:"Мягкая осень",brightSpringPaletteShort:"Яркая весна",warmSpringPaletteShort:"Тёплая весна",darkWinterPaletteShort:"Тёмная зима",lightSummerPaletteShort:"Светлое лето",warmAutumnPaletteShort:"Тёплая осень",coldWinterPaletteShort:"Холодная зима",brightWinterPaletteShort:"Яркая зима",cold:"Холодный",warm:"Теплый",dark:"Темный",light:"Светлый",mute:"Мягкий",bright:"Яркий",seeMore:"Ещё",welcomeText:"Добро пожаловать в ваш персональный цветовой гид!",welcomeSubText:"Откройте для себя уникальную цветовую гармонию с помощью интеллектуального анализа, интуитивно понятных инструментов и персонализированных визуализаций.",whoIsThisAppFor:"Для кого это приложение?",discoverColorText:"Узнайте, как это приложение поможет вам в вашем путешествии по миру цвета.",individualReadyText:"Для тех, кто готов раскрыть потенциал цвета в своем личном стиле.",fashionLoversText:"Любители моды, стремящиеся к ясности и уверенности в каждом выборе наряда.",designersCravingText:"Дизайнеры стремящиеся к цветовым палитрам, которые пробуждают творчество и гармонию.",curiosMindText:"Любознательные умы изучающие научные и эмоциональные аспекты эстетики цвета.",getStarted:"Начните цветовое путешествие",instantFramedPhotos:"Фотографии в рамках",capturePhotoText:"Делайте снимки прямо в элегантных рамках. Сохраняйте фотографии в галерею, используя настраиваемые папки и параметры подписи",paletteExplorerText:"Палитра",selectAnyColorsText:"Выберите любой цвет с вашей фотографии.",optionalColorChromaText:"Получите оптимальное соответствие цветов с помощью Chroma.js.",buildPaletteText:"Создайте свою оптимальную палитру из пяти выбранных оттенков.",askQuestionAiText:"Задавайте вопросы, получайте рекомендации и изучайте сезонные цветовые решения.",learnPreferColorText:"Узнайте, какие оттенки кожи подходят именно вам и вашим предпочтениям.",afterAllText:"В конце концов с ним можно обсудить любую тему.",yourGallery:"Твоя галерея",organizeGalleryText:"С легкостью систематизируйте, изучайте и переживайте заново свои воспоминания.",allYourPhotoText:"Все ваши сохраненные фотографии в одном месте.",searchGalleryText:"Поиск и фильтрация по типу палитры, маскам или папкам.",storedText:"Надежное хранение данных осуществляется через Firebase"}},qd=(0,r.hU)({locale:"en",fallbackLocale:"ru",messages:Yd});Nd.Yv.add(jd.MjD,jd.mRM,jd.SGM,jd.s0Q,jd.iW_,jd.zpE,jd.DW4,jd.M9Z,jd.y_8,jd.N72,jd.U23,jd.hSh,jd.QLR,jd.EZy,jd.yBu,jd.CeG,jd.dmS,jd.S7o,jd.yvG,jd.nx5,jd.vHW,jd.m1c,jd.zLW,jd.GRI,jd.s0Q,jd.yLS,jd.KIu,jd.ao0,jd.jPR,jd.CQO,jd.pyI,jd.e68,jd.Tsj,jd.t5Z,jd.dB,jd.BH7,jd._$s,jd.cbP,jd.rwq,jd.jC5,jd.Kh_,jd.dbg,jd.nWR,jd.v02,jd.RUt,jd.pS3,jd.k6j,jd.YSV,jd.INu,jd.fyG,jd.zpE),(0,Gt.hg)(jt,e=>{ns.commit("authFirebase/setUser",e)}),(0,l.Ef)(B).use(ns).use(Hd).use(qd).component("font-awesome-icon",$d.gc).mount("#app")},2823:function(e,t,a){"use strict";e.exports=a.p+"img/rainbow-folder.e49409a1.png"},3213:function(e,t,a){"use strict";e.exports=a.p+"img/buba-c-6.67ac0ca5.png"},4156:function(e,t,a){var l={"./buba-0.png":231,"./buba-1.png":6590,"./buba-2.png":9013,"./buba-3.png":1500,"./buba-4.png":1459,"./buba-5.png":698,"./buba-6.png":9681,"./buba-c-0.png":651,"./buba-c-1.png":1650,"./buba-c-10.png":72,"./buba-c-11.png":4289,"./buba-c-2.png":6793,"./buba-c-3.png":5616,"./buba-c-4.png":623,"./buba-c-5.png":2534,"./buba-c-6.png":3213,"./buba-c-7.png":708,"./buba-c-8.png":931,"./buba-c-9.png":9354};function o(e){var t=s(e);return a(t)}function s(e){if(!a.o(l,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return l[e]}o.keys=function(){return Object.keys(l)},o.resolve=s,e.exports=o,o.id=4156},4289:function(e,t,a){"use strict";e.exports=a.p+"img/buba-c-11.557d8b47.png"},5306:function(e,t,a){var l={"./buba-c-0.png":651,"./buba-c-1.png":1650,"./buba-c-10.png":72,"./buba-c-11.png":4289,"./buba-c-2.png":6793,"./buba-c-3.png":5616,"./buba-c-4.png":623,"./buba-c-5.png":2534,"./buba-c-6.png":3213,"./buba-c-7.png":708,"./buba-c-8.png":931,"./buba-c-9.png":9354};function o(e){var t=s(e);return a(t)}function s(e){if(!a.o(l,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return l[e]}o.keys=function(){return Object.keys(l)},o.resolve=s,e.exports=o,o.id=5306},5616:function(e,t,a){"use strict";e.exports=a.p+"img/buba-c-3.a7358301.png"},6590:function(e,t,a){"use strict";e.exports=a.p+"img/buba-1.6b524075.png"},6793:function(e,t,a){"use strict";e.exports=a.p+"img/buba-c-2.107e1f06.png"},9013:function(e,t,a){"use strict";e.exports=a.p+"img/buba-2.d9cd22c9.png"},9354:function(e,t,a){"use strict";e.exports=a.p+"img/buba-c-9.906bbb3d.png"},9681:function(e,t,a){"use strict";e.exports=a.p+"img/buba-6.259ea03b.png"}},t={};function a(l){var o=t[l];if(void 0!==o)return o.exports;var s=t[l]={exports:{}};return e[l].call(s.exports,s,s.exports,a),s.exports}a.m=e,function(){var e=[];a.O=function(t,l,o,s){if(!l){var n=1/0;for(d=0;d<e.length;d++){l=e[d][0],o=e[d][1],s=e[d][2];for(var i=!0,r=0;r<l.length;r++)(!1&s||n>=s)&&Object.keys(a.O).every(function(e){return a.O[e](l[r])})?l.splice(r--,1):(i=!1,s<n&&(n=s));if(i){e.splice(d--,1);var c=o();void 0!==c&&(t=c)}}return t}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[l,o,s]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.p="/RM_Rainbow-Manager/"}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,l){var o,s,n=l[0],i=l[1],r=l[2],c=0;if(n.some(function(t){return 0!==e[t]})){for(o in i)a.o(i,o)&&(a.m[o]=i[o]);if(r)var d=r(a)}for(t&&t(l);c<n.length;c++)s=n[c],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(d)},l=self["webpackChunkvue_exeample"]=self["webpackChunkvue_exeample"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=a.O(void 0,[504],function(){return a(2541)});l=a.O(l)})();
//# sourceMappingURL=app.dc25f994.js.map